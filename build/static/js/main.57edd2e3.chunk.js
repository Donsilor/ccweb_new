(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1035:function(e,t,a){},107:function(e,t,a){e.exports={table:"style_table__2hKsv",tit:"style_tit__4QIVE",titItem:"style_titItem__3iFev",center:"style_center__1lVvx"}},108:function(e,t,a){e.exports={conBar:"style_conBar__2fhOe",conflex:"style_conflex__3st2z",radioGroup:"style_radioGroup__1x0C-",conitem:"style_conitem__2SuqJ",tit:"style_tit__2C_ED",outFlex:"style_outFlex__3rrIa"}},1263:function(e,t,a){e.exports={ledger:"style_ledger__3ZC1Q"}},139:function(e,t,a){e.exports={action:"style_action__-ZN4Q",warning:"style_warning__1gGnJ"}},1434:function(e,t){},1435:function(e,t){},1438:function(e,t,a){},147:function(e,t,a){e.exports={tableListForm:"style_tableListForm__3fovj",submitButtons:"style_submitButtons__1RN6U"}},150:function(e,t,a){e.exports={searchArea:"style_searchArea__3MG5j",transforming:"style_transforming__20f1R",jumpToResult:"style_jumpToResult__1r4sh",transformed:"style_transformed__1u2Fm",searchButton:"style_searchButton__3Sgon",errMsg:"style_errMsg__2RCK7",clearAll:"style_clearAll__2YbDV",inputAnimation:"style_inputAnimation__syOvj"}},170:function(e,t,a){e.exports={error:"style_error__1lyou",imageWrapper:"style_imageWrapper__3PKAS",image:"style_image__1bfb2",content:"style_content__IbGRz"}},173:function(e,t,a){e.exports={infoWrapper:"style_infoWrapper__1ZLS1",infoCard:"style_infoCard__3lJm5",active:"style_active__lMkWs",hideNav:"style_hideNav__XyZQQ",infoCardDiv:"style_infoCardDiv__3StCY"}},1765:function(e,t,a){},1767:function(e,t,a){},1772:function(e,t,a){},1774:function(e,t,a){},1786:function(e,t,a){"use strict";a.r(t);a(786);var n,r=a(782),i=a(0),o=a.n(i),l=a(36),c=a.n(l),s=(a(793),a(969),a(5)),d=a(6),u=a(9),p=a(7),m=a(8),h=a(13),g=a(1792),f=a(1794),b=a(1262),E=a(2),y=a(52),v=(a(441),a(232)),O=(a(978),a(779)),S=(a(32),a(4)),I=a(119),C=a(1789),_={primaryAudit:{list:"",detail:"\u67e5\u770b\u4e8c\u7f51\u5ba1\u6279\u4fe1\u606f"},lastAudit:{list:"",detail:"\u67e5\u770b\u4e8c\u7f51\u5ba1\u6279\u4fe1\u606f"},spotException:{list:"",detail:"\u67e5\u770b\u62bd\u67e5\u5f02\u5e38\u8ddf\u8e2a\u4fe1\u606f"},repositoryList:{detail:"\u5f71\u50cf\u660e\u7ec6",train:"\u6a21\u578b\u8bad\u7ec3"}},T={list:[{id:"todo",name:"\u5f85\u5ba1\u6838",link:"todo",parentId:"commonTask,movingTask,certificateTask"},{id:"done",name:"\u5df2\u5ba1\u6838",link:"done",parentId:"commonTask,movingTask,certificateTask"},{id:"todoList",name:"\u5f85\u5ba1\u6838\u5217\u8868",link:"todoList",parentId:"primaryAudit, lastAudit"},{id:"expList",name:"\u5f02\u5e38\u4efb\u52a1\u5217\u8868",link:"expList",parentId:"primaryAudit, lastAudit"},{id:"todoListForDistr",name:"\u7ecf\u9500\u5546\u786e\u8ba4",link:"todoListForDistr",parentId:"primaryAudit"},{id:"totalList",name:"\u5168\u90e8\u4efb\u52a1\u5217\u8868",link:"totalList",parentId:"primaryAudit, lastAudit"},{id:"todo",name:"\u8fdb\u884c\u4e2d",link:"todo",parentId:"spotException, movingException"},{id:"done",name:"\u5df2\u5b8c\u6210",link:"done",parentId:"spotException, movingException"},{id:"spotTask",name:"\u62bd\u67e5\u4efb\u52a1",link:"spotTask",parentId:"spottestAudit, spottestAuditLedger"},{id:"moveTask",name:"\u79fb\u52a8\u4efb\u52a1",link:"moveTask",parentId:"spottestAudit, spottestAuditLedger"},{id:"timeOut",name:"\u8d85\u65f6\u5f85\u8865\u62cd\u4efb\u52a1",link:"timeOut",parentId:"spottestAudit, spottestAuditLedger"},{id:"todoComplete",name:"\u5df2\u5ba1\u6838",link:"todoComplete",parentId:"spottestAudit, spottestAuditLedger"},{id:"todoOrderList",name:"\u5f85\u4ed8\u6b3e",link:"todoOrderList",parentId:"orderManagement"},{id:"doneOrderList",name:"\u5df2\u4ed8\u6b3e",link:"doneOrderList",parentId:"orderManagement"},{id:"goneOrderList",name:"\u5df2\u5931\u6548",link:"goneOrderList",parentId:"orderManagement"},{id:"todoInvoiceList",name:"\u5f85\u5f00\u7968",link:"todoInvoiceList",parentId:"invoiceManagement"},{id:"doneInvoiceList",name:"\u5df2\u5f00\u7968",link:"doneInvoiceList",parentId:"invoiceManagement"},{id:"dealerAmount",name:"\u7ecf\u9500\u5546",link:"dealerAmount",parentId:"superviseAmount"},{id:"vehicleAmount",name:"\u8f66\u8f86",link:"vehicleAmount",parentId:"superviseAmount"}],detail:[{id:"authInfo",name:"\u5ba1\u6838\u4fe1\u606f",link:"authInfo",parentId:"primaryAudit, lastAudit"},{id:"bondHistory",name:"\u4fdd\u8bc1\u91d1\u5386\u53f2",link:"bondHistory",parentId:"primaryAudit, lastAudit"},{id:"distributorInfo",name:"\u7ecf\u9500\u5546\u4fe1\u606f",link:"distributorInfo",parentId:"primaryAudit, lastAudit"},{id:"ewInfo",name:"\u4e8c\u7f51\u4fe1\u606f",link:"ewInfo",parentId:"primaryAudit, lastAudit"},{id:"expressInfo",name:"\u7269\u6d41\u4fe1\u606f",link:"expressInfo",parentId:"primaryAudit, lastAudit"},{id:"trackRecord",name:"\u8ddf\u8e2a\u8bb0\u5f55",link:"trackRecord",parentId:"primaryAudit, lastAudit"},{id:"authHistory",name:"\u5386\u53f2\u5ba1\u6838",link:"authHistory",parentId:"primaryAudit, lastAudit"},{id:"excepRecord",name:"\u5f02\u5e38\u8bb0\u5f55",link:"excepRecord",parentId:"primaryAudit, lastAudit"},{id:"operation",name:"\u64cd\u4f5c\u65e5\u5fd7",link:"operation",parentId:"primaryAudit, lastAudit"},{id:"carInfo",name:"\u8f66\u8f86\u4fe1\u606f",link:"carInfo",parentId:"spottestAudit, spottestAuditLedger"}],printManagement:[{id:"initialTransferIn",name:"\u521d\u59cb\u8f6c\u5165",link:"initialTransferIn",parentId:"printManagement"},{id:"supplementaryTransferIn",name:"\u8ffd\u52a0\u8f6c\u5165",link:"supplementaryTransferIn",parentId:"printManagement"},{id:"currentInit",name:"\u6d3b\u671f\u521d\u59cb",link:"currentInit",parentId:"printManagement"},{id:"currentSupplement",name:"\u6d3b\u671f\u8ffd\u52a0",link:"currentSupplement",parentId:"printManagement"},{id:"transferOut",name:"\u8f6c\u51fa",link:"transferOut",parentId:"printManagement"},{id:"transferOutHis",name:"\u5bfc\u51fa\u5386\u53f2",link:"transferOutHis",parentId:"printManagement"}],result:[{id:"carInfo",name:"\u8f66\u8f86\u4fe1\u606f",link:"carInfo",parentId:"carSearchEngine"},{id:"carTrail",name:"\u8f66\u8f86\u8f68\u8ff9",link:"carTrail",parentId:"carSearchEngine"},{id:"currentTask",name:"\u8fdb\u884c\u4e2d\u7684\u4efb\u52a1",link:"currentTask",parentId:"carSearchEngine"},{id:"taskHistory",name:"\u62bd\u67e5\u5386\u53f2",link:"taskHistory",parentId:"carSearchEngine"},{id:"changeRecord",name:"\u53d8\u66f4\u8bb0\u5f55",link:"changeRecord",parentId:"carSearchEngine"}],confirmReceiptList:[{id:"todo",name:"\u5f85\u786e\u8ba4\u56de\u6267",link:"todo",parentId:"confirmReceiptList"},{id:"all",name:"\u5168\u90e8\u4efb\u52a1",link:"all",parentId:"confirmReceiptList"}],repoAuditFirst:[{id:"todo",name:"\u5f85\u5ba1\u6838",link:"todo",parentId:"repoAuditFirst"},{id:"all",name:"\u5ba1\u6838\u5386\u53f2",link:"all",parentId:"repoAuditFirst"}],repoAuditLast:[{id:"todo",name:"\u5f85\u5ba1\u6838",link:"todo",parentId:"repoAuditLast"},{id:"all",name:"\u5ba1\u6838\u5386\u53f2",link:"all",parentId:"repoAuditLast"}],taskSummary:[{id:"platformManager",name:"\u5e73\u53f0\u62bd\u67e5\u5458",link:"platformManager",parentId:"taskSummary"},{id:"riskManager",name:"\u98ce\u63a7\u4e13\u5458",link:"riskManager",parentId:"taskSummary"},{id:"customerManager",name:"\u5ba2\u6237\u7ecf\u7406",link:"customerManager",parentId:"taskSummary"}],repositoryWarning:[{id:"todo",name:"\u672a\u89e3\u9664",link:"todo",parentId:"repositoryWarning"},{id:"gone",name:"\u5df2\u89e3\u9664",link:"gone",parentId:"repositoryWarning"}],soldConfirm:[{id:"todo",name:"\u5f85\u786e\u8ba4",link:"todo",parentId:"soldConfirm"},{id:"gone",name:"\u5df2\u786e\u8ba4",link:"gone",parentId:"soldConfirm"}],selfCarMgPage:[{id:"reserved",name:"\u81ea\u6709\u8f66",link:"reserved",parentId:"selfCarMgPage"},{id:"removed",name:"\u5220\u9664\u5386\u53f2",link:"removed",parentId:"selfCarMgPage"}],regionalism:[{id:"smallMang",name:"\u5c0f\u533a\u7ba1\u7406",link:"smallMang",parentId:"regionalism"},{id:"bigMang",name:"\u5927\u533a\u7ba1\u7406",link:"bigMang",parentId:"regionalism"}],excUploadAll:[{id:"uploadAll",name:"\u5bfc\u5165",link:"uploadAll",parentId:"excUploadAll"},{id:"uploadAllList",name:"\u5bfc\u5165\u8bb0\u5f55",link:"uploadAllList",parentId:"excUploadAll"}],excUploadAdd:[{id:"add",name:"\u65b0\u589e\u660e\u7ec6\u5bfc\u5165",link:"add",parentId:"excUploadAdd"},{id:"sell",name:"\u51fa\u552e\u660e\u7ec6\u5bfc\u5165",link:"sell",parentId:"excUploadAdd"},{id:"list",name:"\u5bfc\u5165\u8bb0\u5f55",link:"list",parentId:"excUploadAdd"}],carPhoTemp:[{id:"newCar",name:"\u65b0\u8f66",link:"newCar",parentId:"carPhoTemp"},{id:"esCar",name:"\u4e8c\u624b\u8f66",link:"esCar",parentId:"carPhoTemp"}],exceSetting:[{id:"car",name:"\u62bd\u67e5",link:"car",parentId:"exceSetting"},{id:"move",name:"\u79fb\u52a8",link:"move",parentId:"exceSetting"},{id:"plate",name:"\u76d8\u8bc1\u62bd\u67e5",link:"plate",parentId:"exceSetting"}],standMang:[{id:"car",name:"\u62bd\u67e5\u4efb\u52a1",link:"car",parentId:"standMang"},{id:"plate",name:"\u76d8\u8bc1\u4efb\u52a1",link:"plate",parentId:"standMang"}],credPhoTemp:[{id:"newCar",name:"\u65b0\u8f66",link:"newCar",parentId:"credPhoTemp"},{id:"esCar",name:"\u4e8c\u624b\u8f66",link:"esCar",parentId:"credPhoTemp"}],storeManagement:[{id:"distributor",name:"\u7ecf\u9500\u5546\u5fae\u5e97",link:"distributor",parentId:"storeManagement"},{id:"ew",name:"\u4e8c\u7f51\u5fae\u5e97",link:"ew",parentId:"storeManagement"}]},A=[{id:"ewManagement",name:"\u4e8c\u7f51\u7ba1\u7406",link:"ewManagement",icon:"team",subMenu:[{id:"primaryAudit",name:"\u4e8c\u7f51\u521d\u5ba1",link:"primaryAudit",parentId:"ewManagement"},{id:"lastAudit",name:"\u4e8c\u7f51\u590d\u5ba1",link:"lastAudit",parentId:"ewManagement"}]},{id:"bondManagement",name:"\u4fdd\u8bc1\u91d1\u7ba1\u7406",link:"bondManagement",icon:"pay-circle",subMenu:[{id:"transferIn",name:"\u8f6c\u5165\u5ba1\u6279\u8868",link:"transferIn",parentId:"bondManagement"},{id:"transferOut",name:"\u8f6c\u51fa\u5ba1\u6279\u8868",link:"transferOut",parentId:"bondManagement"},{id:"printManagement",name:"\u4fdd\u8bc1\u91d1\u6253\u5370\u7ba1\u7406",link:"printManagement",parentId:"bondManagement"},{id:"confirmReceiptList",name:"\u786e\u8ba4\u56de\u6267\u5217\u8868",link:"confirmReceiptList",parentId:"bondManagement"}]},{id:"ledgerManagement",name:"\u53f0\u8d26\u7ba1\u7406",link:"ledgerManagement",icon:"form",subMenu:[{id:"ewDetail",name:"\u4e8c\u7f51\u660e\u7ec6\u53f0\u8d26",link:"ewDetail",parentId:"ledgerManagement"},{id:"disBond",name:"\u7ecf\u9500\u5546\u4fdd\u8bc1\u91d1\u6c47\u603b\u53f0\u8d26",link:"disBond",parentId:"ledgerManagement"},{id:"ewBond",name:"\u4e8c\u7f51\u4fdd\u8bc1\u91d1\u6c47\u603b\u53f0\u8d26",link:"ewBond",parentId:"ledgerManagement"},{id:"bondDetail",name:"\u4e8c\u7f51\u4fdd\u8bc1\u91d1\u660e\u7ec6\u53f0\u8d26",link:"bondDetail",parentId:"ledgerManagement"},{id:"ewOnlineList",name:"\u4e8c\u7f51\u4e0a\u7ebf\u60c5\u51b5\u6c47\u603b",link:"ewOnlineList",parentId:"ledgerManagement"},{id:"ewOnlineDetail",name:"\u4e8c\u7f51\u4e0a\u7ebf\u60c5\u51b5\u660e\u7ec6",link:"ewOnlineDetail",parentId:"ledgerManagement"},{id:"taskSummary",name:"\u4efb\u52a1\u7edf\u8ba1",link:"taskSummary",parentId:"ledgerManagement"},{id:"\u53f0\u8d26\u7ba1\u7406",name:"\u62bd\u67e5\u4efb\u52a1\u7ba1\u7406\u53f0\u8d26",link:"spottestAuditLedger",parentId:"ledgerManagement"},{id:"spotMove",name:"\u62bd\u67e5\uff0f\u79fb\u52a8\u60c5\u51b5\u7edf\u8ba1\u8868",link:"spotMove",parentId:"ledgerManagement"}]},{id:"carManagement",name:"\u8f66\u8f86\u7ba1\u7406",link:"carManagement",icon:"car",subMenu:[{id:"carSearchEngine",name:"\u5de5\u4f5c\u53f0",link:"carSearchEngine",parentId:"carManagement"},{id:"spottestAudit",name:"\u62bd\u67e5\u4efb\u52a1\u7ba1\u7406",link:"spottestAudit",parentId:"carManagement"},{id:"spotEwBlack",name:"\u81ea\u52a8\u5ba1\u6838\u9ed1\u540d\u5355",link:"spotEwBlack",parentId:"carManagement"},{id:"antiCheat",name:"\u9632\u4f5c\u5f0a\u68c0\u67e5",link:"antiCheat",parentId:"carManagement"}]},{id:"userInfoManagement",name:"\u7528\u6237\u4fe1\u606f\u7ba1\u7406",link:"userInfoManagement",icon:"user",subMenu:[{id:"repoAuditFirst",name:"\u4ed3\u5e93\u5ba1\u6838-\u521d\u5ba1",link:"repoAuditFirst",parentId:"userInfoManagement"},{id:"repoAuditLast",name:"\u4ed3\u5e93\u5ba1\u6838-\u590d\u5ba1",link:"repoAuditLast",parentId:"userInfoManagement"},{id:"clientManagement",name:"\u7ec8\u7aef\u7ba1\u7406",link:"clientManagement",parentId:"userInfoManagement"},{id:"cameraList",name:"\u6444\u50cf\u5934\u7ba1\u7406",link:"cameraList",parentId:"userInfoManagement"}]},{id:"carFactoryManagement",name:"\u6c7d\u8f66\u5382\u5546\u7ba1\u7406",link:"carFactoryManagement",icon:"crown",subMenu:[{id:"carMoving",name:"\u79fb\u8f66\u70b9\u68c0\u8868",link:"carMoving",parentId:"carFactoryManagement"},{id:"checkedDetail",name:"\u70b9\u68c0\u660e\u7ec6\u8868",link:"checkedDetail",parentId:"carFactoryManagement"},{id:"CarSales",name:"\u8f66\u578b\u9500\u91cf\u8868",link:"CarSales",parentId:"carFactoryManagement"},{id:"dealerSaleRink",name:"\u7ecf\u9500\u5546\u9500\u91cf\u6392\u540d",link:"dealerSaleRink",parentId:"carFactoryManagement"},{id:"ewSaleRink",name:"\u4e8c\u7f51\u9500\u91cf\u6392\u540d",link:"ewSaleRink",parentId:"carFactoryManagement"},{id:"regionManagement",name:"\u5927\u533a\u8bbe\u7f6e",link:"regionManagement",parentId:"carFactoryManagement"}]},{id:"exceptionManagement",name:"\u5f02\u5e38\u7ba1\u7406",link:"exceptionManagement",icon:"warning",subMenu:[{id:"spotException",name:"\u62bd\u67e5\u5f02\u5e38\u7ba1\u7406",link:"spotException",parentId:"exceptionManagement"},{id:"movingException",name:"\u79fb\u52a8\u5f02\u5e38\u7ba1\u7406",link:"movingException",parentId:"exceptionManagement"}]},{id:"systemManagement",name:"\u7cfb\u7edf\u7ba1\u7406",link:"systemManagement",icon:"setting",subMenu:[{id:"multipleAccount",name:"\u7efc\u5408\u8d26\u53f7\u7ba1\u7406",link:"multipleAccount",parentId:"systemManagement"}]},{id:"monitorManagement",name:"\u4e8c\u5e93\u89c6\u9891\u76d1\u63a7",link:"monitorManagement",icon:"video-camera",subMenu:[{id:"repositoryList",name:"\u5e93\u5b58\u8f66\u76d1\u63a7",link:"repositoryList",parentId:"monitorManagement"},{id:"repositoryWarning",name:"\u5e93\u5b58\u6570\u91cf\u9884\u8b66",link:"repositoryWarning",parentId:"monitorManagement"}]},{id:"miniProgramBackEndManagement",name:"\u5c0f\u7a0b\u5e8f\u540e\u53f0\u7ba1\u7406",link:"miniProgramBackEndManagement",icon:"wechat",subMenu:[{id:"orderManagement",name:"\u8ba2\u5355\u7ba1\u7406",link:"orderManagement",parentId:"miniProgramBackEndManagement"},{id:"invoiceManagement",name:"\u5f00\u7968\u7ba1\u7406",link:"invoiceManagement",parentId:"miniProgramBackEndManagement"},{id:"refundManagement",name:"\u9000\u6b3e\u786e\u8ba4",link:"refundManagement",parentId:"miniProgramBackEndManagement"}]},{id:"superviseManagement",name:"\u76d1\u7ba1\u516c\u53f8\u62bd\u67e5\u7ba1\u7406",link:"superviseManagement",icon:"check-circle",subMenu:[{id:"importView",name:"\u5e93\u5b58\u660e\u7ec6\u5bfc\u5165",link:"importView",parentId:"superviseManagement"},{id:"superviseManager",name:"\u62bd\u67e5\u7ba1\u7406",link:"superviseManager",parentId:"superviseManagement"},{id:"superviseAmount",name:"\u62bd\u67e5\u8bb0\u5f55\u7edf\u8ba1",link:"superviseAmount",parentId:"superviseManagement"},{id:"superviseCompany",name:"\u76d1\u7ba1\u516c\u53f8",link:"superviseCompany",parentId:"superviseManagement"},{id:"specialDealer",name:"\u7279\u6b8a\u62bd\u67e5\u540d\u5355",link:"specialDealer",parentId:"superviseManagement"},{id:"superviseParam",name:"\u53c2\u6570\u8bbe\u7f6e",link:"superviseParam",parentId:"superviseManagement"}]},{id:"selfCarManagement",name:"\u81ea\u6709\u8f66\u7ba1\u7406",link:"selfCarManagement",icon:"dashboard",subMenu:[{id:"excUploadAll",name:"\u8f66\u8f86\u5168\u91cf\u5bfc\u5165",link:"excUploadAll",parentId:"selfCarManagement"},{id:"excUploadAdd",name:"\u8f66\u8f86\u589e\u91cf\u5bfc\u5165",link:"excUploadAdd",parentId:"selfCarManagement"},{id:"selfCarMgPage",name:"\u8f66\u8f86\u7ba1\u7406",link:"selfCarMgPage",parentId:"selfCarManagement"},{id:"commonTask",name:"\u62bd\u67e5\u4efb\u52a1",link:"commonTask",parentId:"selfCarManagement"},{id:"movingTask",name:"\u79fb\u52a8\u4efb\u52a1",link:"movingTask",parentId:"selfCarManagement"},{id:"certificateTask",name:"\u76d8\u8bc1\u4efb\u52a1",link:"certificateTask",parentId:"selfCarManagement"},{id:"soldConfirm",name:"\u5df2\u552e\u786e\u8ba4",link:"soldConfirm",parentId:"selfCarManagement"},{id:"moveRecord",name:"\u79fb\u52a8\u8bb0\u5f55",link:"moveRecord",parentId:"selfCarManagement"},{id:"locaManage",name:"\u5b9a\u4f4d\u70b9\u7ba1\u7406",link:"locaManage",parentId:"selfCarManagement"},{id:"regionalism",name:"\u533a\u57df\u5212\u5206",link:"regionalism",parentId:"selfCarManagement"},{id:"selfCarBrand",name:"\u54c1\u724c\u7ba1\u7406",link:"selfCarBrand",parentId:"selfCarManagement"},{id:"financialPro",name:"\u91d1\u878d\u4ea7\u54c1\u7ba1\u7406",link:"financialPro",parentId:"selfCarManagement"},{id:"paramsSetting",name:"\u53c2\u6570\u8bbe\u7f6e",link:"paramsSetting",parentId:"selfCarManagement"},{id:"carPhoTemp",name:"\u8f66\u8f86\u62cd\u7167\u6a21\u677f",link:"carPhoTemp",parentId:"selfCarManagement"},{id:"credPhoTemp",name:"\u8bc1\u4ef6\u62cd\u7167\u6a21\u677f",link:"credPhoTemp",parentId:"selfCarManagement"},{id:"exceSetting",name:"\u5f02\u5e38\u7c7b\u578b\u8bbe\u7f6e",link:"exceSetting",parentId:"selfCarManagement"},{id:"standMang",name:"\u53f0\u8d26\u7ba1\u7406",link:"standMang",parentId:"selfCarManagement"}]},{id:"RoleManagement",name:"\u6388\u6743\u7ba1\u7406",link:"RoleManagement",icon:"check-circle",subMenu:[{id:"storeManagement",name:"\u5fae\u5e97\u7ba1\u7406",link:"storeManagement",parentId:"RoleManagement"}]}],k=(a(54),a(12)),w=a(243),j=a.n(w),x=v.a.Header,D=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleCollapse=function(e){e&&e.preventDefault(),a.props.onCollapse(!a.props.collapsed)},a.logout=function(){a.props.history.push("/login")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.session;return i.createElement(x,{className:j.a.header},i.createElement("div",{className:j.a.headerWrapper},i.createElement(k.a,{className:"".concat(j.a.icon," trigger"),type:this.props.collapsed?"menu-unfold":"menu-fold",onClick:this.handleCollapse}),i.createElement("div",{style:{float:"right"}},i.createElement(k.a,{className:j.a.icon,type:"user",style:{padding:0}}),i.createElement("span",{className:j.a.userName},e.employeename),i.createElement(k.a,{className:j.a.icon,type:"logout",style:{padding:0,marginLeft:10},onClick:this.logout}))))}}]),t}(i.Component),M=Object(C.a)(D),N=(a(86),a(42)),L=(a(74),a(15)),R=(a(454),a(168)),P=(a(1035),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return o.a.createElement("main",null)}}]),t}(o.a.Component)),U=a(10),Y=a(1791),F=a(1795),H=a(3),K="YICHAKU/DASHBOARD/FETCH",q=Object(Y.a)((n={},Object(U.a)(n,K,{next:function(e,t){return Object(E.a)({},e,{totalVisitCount:t.payload.data.totalVisitCount,dayVisitCount:t.payload.data.dayVisitCount})}}),Object(U.a)(n,"YICHAKU/DASHBOARD/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),n),{totalVisitCount:0,dayVisitCount:0}),B=Object(F.a)(K,function(){return H.a.get("/dashboard/count")});var V=Object(h.b)(null,function(e){return{fetch:function(){return e(B())}}})(P),Q=a(1793),z=(a(41),a(19)),W=(a(84),a(39)),G=(a(61),a(24)),X=a(1231),J=a(576),Z=(a(71),a(44)),$=(a(1090),a(751)),ee=a(521),te=a.n(ee),ae=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[]},a.handleExportSelect=function(){},a.handleRowSelectChange=function(e){a.setState({selectedRowKeys:e}),a.props.onSelectRow(e)},a.cleanSelectedRows=function(){a.handleRowSelectChange([])},a.exportSelectedRows=function(){0!==a.state.selectedRowKeys.length?a.props.onOperMultipleRow(a.state.selectedRowKeys):S.a.error("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u6761\u6570\u636e\u8fdb\u884c\u64cd\u4f5c",2.5)},a.showTotal=function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.selectedRowKeys,t=this.props.operName,a=void 0===t?"\u6279\u91cf\u5bfc\u51fa":t,n=o.a.createElement("p",{className:te.a.selectInfo},"\u5df2\u9009\u62e9 ",o.a.createElement("b",{style:{color:"#1890ff"}},e.length)," \u6761\u8bb0\u5f55"," ",o.a.createElement("a",{href:"javascript:;",onClick:this.cleanSelectedRows},"\u53d6\u6d88\u9009\u62e9"),o.a.createElement("a",{href:"javascript:;",onClick:this.exportSelectedRows},a));return o.a.createElement("div",null,this.props.showTableOperArea&&o.a.createElement("div",{className:te.a.operArea},o.a.createElement($.a,{message:n,type:"info",showIcon:!0})),o.a.createElement(Z.a,{columns:this.props.columns,dataSource:this.props.data,rowKey:this.props.rowKey||"id",loading:this.props.loading,scroll:this.props.scroll?this.props.scroll:{x:!0},pagination:!1!==this.props.pagination&&{current:this.props.paging.current,pageSize:this.props.paging.pageSize,total:this.props.paging.total,pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.props.onChange,onShowSizeChange:this.props.onPageChange,showTotal:this.showTotal},size:this.props.size||"default",rowSelection:this.props.showTableOperArea?{selectedRowKeys:e,onChange:this.handleRowSelectChange,getCheckboxProps:this.getCheckboxProps}:this.props.rowSelection?this.props.rowSelection:null,bordered:this.props.bordered,onRow:this.props.onRow,rowClassName:this.props.rowClassName,type:this.props.type}))}}]),t}(i.PureComponent);ae.defaultProps={paging:{current:0,pageSize:10,total:1},pagination:!0};a(609);var ne=a(317),re=(a(49),a(18)),ie=(a(59),a(20)),oe=(a(78),a(22)),le=a(136),ce=a.n(le),se=a(147),de=a.n(se),ue=(a(293),a(111)),pe=a(45),me=(a(221),a(95)),he=(a(55),a(17)),ge=(a(135),a(70)),fe=[{name:"\u6b63\u5e38",value:0,badgeStatus:"success"},{name:"\u5f85\u4e0a\u4f20\u5f71\u50cf\u8d44\u6599",value:1,badgeStatus:"processing"},{name:"\u5f85\u5ba1\u6838",value:2,badgeStatus:"processing"},{name:"\u505c\u7528",value:9,badgeStatus:"default"}],be=[{name:"\u6b63\u5e38",value:0,badgeStatus:"success"},{name:"\u62cd\u6444\u7167\u7247",value:2,badgeStatus:"processing"},{name:"\u5f85\u5ba1\u6838",value:3,badgeStatus:"processing"},{name:"\u5ba1\u6838\u4e0d\u901a\u8fc7",value:4,badgeStatus:"error"},{name:"\u505c\u7528",value:9,badgeStatus:"default"}],Ee=[{name:"\u8d85\u65f6\u672a\u62cd\u7167",value:0},{name:"\u79fb\u56de\u4e3b\u5e97",value:1},{name:"\u79fb\u52a8\u5230\u5176\u4ed6\u4e8c\u7f51",value:2},{name:"\u8f66\u8f86\u5df2\u552e",value:3},{name:"\u5b9a\u4f4d\u5f02\u5e38",value:5},{name:"\u7cfb\u7edf\u95ee\u9898",value:7},{name:"\u4e8c\u7f51\u9519\u8bef\u64cd\u4f5c",value:8},{name:"\u64cd\u4f5c\u5f02\u5e38",value:11},{name:"\u79fb\u52a8\u81f3\u8f66\u5c55",value:12}],ye=[{name:"\u81ea\u52a8\u62bd\u67e5",value:0},{name:"\u94f6\u884c\u62bd\u67e5",value:1},{name:"\u5e73\u53f0\u62bd\u67e5",value:2},{name:"\u7ecf\u9500\u5546\u62bd\u67e5",value:3},{name:"\u8f66\u5c55\u79fb\u56de\u62bd\u67e5",value:4},{name:"\u79fb\u52a8\u81f3\u4e8c\u7f51\u62bd\u67e5",value:5},{name:"\u79fb\u52a8\u56de\u4e3b\u5e97\u62bd\u67e5",value:6},{name:"\u8f66\u5c55\u81ea\u52a8\u62bd\u67e5",value:8},{name:"\u8f66\u5c55\u624b\u52a8\u62bd\u67e5",value:9},{name:"\u6c7d\u8f66\u5382\u5546\u62bd\u67e5",value:11}],ve=[{name:"\u5728\u4e3b\u5e97",value:0},{name:"\u5728\u4e8c\u7f51 ",value:1},{name:"\u8fc1\u79fb\u4e2d",value:2},{name:"\u79fb\u56de\u4e2d",value:3},{name:"\u5728\u4e8c\u5e93",value:4},{name:"\u8f66\u5c55\u7533\u8bf7\u4e2d",value:5},{name:"\u5728\u8f66\u5c55",value:6},{name:"\u5f85\u8f66\u5c55",value:7},{name:"\u8f66\u8f86\u5df2\u552e",value:9},{name:"\u8f66\u5c55\u79fb\u56de",value:8},{name:"\u8d85\u989d\u79fb\u52a8\u5f85\u5ba1\u6279",value:20}],Oe=[{name:"\u4e0d\u8bb0\u5f55\u8fdd\u89c4",value:10},{name:"\u5f02\u5e38\u8d85\u65f6",value:11},{name:"\u4e25\u91cd\u8d85\u65f6",value:12}],Se=[{name:"\u5168\u90e8",value:""},{name:"\u5728\u4e3b\u5e97",value:0},{name:"\u5728\u4e8c\u7f51",value:1},{name:"\u8fc1\u79fb\u4e2d",value:2}],Ie=[{name:"\u5168\u90e8",value:""},{name:"\u624b\u52a8\u5f55\u5165",value:0},{name:"\u6279\u91cf\u5f55\u5165",value:1},{name:"\u8d4e\u8f66",value:2}],Ce=[{name:"\u5230\u5e97\u786e\u8ba4",value:2},{name:"\u5ba1\u6838\u901a\u8fc7",value:3},{name:"\u53d6\u6d88\u79fb\u52a8",value:5},{name:"\u5230\u5e97\u786e\u8ba4\u4e0d\u901a\u8fc7",value:6}],_e=[{name:"\u5168\u90e8",value:"",badgeStatus:"processing"},{name:"\u5ba1\u6838\u901a\u8fc7",value:40,badgeStatus:"processing"},{name:"\u5ba1\u6838\u4e0d\u901a\u8fc7",value:50,badgeStatus:"processing"},{name:"\u7ec8\u6b62",value:90,badgeStatus:"error"}],Te=[{name:"\u6811\u8393\u6d3e",value:0}],Ae=[{name:"\u5168\u90e8",value:null},{name:"\u65b0\u8f66",value:0},{name:"\u4e8c\u624b\u8f66",value:1}],ke={locationName:"locationName",ptType:"ptType",taskId:"taskId",spottesttype:"spottesttype",chassis:"chassis",spottestId:"spottestId",id:"id",distributorName:"distributorName",bankName:"bankName",ewName:"ewName",businessType:"businessType",isfirst:"isfirst",depositAmount:"tempShowBond",inMoney:"inMoney",outMoney:"outMoney",time:"time",contractType:"contractType",bondType:"operationType",isContractChange:"isContractChange",isException:"isException",isChainStore:"isChainStore",status:"status",statusName:"statusName",disApplyTime:"applyTime",ewCommitTime:"ewCommitTime",disConfirmDeposit:"disConfirmDeposit",ptAuditTime:"firstTime",firstTrialName:"firstTrialName",lastTrialName:"lastTrialName",moveNum:"moveNum",isEmpty:"isBondZero",isExport:"isExport",isRecieved:"isRecieved",expressNum:"expressNum",bankAuditTime:"affectTime",exceptionTime:"exceptionTime",ptAuditDepositTime:"ptAuditDepositTime",saveDate:"saveDate",startTime:"startdate",endTime:"enddate",fldSerialName:"fldSerialName",moneyGetType:"moneyGetType",firstTimes:"firstTimes",firstPtPassTimes:"firstPtPassTimes",firstBankPassTimes:"firstBankPassTimes",continueTimes:"continueTimes",continuePtPassTimes:"continuePtPassTimes",continueBankPassTimes:"continueBankPassTimes",exceptionTimes:"exceptionTimes",contractId:"contractId",ptNotPassFlagDicList:[{name:"\u5168\u90e8",value:-1,badgeStatus:"processing",typeList:["TODO"],processStep:-1}],statusDicList:[{name:"\u5168\u90e8",value:-1,badgeStatus:"processing",typeList:["TODO","EXCEPTION","ALL","bondDetail"],processStep:-1},{name:"\u4e8c\u7f51\u5f85\u786e\u8ba4",value:10,badgeStatus:"processing",typeList:["EXCEPTION","ALL"],processStep:-1},{name:"\u4e8c\u7f51\u786e\u8ba4\u4e0d\u901a\u8fc7",value:11,badgeStatus:"processing",typeList:["EXCEPTION","ALL"],processStep:-1},{name:"\u7ecf\u9500\u5546\u5f85\u786e\u8ba4",value:20,badgeStatus:"processing",typeList:["EXCEPTION","ALL"],processStep:0},{name:"\u7ecf\u9500\u5546\u786e\u8ba4\u9519\u8bef",value:21,badgeStatus:"processing",typeList:["TODO","EXCEPTION","ALL"],processStep:1},{name:"\u7ecf\u9500\u5546\u786e\u8ba4\u6b63\u786e",value:22,badgeStatus:"processing",typeList:["TODO","EXCEPTION","ALL"],processStep:1},{name:"\u521d\u5ba1\u4e0d\u901a\u8fc7\u9000\u5230\u4e8c\u7f51",value:30,badgeStatus:"error",typeList:["EXCEPTION","ALL"],processStep:-1},{name:"\u521d\u5ba1\u4e0d\u901a\u8fc7\u9000\u5230\u7ecf\u9500\u5546",value:31,badgeStatus:"error",typeList:["EXCEPTION","ALL"],processStep:-1},{name:"\u4fdd\u8bc1\u91d1\u521d\u5ba1\u901a\u8fc7",value:32,badgeStatus:"success",typeList:["TODO","EXCEPTION","ALL"],processStep:2},{name:"\u4e8c\u7f51\u4fe1\u606f\u521d\u5ba1\u901a\u8fc7",value:33,badgeStatus:"success",typeList:["EXCEPTION","ALL"],processStep:3},{name:"\u5ba2\u6237\u7ecf\u7406\u5ba1\u6838\u4e0d\u901a\u8fc7",value:50,badgeStatus:"error",typeList:["TODO","EXCEPTION","ALL"],processStep:2},{name:"\u5ba2\u6237\u7ecf\u7406\u5ba1\u6838\u901a\u8fc7",value:53,badgeStatus:"success",typeList:["ALL"],processStep:4},{name:"\u652f\u884c\u884c\u957f\u5ba1\u6838\u4e0d\u901a\u8fc7",value:60,badgeStatus:"error",typeList:["TODO","EXCEPTION","ALL"],processStep:2},{name:"\u652f\u884c\u884c\u957f\u5ba1\u6838\u901a\u8fc7",value:63,badgeStatus:"success",typeList:["ALL"],processStep:5},{name:"\u590d\u5ba1\u4e0d\u901a\u8fc7",value:40,badgeStatus:"error",typeList:["TODO","EXCEPTION","ALL"],processStep:2},{name:"\u590d\u5ba1\u901a\u8fc7",value:0,badgeStatus:"success",typeList:["ALL"],processStep:3},{name:"\u786e\u8ba4\u56de\u6267",value:41,badgeStatus:"success",typeList:["ALL","bondDetail"],processStep:3},{name:"\u5f02\u5e38\u4efb\u52a1",value:42,badgeStatus:"error",typeList:["TODO","EXCEPTION","ALL"],processStep:3},{name:"\u786e\u8ba4\u5f02\u5e38\u91cd\u65b0\u53d1\u8d77\u7eed\u4f5c",value:99,badgeStatus:"error",typeList:["EXCEPTION","ALL"],processStep:3},{name:"\u5df2\u5931\u6548",value:9,badgeStatus:"error",typeList:["ALL","bondDetail"],processStep:3}],repoStatusDicList:[{name:"\u5168\u90e8",value:-1,badgeStatus:"processing",typeList:["FIRSTTODO","FIRSTHIS","LASTHIS"]},{name:"\u5f85\u5ba1\u6838",value:1,badgeStatus:"processing",typeList:["FIRSTTODO"]},{name:"\u521d\u5ba1\u5ba1\u6838\u901a\u8fc7",value:2,badgeStatus:"success",typeList:["FIRSTHIS"]},{name:"\u521d\u5ba1\u5ba1\u6838\u4e0d\u901a\u8fc7",value:3,badgeStatus:"error",typeList:["FIRSTHIS"]},{name:"\u590d\u5ba1\u901a\u8fc7",value:4,badgeStatus:"success",typeList:["FIRSTHIS","LASTHIS"]},{name:"\u590d\u5ba1\u5ba1\u6838\u4e0d\u901a\u8fc7",value:5,badgeStatus:"error",typeList:["FIRSTTODO","LASTHIS"]}],commonDic:[{name:"\u5168\u90e8",value:-1},{name:"\u662f",value:1},{name:"\u5426",value:0}],statusTypeList:[{name:"\u672a\u751f\u6548",value:0},{name:"\u6709\u6548",value:1},{name:"\u5931\u6548",value:2}],exportTypeList:[{name:"\u5168\u90e8",value:-1},{name:"\u521d\u59cb\u8f6c\u5165",value:1},{name:"\u8ffd\u52a0\u8f6c\u5165",value:2},{name:"\u6d3b\u671f\u521d\u59cb",value:3},{name:"\u6d3b\u671f\u8ffd\u52a0",value:4},{name:"\u8f6c\u51fa",value:5}],isfirstDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u9996\u6b21\u5173\u8054",value:0},{name:"\u7eed\u4f5c",value:1},{name:"\u89e3\u9664\u5173\u8054",value:2}],contractTypeDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u610f\u613f\u51fd",value:1},{name:"\u6548\u529b\u51fd",value:2}],businessTypeDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u8f6c\u5165",value:1},{name:"\u8f6c\u51fa",value:2}],moneyGetTypeDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u65e0",value:0},{name:"\u6309\u5e97",value:1},{name:"\u6309\u53f0",value:2}],bondTypeDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u8f6c\u5165",value:1},{name:"\u8f6c\u51fa",value:2}],exportTypeDicList:[{name:"\u5168\u90e8",value:-1},{name:"\u521d\u59cb\u8f6c\u5165",value:1},{name:"\u8ffd\u52a0\u8f6c\u5165",value:2},{name:"\u6d3b\u671f\u521d\u59cb",value:3},{name:"\u6d3b\u671f\u8ffd\u52a0",value:4},{name:"\u8f6c\u51fa",value:5}],solveSolutionsDicList:[{name:"\u5168\u90e8",value:-1},{name:"",value:0},{name:"\u63d0\u4ea4\u5230\u94f6\u884c\u590d\u5ba1",value:1},{name:"\u786e\u8ba4\u5f02\u5e38\u91cd\u65b0\u53d1\u8d77\u7eed\u4f5c",value:2},{name:"\u9000\u56de\u5230\u4e8c\u7f51",value:3},{name:"\u9000\u56de\u5230\u7ecf\u9500\u5546",value:4}],ewStatusDic:[{name:"\u6b63\u5e38",value:0,badgeStatus:"success"},{name:"\u62cd\u6444\u7167\u7247",value:2,badgeStatus:"processing"},{name:"\u5f85\u5ba1\u6838",value:3,badgeStatus:"processing"},{name:"\u5ba1\u6838\u4e0d\u901a\u8fc7",value:4,badgeStatus:"error"},{name:"\u7981\u7528",value:9,badgeStatus:"default"}],confirmStatusDic:[{name:"\u672a\u786e\u8ba4\u56de\u6267",value:0,badgeStatus:"processing"},{name:"\u5df2\u786e\u8ba4\u56de\u6267",value:1,badgeStatus:"success"},{name:"\u5df2\u5931\u6548",value:2,badgeStatus:"default"}]},we=a(16),je=a.n(we),xe=ie.a.Item,De=oe.a.Option,Me=ge.a.RangePicker,Ne=ge.a.MonthPicker,Le="YYYY-MM-DD",Re=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ptType"},o.a.createElement(xe,{label:"\u5f02\u5e38\u7c7b\u578b"},e("bankExcReseaon")(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u5f02\u5e38\u7c7b\u578b"},Ee.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Pe=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"taskId"},o.a.createElement(xe,{label:"\u79fb\u52a8\u7f16\u53f7"},e(ke.taskId)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u79fb\u52a8\u7f16\u53f7"}))))},Ue=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spottesttype"},o.a.createElement(xe,{label:"\u62bd\u67e5\u7c7b\u578b"},e(ke.spottesttype)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u62bd\u67e5\u7c7b\u578b"},ye.filter(function(e){return 5!==e.value&&6!==e.value&&7!==e.value}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Ye=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spottesttype"},o.a.createElement(xe,{label:"\u62bd\u67e5\u7c7b\u578b"},e(ke.spottesttype)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u62bd\u67e5\u7c7b\u578b"},ye.filter(function(e){return 5==e.value||6==e.value}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Fe=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"auditStaus"},o.a.createElement(xe,{label:"\u4efb\u52a1\u72b6\u6001"},e("auditStaus",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u4efb\u52a1\u72b6\u6001"},[{name:"\u5168\u90e8",value:null},{name:"\u5f85\u4e0a\u4f20\u8f66\u8f86\u7167\u7247",value:2},{name:"\u5f85\u5ba1\u6838",value:3}].map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},He=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spottesttype"},o.a.createElement(xe,{label:"\u62bd\u67e5\u7c7b\u578b"},e(ke.spottesttype)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u62bd\u67e5\u7c7b\u578b"},ye.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Ke=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spottesttype"},o.a.createElement(xe,{label:"\u62bd\u67e5\u7c7b\u578b"},e(ke.spottesttype)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u62bd\u67e5\u7c7b\u578b"},ye.filter(function(e){return 7!==e.value}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},qe=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"chassis"},o.a.createElement(xe,{label:"\u8f66\u67b6\u53f7"},e(ke.chassis)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u67b6\u53f7"}))))},Be=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"locationName"},o.a.createElement(xe,{label:"\u4e8c\u7f51\u540d\u79f0"},e(ke.locationName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7f51\u540d\u79f0"}))))},Ve=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bookTime"},o.a.createElement(xe,{label:"\u4efb\u52a1\u4e0b\u53d1\u65e5\u671f"},e("bookTime")(o.a.createElement(Me,{format:Le}))))},Qe=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bookTime"},o.a.createElement(xe,{label:"\u4efb\u52a1\u7533\u8bf7\u65e5\u671f"},e("bookTime")(o.a.createElement(Me,{format:Le}))))},ze=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ptNotPassFlag"},o.a.createElement(xe,{label:"\u5f02\u5e38\u539f\u56e0_\u5e73\u53f0"},e("ptNotPassFlag",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},o.a.createElement(De,{value:null,key:"all"},"\u5168\u90e8"),Ee.filter(function(e){return 6!==e.value&&11!==e.value}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},We=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bankExcReseaon"},o.a.createElement(xe,{label:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8"},e("bankExcReseaon",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},o.a.createElement(De,{value:null,key:"all"},"\u5168\u90e8"),Ee.filter(function(e){return 6!==e.value&&7!==e.value&&8!==e.value}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Ge=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spottestId"},o.a.createElement(xe,{label:"\u4efb\u52a1\u7f16\u53f7"},e(ke.spottestId)(o.a.createElement(he.a,{placeholder:"\u4efb\u52a1\u7f16\u53f7"}))))},Xe=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"distributorName"},o.a.createElement(xe,{label:"\u7ecf\u9500\u5546\u540d\u79f0"},e(ke.distributorName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7ecf\u9500\u5546\u540d\u79f0"}))))},Je=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"dealerName"},o.a.createElement(xe,{label:"\u7ecf\u9500\u5546\u540d\u79f0"},e("dealerName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7ecf\u9500\u5546\u540d\u79f0"}))))},Ze=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"showName"},o.a.createElement(xe,{label:"\u8f66\u5c55\u540d\u79f0"},e("showName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u5c55\u540d\u79f0"}))))},$e=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ewName"},o.a.createElement(xe,{label:"\u4e8c\u7f51\u540d\u79f0"},e(ke.ewName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7f51\u540d\u79f0"}))))},et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"ALL";return function(t){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(xe,{label:"\u4e1a\u52a1\u72b6\u6001"},t(ke.status,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},ke.statusDicList.filter(function(t){return t.typeList.includes(e)}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},o.a.createElement(me.a,{status:e.badgeStatus,text:e.name}))})))))}},tt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spotTaskStatus"},o.a.createElement(xe,{label:"\u4efb\u52a1\u7c7b\u578b"},e("spotTestType",{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9"},[{name:"\u5168\u90e8",value:-1}].concat(Object(pe.a)(ye)).filter(function(e){return![5,6].includes(e.value)}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},at=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"spotTaskStatus"},o.a.createElement(xe,{label:"\u4efb\u52a1\u7c7b\u578b"},e("spotTestType",{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9"},[{name:"\u5168\u90e8",value:-1}].concat(Object(pe.a)(ye)).filter(function(e){return[-1,5,6].includes(e.value)}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},nt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"FIRSTTODO";return function(t){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(xe,{label:"\u5ba1\u6838\u72b6\u6001"},t("status",{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},ke.repoStatusDicList.filter(function(t){return t.typeList.includes(e)}).map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))}},rt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bankName"},o.a.createElement(xe,{label:"\u94f6\u884c\u540d\u79f0"},e(ke.bankName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u94f6\u884c\u540d\u79f0"}))))},it=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"disApplyTimeRange"},o.a.createElement(xe,{label:"\u7ecf\u9500\u5546\u7533\u8bf7\u65e5\u671f"},e("disApplyTimeRange")(o.a.createElement(Me,{format:Le}))))},ot=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"id"},o.a.createElement(xe,{label:"\u4efb\u52a1\u7f16\u53f7"},e(ke.id)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u7f16\u53f7"}))))},lt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isException"},o.a.createElement(xe,{label:"\u662f\u5426\u5b58\u5728\u5f02\u5e38"},e(ke.isException,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},ct=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isEmpty"},o.a.createElement(xe,{label:"\u662f\u5426\u6709\u4fdd\u8bc1\u91d1"},e(ke.isEmpty,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},st=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isSelfSelling"},o.a.createElement(xe,{label:"\u4e8c\u6b21\u786e\u8ba4\u79c1\u552e"},e("secondSoldFlag",{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},dt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ptAuditTimeRange"},o.a.createElement(xe,{label:"\u521d\u5ba1\u65e5\u671f"},e("ptAuditTimeRange")(o.a.createElement(Me,{format:Le}))))},ut=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isContractChange"},o.a.createElement(xe,{label:"\u5408\u540c\u662f\u5426\u53d8\u66f4"},e(ke.isContractChange,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},pt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"contractType"},o.a.createElement(xe,{label:"\u58f0\u660e\u7c7b\u578b"},e(ke.contractType,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.contractTypeDicList.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},mt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bankAuditTime"},o.a.createElement(xe,{label:"\u590d\u5ba1\u65e5\u671f"},e("bankAuditTimeRange")(o.a.createElement(Me,{format:Le}))))},ht=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"fldSerialName"},o.a.createElement(xe,{label:"\u54c1\u724c\u540d\u79f0"},e(ke.fldSerialName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0"}))))},gt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"fldSerialName"},o.a.createElement(xe,{label:"\u54c1\u724c\u540d\u79f0"},e("fldserialname")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0"}))))},ft=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"brandName"},o.a.createElement(xe,{label:"\u54c1\u724c\u540d\u79f0"},e("brandName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0"}))))},bt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isfirst"},o.a.createElement(xe,{label:"\u4e1a\u52a1\u7c7b\u578b"},e(ke.isfirst,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.isfirstDicList.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Et=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"exceptionTimeRange"},o.a.createElement(xe,{label:"\u5f02\u5e38\u65e5\u671f"},e("exceptionTimeRange")(o.a.createElement(Me,{format:Le}))))},yt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bondSaveDate"},o.a.createElement(xe,{label:"\u5b58\u5165\u65e5\u671f"},e("bondSaveTimeRange")(o.a.createElement(Me,{format:Le}))))},vt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isExport"},o.a.createElement(xe,{label:"\u662f\u5426\u5bfc\u51fa"},e(ke.isExport,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Ot=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"moneyGetType"},o.a.createElement(xe,{label:"\u4fdd\u8bc1\u91d1\u6536\u53d6\u65b9\u5f0f"},e(ke.moneyGetType,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.moneyGetTypeDicList.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},St=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isRecieved"},o.a.createElement(xe,{label:"\u7b7e\u6536\u72b6\u6001"},e(ke.isRecieved,{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},It=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"expressNum"},o.a.createElement(xe,{label:"\u5feb\u9012\u5355\u53f7"},e(ke.expressNum)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5feb\u9012\u5355\u53f7"}))))},Ct=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"contractPostTimeRange"},o.a.createElement(xe,{label:"\u58f0\u660e\u90ae\u5bc4\u65e5\u671f"},e("contractPostTimeRange")(o.a.createElement(Me,{format:Le}))))},_t=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"opUserName"},o.a.createElement(xe,{label:"\u5458\u5de5\u540d\u79f0"},e("opUserName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5458\u5de5\u540d\u79f0"}))))},Tt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"accid"},o.a.createElement(xe,{label:"\u767b\u5f55\u8d26\u53f7"},e("accid")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"}))))},At=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"mobile"},o.a.createElement(xe,{label:"\u79fb\u52a8\u7535\u8bdd"},e("mobile")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u79fb\u52a8\u7535\u8bdd"}))))},kt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"enterpriseType"},o.a.createElement(xe,{label:"\u4f01\u4e1a\u7c7b\u578b"},e("departtype",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},[{name:"\u5168\u90e8",value:null},{name:"\u7ecf\u9500\u5546",value:3},{name:"\u4e8c\u7f51",value:2}].map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},wt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"taskStartTimeRange"},o.a.createElement(xe,{label:"\u4efb\u52a1\u4e0b\u53d1\u65e5\u671f"},e("taskStartTimeRange")(o.a.createElement(Me,{format:Le}))))},jt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"regionName"},o.a.createElement(xe,{label:"\u5927\u533a\u540d\u79f0"},e("regionName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5927\u533a\u540d\u79f0"}))))},xt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"regionName"},o.a.createElement(xe,{label:"\u5c0f\u533a\u540d\u79f0"},e("regionSubName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u9009\u62e9\u5c0f\u533a\u540d\u79f0"}))))},Dt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"provinceName"},o.a.createElement(xe,{label:"\u7701\u4efd"},e("provinceName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7701\u4efd"}))))},Mt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"cityName"},o.a.createElement(xe,{label:"\u57ce\u5e02"},e("cityName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u57ce\u5e02"}))))},Nt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"statisDate"},o.a.createElement(xe,{label:"\u7edf\u8ba1\u65e5\u671f"},e("statisDate")(o.a.createElement(Me,{format:Le}))))},Lt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"statisDate"},o.a.createElement(xe,{label:"\u7edf\u8ba1\u65e5\u671f"},e("statisDate",{initialValue:[je()().subtract(30,"days"),je()()]})(o.a.createElement(Me,{format:Le,allowClear:!1,ranges:{"\u8fc7\u53bb\u4e09\u5341\u5929":[je()().subtract(30,"days"),je()()],"\u4e0a\u4e2a\u6708":[je()().subtract(1,"months").startOf("month"),je()().subtract(1,"months").endOf("month")]}}))))},Rt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"enterpriseName"},o.a.createElement(xe,{label:"\u4f01\u4e1a\u540d\u79f0"},e("departname")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u540d\u79f0"}))))},Pt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"departname"},o.a.createElement(xe,{label:"\u516c\u53f8\u540d\u79f0"},e("departname")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u516c\u53f8\u540d\u79f0"}))))},Ut=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"buyUserAccid"},o.a.createElement(xe,{label:"\u8d26\u53f7"},e("buyUserAccid")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}))))},Yt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"goodsName"},o.a.createElement(xe,{label:"\u670d\u52a1\u9879\u76ee"},e("goodsName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u670d\u52a1\u9879\u76ee"}))))},Ft=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"orderNo"},o.a.createElement(xe,{label:"\u8ba2\u5355\u7f16\u53f7"},e("orderNo")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8ba2\u5355\u7f16\u53f7"}))))},Ht=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"accid"},o.a.createElement(xe,{label:"\u8d26\u53f7"},e("accid")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7"}))))},Kt=function(e){return o.a.createElement(L.a,{md:9,sm:24,key:"disApplyTimeRange"},o.a.createElement(xe,{label:"\u7edf\u8ba1\u65e5\u671f"},e("disApplyTimeRange",{initialValue:[je()().startOf("month"),je()()]})(o.a.createElement(Me,{format:Le,disabledDate:function(e){return e&&e>je()()}}))))},qt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"taskFlag"},o.a.createElement(xe,null,e("taskFlag",{valuePropName:"checked",initialValue:!0})(o.a.createElement(ue.a,null,"\u53ea\u67e5\u770b\u6709\u672a\u5b8c\u6210\u4efb\u52a1\u7684\u65e5\u671f\u6570\u636e"))))},Bt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"dealer"},o.a.createElement(xe,{label:"\u7ecf\u9500\u5546\u540d\u79f0"},e("dealer")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7ecf\u9500\u5546\u540d\u79f0"}))))},Vt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(xe,{label:"\u662f\u5426\u6709\u6548"},e("status",{})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.statusTypeList.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},Qt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"dateRange"},o.a.createElement(xe,{label:"\u62bd\u67e5\u65e5\u671f"},e("dateRange")(o.a.createElement(Me,{format:Le}))))},zt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"theMonth"},o.a.createElement(xe,{label:"\u7edf\u8ba1\u6708\u4efd"},e("theMonth")(o.a.createElement(Ne,{placeholder:je()().format("YYYYMM"),format:"YYYYMM",onChange:function(e){if(null==e)return e=je()(),console.log(e),e}}))))},Wt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"userName"},o.a.createElement(xe,{label:"\u533a\u57df\u7ecf\u7406"},e("userName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u533a\u57df\u7ecf\u7406"}))))},Gt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"code"},o.a.createElement(xe,{label:"\u7ec8\u7aef\u7f16\u53f7"},e("code")(o.a.createElement(he.a,{placeholder:"\u7ec8\u7aef\u7f16\u53f7"}))))},Xt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"brand"},o.a.createElement(xe,{label:"\u7ec8\u7aef\u54c1\u724c"},e("brand")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7ec8\u7aef\u54c1\u724c"}))))},Jt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"code"},o.a.createElement(xe,{label:"\u6444\u50cf\u5934\u7f16\u53f7"},e("code")(o.a.createElement(he.a,{placeholder:"\u6444\u50cf\u5934\u7ec8\u7aef\u7f16\u53f7"}))))},Zt=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"brand"},o.a.createElement(xe,{label:"\u6444\u50cf\u5934\u54c1\u724c"},e("brand")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u6444\u50cf\u5934\u54c1\u724c"}))))},$t=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"dateRange"},o.a.createElement(xe,{label:"\u53d1\u751f\u65e5\u671f"},e("dateRange")(o.a.createElement(Me,{format:Le}))))},ea=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"carType"},o.a.createElement(xe,{label:"\u8f66\u8f86\u7c7b\u578b"},e("carType",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},Ae.map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},ta=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(xe,{label:"\u5fae\u5e97\u72b6\u6001"},e("status",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u4efb\u52a1\u72b6\u6001"},[{name:"\u5168\u90e8",value:null},{name:"\u5f00\u542f",value:1},{name:"\u5173\u95ed",value:2}].map(function(e){return o.a.createElement(De,{value:e.value,key:e.value},e.name)})))))},aa=ie.a.Item,na=oe.a.Option,ra=(ge.a.RangePicker,function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"isEmpty"},o.a.createElement(aa,{label:"\u662f\u5426\u6709\u4fdd\u8bc1\u91d1"},e("hasBond")(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.commonDic.map(function(e){return o.a.createElement(na,{value:e.value,key:e.value},e.name)})))))}),ia=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"brandName"},o.a.createElement(aa,{label:"\u54c1\u724c\u540d\u79f0"},e("brandName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0"}))))},oa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"exportType"},o.a.createElement(aa,{label:"\u5bfc\u51fa\u7c7b\u578b"},e("exportType",{initialValue:-1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},ke.exportTypeList.map(function(e){return o.a.createElement(na,{value:e.value,key:e.value},e.name)})))))};function la(e){var t=[];switch(e){case"SpottestAudit":t=[ot,Xe,qe,rt,$e,Ue,Pe,Re];break;case"SpotException":t=[Xe,$e,qe,Ve,ze,We,Ge,rt];break;case"/primaryAudit/list/todoList":t=[Xe,$e,et("TODO"),rt,it,ot,lt,ut,pt,ht,bt];break;case"/primaryAudit/list/expList":t=[Xe,$e,et("EXCEPTION"),rt,ot,ut,pt,ht,bt,Et];break;case"/primaryAudit/list/todoListForDistr":t=[Xe,$e,rt,ot,lt,ut,pt,ht,bt];break;case"/primaryAudit/list/totalList":t=[Xe,$e,et("ALL"),rt,it,ot,lt,ct,dt,ut,pt,mt,ht,bt];break;case"/lastAudit/list/todoList":t=[Xe,$e,bt,ot,lt,dt,ut,pt,ht];break;case"/lastAudit/list/expList":t=[Xe,$e,et("EXCEPTION"),rt,ot,ut,pt,ht,bt,Et];break;case"/lastAudit/list/totalList":t=[Xe,$e,et("ALL"),rt,ot,ut,pt,ht,bt,lt,ct,it,dt,mt,St,It,Ct];break;case"/ewSummary":t=[rt,Xe,ht,it];break;case"/ewDetail":t=[rt,Xe,$e,it,dt,mt,ra,Ot,ht,ot,et,bt,lt,pt,ut];break;case"/ewBond":t=[rt,Xe,$e,yt,ht];break;case"/disBond":t=[rt,Xe,ht];break;case"/ewSaleRink":t=[jt,xt,"ProvCityFormItem",Xe,Nt,rt,gt];break;case"/carMoving":t=[jt,xt,"ProvCityFormItem",Xe,Lt,rt,gt];break;case"/checkedDetail":case"/carSales":case"/dealerSaleRink":t=[jt,xt,"ProvCityFormItem",Xe,Nt,rt,gt];break;case"/bondDetail":t=[rt,Xe,$e,ht,ot,ra,Ot,et("bondDetail"),bt];break;case"/ewOnlineList":t=[rt]}return e.startsWith("/transferIn")&&(t=[Xe,$e,vt,bt,mt,ra,Ot,ht]),e.startsWith("/transferOut")&&(t=[Xe,$e,vt,mt,ra,Ot,ht,bt]),t}var ca=ie.a.Item,sa=oe.a.Option,da=ge.a.RangePicker,ua=[{name:"\u5168\u90e8",value:"",badgeStatus:"processing"},{name:"\u5f85\u5ba1\u6838",value:20,badgeStatus:"processing"},{name:"\u5f85\u4e0a\u4f20\u8f66\u8f86\u7167\u7247",value:10,badgeStatus:"processing"},{name:"\u9000\u56de\u91cd\u62cd",value:30,badgeStatus:"error"},{name:"\u5f02\u5e38\u53cd\u9988",value:60,badgeStatus:"error"}],pa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"chassis"},o.a.createElement(ca,{label:"\u8f66\u67b6\u53f7"},e(ke.chassis)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u67b6\u53f7"}))))},ma=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"locationName"},o.a.createElement(ca,{label:"\u4e8c\u7f51\u540d\u79f0"},e(ke.locationName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7f51\u540d\u79f0"}))))},ha=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ewName"},o.a.createElement(ca,{label:"\u4e8c\u7f51\u540d\u79f0"},e(ke.ewName)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7f51\u540d\u79f0"}))))},ga=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(ca,{label:"\u5ba1\u6838\u72b6\u6001"},e("status",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},ua.map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},o.a.createElement(me.a,{status:e.badgeStatus,text:e.name}))})))))},fa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(ca,{label:"\u5ba1\u6838\u72b6\u6001"},e("status",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},ua.filter(function(e){return 60!==e.value}).map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},o.a.createElement(me.a,{status:e.badgeStatus,text:e.name}))})))))},ba=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"taskStartTimeRange"},o.a.createElement(ca,{label:"\u4efb\u52a1\u4e0b\u53d1\u65e5\u671f"},e("taskStartTimeRange")(o.a.createElement(da,{format:"YYYY-MM-DD"}))))},Ea=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"regionName"},o.a.createElement(ca,{label:"\u5927\u533a\u540d\u79f0"},e("regionName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5927\u533a\u540d\u79f0"}))))},ya=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"statisDate"},o.a.createElement(ca,{label:"\u7edf\u8ba1\u65e5\u671f"},e("statisDate")(o.a.createElement(da,{format:"YYYY-MM-DD"}))))},va=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"moveOutName"},o.a.createElement(ca,{label:"\u79fb\u51fa\u4f4d\u7f6e"},e("moveOutName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u79fb\u51fa\u4f4d\u7f6e"}))))},Oa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"moveInName"},o.a.createElement(ca,{label:"\u79fb\u5165\u4f4d\u7f6e"},e("moveInName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u79fb\u5165\u4f4d\u7f6e"}))))},Sa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"state"},o.a.createElement(ca,{label:"\u4efb\u52a1\u72b6\u6001"},e("state")(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8"},Ce.map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},e.name)})))))},Ia=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"locationState"},o.a.createElement(ca,{label:"\u4f4d\u7f6e\u72b6\u6001"},e("status",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u4f4d\u7f6e\u72b6\u6001"},Se.map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},e.name)})))))},Ca=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"carFrom"},o.a.createElement(ca,{label:"\u6765\u6e90"},e("carFrom",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u6765\u6e90"},Ie.map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},e.name)})))))},_a=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"carType"},o.a.createElement(ca,{label:"\u8f66\u8f86\u7c7b\u578b"},e("carType",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u8f66\u8f86\u7c7b\u578b"},[{name:"\u5168\u90e8",value:""},{name:"\u65b0\u8f66",value:0},{name:"\u4e8c\u624b\u8f66",value:1}].map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},e.name)})))))},Ta=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"locationName"},o.a.createElement(ca,{label:"\u5b9a\u4f4d\u70b9\u540d\u79f0"},e("locationName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5b9a\u4f4d\u70b9\u540d\u79f0"}))))},Aa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"processStatus"},o.a.createElement(ca,{label:"\u72b6\u6001"},e("processStatus")(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8"},o.a.createElement(sa,{value:"0"},"\u5f85\u5904\u7406"),o.a.createElement(sa,{value:"2"},"\u5904\u7406\u5b8c\u6210"),o.a.createElement(sa,{value:"3"},"\u5904\u7406\u5931\u8d25")))))},ka=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"batchno"},o.a.createElement(ca,{label:"\u6279\u6b21\u53f7"},e("batchno")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u6279\u6b21\u53f7"}))))},wa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"processType"},o.a.createElement(ca,{label:"\u7c7b\u578b"},e("processType")(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8"},o.a.createElement(sa,{value:"0"},"\u4e0d\u53d8"),o.a.createElement(sa,{value:"1"},"\u65b0\u589e"),o.a.createElement(sa,{value:"2"},"\u79fb\u52a8"),o.a.createElement(sa,{value:"3"},"\u51fa\u552e"),o.a.createElement(sa,{value:"4"},"\u8d4e\u8f66")))))},ja=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"processType"},o.a.createElement(ca,{label:"\u7c7b\u578b"},e("processType")(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8"},o.a.createElement(sa,{value:"0"},"\u4e0d\u53d8"),o.a.createElement(sa,{value:"1"},"\u65b0\u589e"),o.a.createElement(sa,{value:"3"},"\u51fa\u552e"),o.a.createElement(sa,{value:"4"},"\u8d4e\u8f66")))))},xa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(ca,{label:"\u4efb\u52a1\u72b6\u6001"},e("status",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},o.a.createElement(sa,{value:null},"\u5168\u90e8"),o.a.createElement(sa,{value:"10"},"\u5f85\u4e0a\u4f20\u7167\u7247"),o.a.createElement(sa,{value:"30"},"\u9000\u56de\u91cd\u62cd"),o.a.createElement(sa,{value:"20"},"\u5f85\u5ba1\u6838"),o.a.createElement(sa,{value:"40"},"\u5ba1\u6838\u901a\u8fc7"),o.a.createElement(sa,{value:"50"},"\u5ba1\u6838\u4e0d\u901a\u8fc7"),o.a.createElement(sa,{value:"60"},"\u5f02\u5e38\u53cd\u9988")))))},Da=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(ca,{label:"\u4efb\u52a1\u72b6\u6001"},e("status",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u72b6\u6001"},o.a.createElement(sa,{value:null},"\u5168\u90e8"),o.a.createElement(sa,{value:"10"},"\u5f85\u4e0a\u4f20\u7167\u7247"),o.a.createElement(sa,{value:"30"},"\u9000\u56de\u91cd\u62cd"),o.a.createElement(sa,{value:"20"},"\u5f85\u5ba1\u6838"),o.a.createElement(sa,{value:"40"},"\u5ba1\u6838\u901a\u8fc7"),o.a.createElement(sa,{value:"50"},"\u5ba1\u6838\u4e0d\u901a\u8fc7")))))},Ma=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"id"},o.a.createElement(ca,{label:"\u79fb\u52a8\u7f16\u53f7"},e(ke.id)(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7f16\u53f7"}))))},Na=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(ca,{label:"\u5ba1\u6838\u7ed3\u679c"},e("status",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},_e.map(function(e){return o.a.createElement(sa,{value:e.value,key:e.value},o.a.createElement(me.a,{status:e.badgeStatus,text:e.name}))})))))},La=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"name"},o.a.createElement(ca,{label:"\u5c0f\u533a\u540d\u79f0"},e("name")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5c0f\u533a\u540d\u79f0"}))))},Ra=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"brand"},o.a.createElement(ca,{label:"\u4ea7\u54c1\u540d\u79f0"},e("name")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4ea7\u54c1\u540d\u79f0"}))))},Pa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"bankName"},o.a.createElement(ca,{label:"\u5408\u4f5c\u91d1\u878d\u673a\u6784"},e("bankName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5408\u4f5c\u91d1\u878d\u673a\u6784"}))))};var Ua,Ya,Fa,Ha=ie.a.Item,Ka=oe.a.Option,qa=ge.a.RangePicker,Ba=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"code"},o.a.createElement(Ha,{label:"\u68c0\u67e5\u4efb\u52a1\u7f16\u53f7"},e("code")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4efb\u52a1\u7f16\u53f7"}))))},Va=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"dateRange"},o.a.createElement(Ha,{label:"\u65e5\u671f"},e("dateRange")(o.a.createElement(qa,{format:"YYYY-MM-DD"}))))},Qa=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"ewName"},o.a.createElement(Ha,{label:"\u4e8c\u7f51\u540d\u79f0"},e("ewName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4e8c\u7f51\u540d\u79f0"}))))},za=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"status"},o.a.createElement(Ha,{label:"\u662f\u5426\u6709\u6548"},e("status",{})(o.a.createElement(oe.a,{placeholder:"\u5168\u90e8",style:{width:"100%"}},ke.statusTypeList.map(function(e){return o.a.createElement(Ka,{value:e.value,key:e.value},e.name)})))))};var Wa=oe.a.Option,Ga="YYYY-MM-DD",Xa=ie.a.Item,Ja=ie.a.create()((Fa=Ya=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(){a.props.onSearch(a.props.query.value)},a.handleSubmit=function(e){e.preventDefault(),a.updateQuery(),a.forceUpdate(a.handleSearch)},a.handleExport=function(e){e.preventDefault(),a.updateQuery(),a.forceUpdate(a.props.onExport(a.props.query.value))},a.updateQuery=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);if(Array.isArray(n.timeRange)&&2===n.timeRange.length){var r=Object(y.a)(n.timeRange,2),i=r[0],o=r[1];i=i.format(Ga),o=o.format(Ga),n.startTime=i,n.endTime=o,n.timeRange=void 0}a.props.onUpdateQuery({value:n})}})},a.handleFormReset=function(){a.props.form.resetFields(),a.updateQuery()},a.toggleForm=function(e){return function(t){t.preventDefault(),a.props.onUpdateQuery({expandForm:e})}},a.handleQuery=function(){a.props.value},a.renderOperFormItem=function(){var e=a.props,t=(e.form.getFieldDecorator,e.path);return o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24,marginLeft:10},key:"toggleForm"},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:a.handleQuery},"\u67e5\u8be2"),o.a.createElement(re.a,{style:{marginLeft:8},onClick:a.handleFormReset},"\u91cd\u7f6e"),a.props.enableExport&&o.a.createElement(re.a,{type:"primary",style:{marginLeft:8},onClick:a.handleExport,loading:a.props.isExporting},"\u5bfc\u51fa\u62a5\u8868"),la(t).length>0&&a.renderTriggerFormItem())},a.renderTriggerFormItem=function(){return a.props.query.expandForm?o.a.createElement("a",{style:{marginLeft:8},onClick:a.toggleForm(!1)},"\u6536\u8d77 ",o.a.createElement(k.a,{type:"up"})):o.a.createElement("a",{style:{marginLeft:8},onClick:a.toggleForm(!0)},"\u5c55\u5f00 ",o.a.createElement(k.a,{type:"down"}))},a.renderAitiForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.path;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit,layout:"inline"},o.a.createElement(N.a,{gutter:8},function(e){var t=[];switch(e){case"/antiCheat":t=[Ba,Va];break;case"/spotEwBlack":t=[Qa,za]}return t}(n).map(function(e){return e(t)}),a.renderOperFormItem()))},a.renderSelfcarForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.path,r=e.excReasonList,i=e.financialList;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit,layout:"inline"},o.a.createElement(N.a,{gutter:8},function(e){return e.startsWith("/financialPro")?[Ra]:e.startsWith("/standMang/car")?[xa,ha,_a,ba]:e.startsWith("/standMang/plate")?[Da,ha,_a,ba]:e.startsWith("/excUploadAll/sellData")?[pa]:"/excUploadAdd/list"===e?[pa,Aa,ka,ja]:"/excUploadAll/uploadAllList"===e?[pa,Aa,ka,wa]:"/regionalism/smallMang"===e?[La,ha]:"/regionalism/bigMang"===e?[Ea]:"/locaManage"===e?[ha,Ta]:e.startsWith("/moveRecord")?[Ma,pa,va,Oa,Sa,ya]:e.startsWith("/soldConfirm")?[ma,pa]:e.startsWith("/selfCarMgPage/reserved")?[Ia,pa,ma,Pa,Ca]:e.startsWith("/selfCarMgPage/removed")?[pa]:e.startsWith("/commonTask/list/todo")?[ha,_a,ga,pa]:e.startsWith("/commonTask/list/done")?[ha,_a,Na,pa]:e.startsWith("/movingTask/list/todo")?[ha,_a,fa,pa]:e.startsWith("/movingTask/list/done")?[ha,_a,Na,pa]:e.startsWith("/certificateTask/list/todo")?[ha,_a,pa]:e.startsWith("/certificateTask/list/done")?[ha,_a,pa]:[ha]}(n).map(function(e){return e(t)}),r&&o.a.createElement(L.a,{md:6,sm:24,key:"excReason"},o.a.createElement(Xa,{label:"\u5f02\u5e38\u7c7b\u578b"},t("excReason",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u5f02\u5e38\u7c7b\u578b"},o.a.createElement(Wa,{value:null},"\u5168\u90e8"),r&&r.map(function(e){return o.a.createElement(Wa,{value:e.excCode,key:e.excCode},e.excName)}))))),i&&o.a.createElement(L.a,{md:6,sm:24,key:"financial"},o.a.createElement(Xa,{label:"\u91d1\u878d\u4ea7\u54c1"},t("financialProducts",{initialValue:null})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u91d1\u878d\u4ea7\u54c1"},o.a.createElement(Wa,{value:null},"\u5168\u90e8"),i.map(function(e){return o.a.createElement(Wa,{value:e.code,key:e.code},e.name)}))))),a.renderOperFormItem()))},a.renderSimpleForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.regionList,r=e.path;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit,layout:"inline"},o.a.createElement(N.a,{gutter:8},function(e){var t="";return e.includes("todoList")?t="TODO":e.includes("expList")?t="EXCEPTION":e.includes("totalList")&&(t="ALL"),"/ewSummary"===e||"/disBond"===e?[rt,Xe,ht]:e.startsWith("/superviseAmount/list")?[zt]:e.startsWith("/multipleAccount/list")?[Rt,Tt,At,kt]:e.startsWith("/spotException/list")?[Xe,$e,rt,qe,Ge,ze,We,tt,Ve,st]:e.startsWith("/movingException/list")?[Xe,$e,rt,qe,Ge,ze,We,at,Qe]:e.startsWith("/spottestAudit/list/spotTask")?[ot,Xe,ft,qe,rt,$e,Ue,Fe]:e.startsWith("/spottestAudit/list/moveTask")?[ot,Pe,Xe,ft,qe,rt,$e,Ye,Fe]:e.startsWith("/spottestAudit/list/timeOut")?[ot,Xe,ft,qe,rt,$e,He,Fe]:e.startsWith("/spottestAudit/list/todoComplete")?[ot,Pe,Xe,ft,qe,rt,$e,Ke]:e.startsWith("/specialDealer")?[Bt,Vt]:e.startsWith("/superviseManager")?[Qt]:e.startsWith("/repositoryWarning")?[$t,$e]:"/ewDetail"===e||"/ewBond"===e||"/bondDetail"===e?[rt,Xe,$e]:"/spotMove"===e?[Kt,qt]:"/ewOnlineList"===e?[rt]:e.startsWith("/ewOnlineDetail")?[rt,ft,Je]:e.startsWith("/transfer")?[Xe,$e,vt]:"/lastAudit/list/todoList"===e?[Xe,$e,bt]:e.startsWith("/confirmReceiptList")?[Xe,ia,oa]:e.startsWith("/taskSummary")?"/taskSummary/platformManager"===e?[_t,Tt,wt]:[wt]:e.startsWith("/repoAudit")?"/repoAuditFirst/todo"===e?[Xe,nt("FIRSTTODO")]:"/repoAuditFirst/all"===e?[Xe,nt("FIRSTHIS")]:"/repoAuditLast/todo"===e?[Xe]:"/repoAuditLast/all"===e?[Xe,nt("LASTHIS")]:void 0:"/ewSaleRink"===e||"/checkedDetail"===e||"/carMoving"===e||"/dealerSaleRink"===e||"/carSales"===e?[jt,xt,"ProvCityFormItem"]:e.startsWith("/orderManagement/list")?[Pt,Ut,Yt,Ft]:e.startsWith("/invoiceManagement/list")?[Pt,Ht,Ft]:e.startsWith("/refundManagement/list")?[Pt,Ut,Yt,Ft]:"/clientManagement"===e?[Gt,Xt]:"/cameraList"===e?[Jt,Zt]:"/storeManagement/distributor"===e?[Xe,ta]:"/storeManagement/ew"===e?[Xe,$e,ta]:"/primaryAudit/list/todoListForDistr"!==e?[Xe,$e,et(t)]:[Xe,$e]}(r).map(function(e){return"function"===typeof e?e(t):o.a.createElement(L.a,{md:6,sm:24,key:"provCity"},o.a.createElement(Xa,{label:"\u7701\u5e02"},t("provCity")(o.a.createElement(ne.a,{options:n,fieldNames:{label:"label",value:"value",children:"list"},placeholder:"\u8bf7\u9009\u62e9\u7701\u5e02",changeOnSelect:!0}))))}),a.renderOperFormItem()))},a.renderAdvancedForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.regionList,r=la(e.path).map(function(e){return"function"===typeof e?e(t):o.a.createElement(L.a,{md:6,sm:24,key:"provCity"},o.a.createElement(Xa,{label:"\u7701\u5e02"},t("provCity")(o.a.createElement(ne.a,{options:n,fieldNames:{label:"label",value:"value",children:"list"},placeholder:"\u8bf7\u9009\u62e9\u7701\u5e02",changeOnSelect:!0}))))});return r.push(a.renderOperFormItem()),o.a.createElement(ie.a,{onSubmit:a.handleSubmit,layout:"inline"},ce()(r,4).map(function(e,t){return o.a.createElement(N.a,{gutter:8,key:t},e)}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.query.value;this.props.form.setFieldsValue(e)}},{key:"render",value:function(){var e=this.props.query,t=e.expandForm,a=e.selfcarForm,n=e.aitiForm;return t?o.a.createElement("div",{className:de.a.tableListForm},this.renderAdvancedForm()):a?o.a.createElement("div",{className:de.a.tableListForm},this.renderSelfcarForm()):n?o.a.createElement("div",{className:de.a.tableListForm},this.renderAitiForm()):o.a.createElement("div",{className:de.a.tableListForm},this.renderSimpleForm())}}]),t}(i.PureComponent),Ya.defaultProps={query:{value:{},expandForm:!1},onUpdateQuery:function(){}},Ua=Fa))||Ua,Za=Object(h.b)(function(e){return{regionList:e.session.regionList}},null)(Ja),$a=a(182),en=a.n($a),tn="YYYY-MM-DD HH:mm:ss";function an(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(I.b(e)||!Array.isArray(t))return"";var i=t.findIndex(function(t){return t.value===e});return 0===e&&1===n?a?o.a.createElement(me.a,{status:"success",text:"\u786e\u8ba4\u56de\u6267"}):"\u786e\u8ba4\u56de\u6267":0===e&&1===r?a?o.a.createElement(me.a,{status:"error",text:"\u5f02\u5e38\u4efb\u52a1"}):"\u5f02\u5e38\u4efb\u52a1":-1===i?e:a?o.a.createElement(me.a,{status:t[i].badgeStatus||"default",text:t[i].name}):t[i].name}function nn(e,t,a){if(I.b(e)||!Array.isArray(t))return"";var n=t.findIndex(function(t){return t.value===e});return-1===n?e:a?o.a.createElement(me.a,{status:t[n].badgeStatus||"default",text:t[n].name}):t[n].name}function rn(e,t,a){if(I.b(e)||!Array.isArray(t))return"processing";var n=t.findIndex(function(t){return a?t[a]===e:t.name===e});return-1===n?"processing":t[n].badgeStatus}function on(e){try{var t=e||{},a=t.data,n=t.headers;if(a&&"application/json"===a.type)return"\u6bcf\u6b21\u53ea\u80fd\u5bfc\u51fa2000\u6761\u6570\u636e\uff0c\u8bf7\u8c03\u6574\u67e5\u8be2\u6761\u4ef6\u540e\u518d\u5bfc\u51fa";var r=n["new-content-disposition"]||n["content-disposition"],i=decodeURI(r.slice(20)),o=new Blob([a],{type:"application/vnd.ms-excel;charset=utf-8"});return en()(o,i),null}catch(l){console.error(l)}}function ln(){return window.BMap?Promise.resolve(window.BMap):new Promise(function(e,t){var a=document.createElement("script");a.type="text/javascript",a.dataset.name="map",a.src="https://api.map.baidu.com/api?v=3.0&ak=".concat("2RUyt79vH3CDGdSyhi2lH8UWwf8Fg4kT","&callback=initMap"),document.head.appendChild(a),window.initMap=function(){e(window.BMap)}})}function cn(e){return e?je.a.isMoment(e)?e.format(tn):e.time?je.a.unix(e.time/1e3).format(tn):je.a.isMoment(je()(e))?je()(e).format(tn):e||"-":"-"}var sn=a(166),dn=a.n(sn),un={title:"\u8f66\u8f86\u79fb\u52a8\u7533\u8bf7\u65f6\u95f4",dataIndex:"moveApplyTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},pn={title:"\u62bd\u67e5\u7c7b\u578b",dataIndex:"spottesttypeName"},mn={title:"\u662f\u5426\u5b50\u4efb\u52a1",dataIndex:"parentSpotId",align:"center",render:function(e){return Number(e)>0?o.a.createElement(k.a,{type:"check",style:{color:"green"}}):o.a.createElement(k.a,{type:"close",style:{color:"red"}})}},hn={title:"\u4efb\u52a1\u5efa\u7acb\u65f6\u95f4",dataIndex:"createTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},gn={title:"\u62bd\u67e5\u786e\u8ba4\u65f6\u95f4",dataIndex:"checkConfirmTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},fn={title:"\u62bd\u67e5\u786e\u8ba4\u7c7b\u578b",dataIndex:"checkConfirmType"},bn={title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},En={title:"\u5f02\u5e38\u539f\u56e0_\u5e73\u53f0",dataIndex:"ptNotPassFlag"},yn={title:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8",dataIndex:"ptRemarkExc"},vn={title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"id"},On={title:"\u79fb\u52a8\u7f16\u53f7",dataIndex:"taskId"},Sn={title:"\u4efb\u52a1\u53f7",dataIndex:"id",fixed:"left"},In={title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},Cn={title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"dealerName"},_n={title:"\u4e8c\u7f51\u9500\u91cf",dataIndex:"ewSalesNum",align:"center"},Tn={title:"\u4e8c\u7f51\u6240\u5728\u5730\u533a",dataIndex:"ewLocation"},An={title:"\u7ecf\u9500\u5546\u6240\u5728\u5730\u533a",dataIndex:"distributorLocation"},kn={title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName"},wn={title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldSerialName"},jn={title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldserialname"},xn={title:"\u54c1\u724c\u540d\u79f0",dataIndex:"brandName"},Dn={title:"\u5927\u533a\u540d\u79f0",dataIndex:"regionName"},Mn={title:"\u5c0f\u533a\u540d\u79f0",dataIndex:"regionSubName"},Nn={title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},Ln={title:"\u6240\u5c5e\u4e8c\u7f51",dataIndex:"parentEwName",render:function(e){return e||"-"}},Rn={title:"\u4e8c\u7f51\u7c7b\u578b",dataIndex:"ewId",align:"center",render:function(e){return 7===e.length?o.a.createElement("span",{className:"icon-span"},o.a.createElement(k.a,{type:"branches"}),"\u5206\u5e97"):o.a.createElement("span",{className:"icon-span"},o.a.createElement(k.a,{type:"home"}),"\u4e3b\u5e97")}},Pn={title:"\u4e8c\u7f51\u533a\u57df",dataIndex:"ewAreaName"},Un={title:"\u662f\u5426\u76f4\u8425",dataIndex:"isChainStore",align:"center",render:function(e){return an(e,ke.commonDic)}},Yn={title:"\u4fdd\u8bc1\u91d1\u6536\u53d6\u65b9\u5f0f",dataIndex:"moneyGetType",align:"center",render:function(e){return 1==e?"\u6309\u5e97":2==e?"\u6309\u53f0":"\u65e0"}},Fn={title:"\u7ecf\u9500\u5546\u7533\u8bf7\u65f6\u95f4",dataIndex:"applyTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},Hn={title:"\u521d\u5ba1\u901a\u8fc7\u65f6\u95f4",dataIndex:"firstTime",align:"center"},Kn={title:"\u521d\u5ba1\u64cd\u4f5c\u4eba",dataIndex:"firstTrialName"},qn={title:"\u590d\u5ba1\u901a\u8fc7\u65f6\u95f4",dataIndex:"affectTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},Bn={title:"\u5408\u540c\u5f00\u59cb\u65f6\u95f4",dataIndex:"startdate",align:"center"},Vn={title:"\u5408\u540c\u7ec8\u6b62\u65f6\u95f4",dataIndex:"enddate",align:"center"},Qn={title:"\u590d\u5ba1\u64cd\u4f5c\u4eba",dataIndex:"lastTrialName"},zn={title:"\u6700\u65b0\u5f02\u5e38\u65f6\u95f4",dataIndex:"exceptionTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},Wn={title:"\u521d\u5ba1\u901a\u8fc7\u65f6\u95f4",dataIndex:"ptAuditTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},Gn={title:"\u5b58\u5165\u65f6\u95f4",dataIndex:"saveDate",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},Xn={title:"\u4e1a\u52a1\u7c7b\u578b",dataIndex:"isfirst",align:"center",render:function(e){return an(e,ke.isfirstDicList)}},Jn={title:"\u4e1a\u52a1\u7c7b\u578b",dataIndex:"businessType",align:"center",render:function(e){return an(e,ke.isfirstDicList)}},Zn={title:"\u662f\u5426\u7b7e\u8ba2\u4e09\u65b9\u534f\u8bae",dataIndex:"isSign",align:"center",render:function(e){return an(e,ke.commonDic)}},$n={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"adjustMoney",render:function(e,t){return o.a.createElement(dn.a,{flag:2===t.operationType?"down":"up"},2===t.operationType?"-".concat(e):"+".concat(e))}},er={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"depositAmount",render:function(e,t){return 2===t.isfirst?o.a.createElement(dn.a,{flag:2===t.operationType?"down":"up"},2===t.operationType?"-".concat(t.depositAmount):"+".concat(t.depositAmount)):o.a.createElement(dn.a,{flag:2===t.operationType?"down":"up"},2===t.operationType?"-".concat(t.adjustMoney):"+".concat(t.adjustMoney))}},tr={title:"\u8f6c\u5165\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"inMoneyTotal"},ar={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"depositTotal"},nr={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"moneyTotal"},rr={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"money"},ir={title:"\u8f6c\u51fa\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"outMoneyTotal"},or={title:"\u79fb\u52a8\u53f0\u6570",align:"center",dataIndex:"moveNum"},lr={title:"\u79fb\u52a8\u91d1\u989d\uff08\u4e07\u5143\uff09",align:"center",dataIndex:"moveMoney"},cr={title:"\u58f0\u660e\u7c7b\u578b",dataIndex:"contractType",align:"center",render:function(e){return an(e,ke.contractTypeDicList)}},sr={title:"\u4fdd\u8bc1\u91d1\u7c7b\u578b",dataIndex:"operationType",align:"center",render:function(e){return an(e,ke.bondTypeDicList)}},dr={title:"\u5408\u540c\u662f\u5426\u53d8\u66f4",dataIndex:"isContractChange",align:"center",render:function(e){return an(e,ke.commonDic)}},ur={title:"\u58f0\u660e\u662f\u5426\u7b7e\u6536",dataIndex:"statementReceived",align:"center",render:function(e){return 1===e?"\u5426":0===e?"\u662f":""}},pr={title:"\u662f\u5426\u5b58\u5728\u5f02\u5e38",dataIndex:"isException",align:"center",render:function(e){return an(e,ke.commonDic)}},mr={title:"\u662f\u5426\u5bfc\u51fa",dataIndex:"isExport",align:"center",render:function(e){return an(e,ke.commonDic)}},hr={title:"\u4e1a\u52a1\u72b6\u6001",fixed:"right",dataIndex:"statusName",render:function(e){return o.a.createElement(me.a,{status:rn(e,ke.statusDicList),text:e})}},gr={title:"\u4e1a\u52a1\u72b6\u6001",fixed:"right",dataIndex:"status",width:120,render:function(e){return nn(e,ke.statusDicList,!0)}},fr={title:"\u9996\u6b21\u5173\u8054\u53d1\u8d77\u6570",dataIndex:"firstTimes"},br={title:"\u9996\u6b21\u5173\u8054\u521d\u5ba1\u901a\u8fc7\u6570",dataIndex:"firstPtPassTimes"},Er={title:"\u9996\u6b21\u5173\u8054\u590d\u5ba1\u901a\u8fc7\u6570",dataIndex:"firstBankPassTimes"},yr={title:"\u7eed\u4f5c\u53d1\u8d77\u6570",dataIndex:"continueTimes"},vr={title:"\u7eed\u4f5c\u521d\u5ba1\u901a\u8fc7\u6570",dataIndex:"continuePtPassTimes"},Or={title:"\u7eed\u4f5c\u590d\u5ba1\u901a\u8fc7\u6570",dataIndex:"continueBankPassTimes"},Sr={title:"\u5f02\u5e38\u5408\u8ba1",dataIndex:"exceptionTimes"},Ir={title:"\u58f0\u660e\u7f16\u53f7",dataIndex:"contractId",render:function(e,t){return 1===t.contractType?e:t.effectiveId}},Cr={title:"\u5feb\u9012\u5355\u53f7",dataIndex:"expressNum"},_r={title:"\u58f0\u660e\u90ae\u5bc4\u65f6\u95f4",dataIndex:"contractSendData"},Tr={title:"\u7b7e\u6536\u65e5\u671f",dataIndex:"contractConfirmData",render:function(e){return e&&je()(e).format("YYYY-MM-DD")}},Ar={title:"\u7b7e\u6536\u4eba",dataIndex:"receivedUserName"},kr={title:"\u4fdd\u8bc1\u91d1\u8d26\u53f7",dataIndex:"bondAccount",align:"center"},wr={title:"\u4fdd\u8bc1\u91d1\u5206\u8d26\u53f7",dataIndex:"pointsAccount",align:"center"},jr={title:"\u7701",dataIndex:"province",align:"center"},xr={title:"\u7701",dataIndex:"provinceStr",align:"center"},Dr={title:"\u7701\u4efd",dataIndex:"provinceName",align:"center"},Mr={title:"\u5e02",dataIndex:"city",align:"center"},Nr={title:"\u5e02",dataIndex:"cityStr",align:"center"},Lr={title:"\u57ce\u5e02",dataIndex:"cityName",align:"center"},Rr={title:"\u5730\u533a",dataIndex:"countyName",align:"center"},Pr={title:"\u5ba1\u6279\u5141\u8bb8\u79fb\u52a8\u603b\u53f0\u6570",dataIndex:"allowMoveCarNum",align:"center"},Ur={title:"\u4e8c\u7f51\u5b9e\u9645\u79fb\u52a8\u53f0\u6570",dataIndex:"ewFactMoveCar",align:"center"},Yr={title:o.a.createElement("div",null,o.a.createElement("span",{style:{paddingRight:"3px"}},"\u4e8c\u7f51\u79fb\u52a8\u8f66\u8f86\u6bd4\u4f8b"),o.a.createElement(G.a,{title:"\u4e8c\u7f51\u79fb\u52a8\u8f66\u8f86\u6bd4\u4f8b = \u4e8c\u7f51\u5b9e\u9645\u79fb\u52a8\u53f0\u6570 / \u62b5\u8d28\u62bc\u8f66\u603b\u6570"},o.a.createElement(k.a,{type:"info-circle",style:{color:"grey"}}))),dataIndex:"ewMoveCarRatio",align:"center"},Fr={title:"\u8d4e\u56de\u8f66\u8f86\u6570\u91cf",dataIndex:"foreclosureCarNum",align:"center"},Hr={title:"\u9500\u552e\u603b\u6570\u91cf",dataIndex:"salesNum",align:"center"},Kr={title:o.a.createElement("div",null,o.a.createElement("span",{style:{paddingRight:"3px"}},"\u4e8c\u7f51\u9500\u91cf\u5360\u6bd4"),o.a.createElement(G.a,{title:"\u4e8c\u7f51\u9500\u91cf\u5360\u6bd4 = \u4e8c\u7f51\u9500\u91cf / \u9500\u552e\u603b\u6570\u91cf"},o.a.createElement(k.a,{type:"info-circle",style:{color:"grey"}}))),dataIndex:"ewSalesRatio",align:"center"},qr={title:o.a.createElement("div",null,o.a.createElement("span",{style:{paddingRight:"3px"}},"\u539f20%\u79fb\u8f66\u6bd4\u4f8b"),o.a.createElement(G.a,{title:"\u539f20%\u79fb\u8f66\u6bd4\u4f8b = \u62b5\u8d28\u62bc\u8f66\u603b\u6570 * 20%\uff08\u5411\u4e0a\u53d6\u6574\uff09"},o.a.createElement(k.a,{type:"info-circle",style:{color:"grey"}}))),dataIndex:"rawMoveCarRatio",align:"center"},Br={title:o.a.createElement("div",null,o.a.createElement("span",{style:{paddingRight:"3px"}},"\u4e8c\u7f51\u79fb\u8f66\u589e\u91cf"),o.a.createElement(G.a,{title:"\u4e8c\u7f51\u79fb\u8f66\u589e\u91cf = \u4e8c\u7f51\u5b9e\u9645\u79fb\u52a8\u53f0\u6570 - \u539f20%\u79fb\u8f66\u6bd4\u4f8b\uff08\u8d1f\u6570\u8ba1\u4e3a0\uff09"},o.a.createElement(k.a,{type:"info-circle",style:{color:"grey"}}))),dataIndex:"ewMoveCarIncrement",align:"center"},Vr={title:"\u62b5/\u8d28\u62bc\u8f66\u603b\u6570",dataIndex:"mortgageCarNum",align:"center"},Qr={title:"\u8f66\u7cfb",dataIndex:"fld_model",align:"center"},zr={title:"\u8f66\u578b\u540d\u79f0",dataIndex:"fldTrimInfo",align:"center"},Wr={title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",align:"center"},Gr={title:"\u672b\u6b21\u79fb\u52a8\u65f6\u95f4",dataIndex:"moveintime",render:function(e){return e&&je()(e).format("YYYY-MM-DD")}},Xr={title:"\u8d4e\u8f66\u65f6\u95f4",dataIndex:"buytime",render:function(e){return e&&je()(e).format("YYYY-MM-DD")}},Jr={title:"\u9500\u552e\u65f6\u95f4",dataIndex:"showtime",render:function(e){return e&&je()(e).format("YYYY-MM-DD")}},Zr={title:"\u4e8c\u7f51\u6570\u91cf",dataIndex:"ewNum",align:"center"},$r={title:"\u7ecf\u9500\u5546\u6570\u91cf",dataIndex:"dealerNum"},ei={title:"\u53d1\u8d77\u9996\u6b21\u5173\u8054",dataIndex:"isfirstNum"},ti={title:"\u53d1\u8d77\u7eed\u4f5c",dataIndex:"sequelNum"},ai={title:"\u53d1\u8d77\u89e3\u9664\u5173\u8054",dataIndex:"relieveNum"},ni={title:"\u9996\u6b21\u590d\u5ba1\u901a\u8fc7\u6570",dataIndex:"firstReviewPassNum"},ri={title:"\u7eed\u4f5c\u590d\u5ba1\u901a\u8fc7\u6570",dataIndex:"sequelReviewPassNum"},ii={title:"\u89e3\u9664\u5173\u8054\u590d\u5ba1\u901a\u8fc7",dataIndex:"relieveReviewPassNum"},oi={title:"\u5df2\u5173\u8054\u4e8c\u7f51\u603b\u6570",dataIndex:"jointEwNum"},li={title:"\u4ed3\u5e93\u540d\u79f0",dataIndex:"name"},ci={title:"\u4ed3\u5e93\u7c7b\u578b",dataIndex:"locationTypeName"},si={title:"\u72b6\u6001",dataIndex:"statusName"},di={title:"\u521d\u5ba1\u64cd\u4f5c\u4eba",dataIndex:"auditUserName",align:"center"},ui={title:"\u521d\u5ba1\u65f6\u95f4",dataIndex:"auditTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},pi={title:"\u590d\u5ba1\u64cd\u4f5c\u4eba",dataIndex:"reviewUserName",align:"center"},mi={title:"\u590d\u5ba1\u65f6\u95f4",dataIndex:"reviewtime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},hi={title:"\u76d1\u7ba1\u516c\u53f8",dataIndex:"company",align:"center",width:120},gi={title:"\u54c1\u724c",dataIndex:"brand",width:120},fi={title:"\u7ecf\u9500\u5546",dataIndex:"dealer",width:100},bi={title:"\u8f66\u67b6\u53f7",dataIndex:"vin",width:150},Ei={title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createdTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD HH:mm:ss")}},yi={title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updatedTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD HH:mm:ss")}},vi={title:"\u751f\u6548\u65e5\u671f",dataIndex:"startTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD")}},Oi={title:"\u5931\u6548\u65e5\u671f",dataIndex:"endTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD")}},Si={title:"\u662f\u5426\u6709\u6548",dataIndex:"status"},Ii={title:"\u662f\u5426\u7279\u6b8a\u540d\u5355",dataIndex:"isSpecial",render:function(e){return 1===e?"\u662f":"\u5426"},width:100,align:"center"},Ci={title:"\u672c\u5468\u62bd\u67e5\u6b21\u6570",dataIndex:"cntByWeek"},_i={title:"\u672c\u6708\u62bd\u67e5\u6b21\u6570",dataIndex:"cntByMonth"},Ti={title:"\u64cd\u4f5c",dataIndex:"action"},Ai={title:"\u62bd\u67e5\u8bb0\u5f55\u751f\u6210\u65f6\u95f4",dataIndex:"createdTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD HH:mm:ss")}},ki={title:"\u661f\u671f",dataIndex:"dayForWeek",render:function(e,t){switch(t.createdTime&&je.a.unix(new Date(t.createdTime).getTime()/1e3).day()){case 1:return"\u661f\u671f\u4e00";case 2:return"\u661f\u671f\u4e8c";case 3:return"\u661f\u671f\u4e09";case 4:return"\u661f\u671f\u56db";case 5:return"\u661f\u671f\u4e94";case 6:return"\u661f\u671f\u516d";case 7:return"\u661f\u671f\u65e5";default:return""}}},wi={title:"\u7ecf\u9500\u5546\u6570",dataIndex:"superviseDealerCnt"},ji={title:"\u8f66\u8f86\u6570",dataIndex:"superviseVehicleCnt"},xi={title:"\u5360\u6bd4",dataIndex:"rate",render:function(e){return e+"%"}},Di={title:"\u4e3b\u5e93\u8f66\u6570\u91cf",dataIndex:"primaryRepoCnt"},Mi={title:"\u7edf\u8ba1\u65f6\u95f4",dataIndex:"createdTime"},Ni={title:"\u7ecf\u9500\u5546\u6570",dataIndex:"dealerCnt"},Li={title:"\u6587\u4ef6\u4e0a\u4f20\u65f6\u95f4",dataIndex:"createdTime",render:function(e){return e&&je.a.unix(new Date(e).getTime()/1e3).format("YYYY-MM-DD HH:mm:ss")}},Ri={title:"\u6587\u4ef6\u540d",dataIndex:"fileName"},Pi={title:"\u5904\u7406\u72b6\u6001",dataIndex:"actionStatus",render:function(e){return"1"===e?"\u5bfc\u5165\u5b8c\u6210":"\u5f85\u5bfc\u5165"}},Ui=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"right",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"\u5ba1\u6838",n=arguments.length>3?arguments[3]:void 0,r=Object(J.a)(e,{path:"/:menuId/:subMenuId?/:tab?"});if(!r)return{title:"\u64cd\u4f5c",align:"center",fixed:t,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(X.a,{to:{pathname:"/"}},o.a.createElement(G.a,{title:a},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}};var l=r.params,c=(l=void 0===l?{}:l).menuId,s=l.subMenuId,d=l.tab;return"primaryAudit"!==c&&"lastAudit"!==c&&(d=c,c="primaryAudit"),{title:"\u64cd\u4f5c",align:"center",fixed:t,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(X.a,{to:{pathname:"/".concat(c,"/detail/authInfo/").concat(t[n||"id"]),search:"".concat("list"===s?"?tab=".concat(d):s?"":"?menu=".concat(d))}},o.a.createElement(G.a,{title:a},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}},Yi={title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},Fi={title:"\u8054\u7cfb\u4eba",dataIndex:"operatorName"},Hi={title:"\u7535\u8bdd",dataIndex:"telNum"},Ki={title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"createdTime"},qi={title:"\u64cd\u4f5c\u4eba",dataIndex:"createdBy"},Bi={title:"\u5fae\u5e97\u72b6\u6001",dataIndex:"status",render:function(e){return 1===e?"\u5f00\u542f\u4e2d":"\u5df2\u5173\u95ed"}},Vi=a(239),Qi=a.n(Vi),zi={title:"\u4efb\u52a1\u53f7",dataIndex:"ewBankId",fixed:"left"},Wi={title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldSerial"},Gi={title:"\u54c1\u724c\u540d\u79f0",dataIndex:"brandName"},Xi={title:"\u4e8c\u7f51\u6570\u91cf",dataIndex:"ewNum"},Ji={title:"\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",align:"right",dataIndex:"money",render:function(e,t){return o.a.createElement(dn.a,{flag:2===t.operationType?"down":"up"},2===t.operationType?"-".concat(e):"+".concat(e))}},Zi={title:"\u4fdd\u8bc1\u91d1\uff08\u5143\uff09",dataIndex:"depositTotal",render:function(e){return new Qi.a(e).multipliedBy(1e4).toFormat()}},$i={title:"\u5f02\u5e38\u9884\u8b66",dataIndex:"exceptionLable",render:function(e){return e&&o.a.createElement(me.a,{status:"error",text:e})||""}},eo={title:"\u786e\u8ba4\u56de\u6267\u72b6\u6001",dataIndex:"confirmStatus",fixed:"right",width:"120px",render:function(e){return void 0!==e&&nn(e,ke.confirmStatusDic,!0)}},to={title:"\u4fdd\u8bc1\u91d1\u5f53\u524d\u4f59\u989d\uff08\u4e07\uff09",dataIndex:"curTotalMoney",align:"center"},ao={title:"\u5b58\u5165\u65f6\u95f4",dataIndex:"saveDate",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},no={title:"\u5bfc\u51fa\u65f6\u95f4",dataIndex:"operTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},ro={title:"\u5bfc\u51fa\u65f6\u95f4",dataIndex:"exportTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},io={title:"\u64cd\u4f5c\u4eba",dataIndex:"operName"},oo={title:"\u5bfc\u51fa\u7c7b\u578b",dataIndex:"exportType",align:"center",render:function(e){return an(e,ke.exportTypeDicList)}},lo={title:"\u662f\u5426\u6709\u4fdd\u8bc1\u91d1",dataIndex:"hasBond",align:"center",render:function(e,t){return 1==t.moneyGetType||2==t.moneyGetType?"\u662f":"\u5426"}},co={title:"\u4fdd\u8bc1\u91d1\u8d26\u53f7",dataIndex:"bondAccount"},so={title:"\u5206\u8d26\u53f7",dataIndex:"pointsAccount"},uo={title:"\u7ed3\u7b97\u8d26\u53f7",dataIndex:"settlementAccount"},po={title:"\u5e94\u89e3\u6c47\u6b3e\u8d26\u53f7",dataIndex:"remittanceAccount"},mo={title:"\u5229\u7387(%)",dataIndex:"interestRate"},ho={title:"\u662f\u5426\u5bfc\u51fa",dataIndex:"printNum",align:"center",render:function(e){return e>=1?"\u662f":"\u5426"}},go={title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"orderNo",fixed:"left"},fo={title:"\u8d26\u53f7",dataIndex:"buyUserAccid"},bo={title:"\u516c\u53f8\u540d\u79f0",dataIndex:"departname"},Eo={title:"\u8d26\u53f7\u6765\u6e90",dataIndex:"do_not_know3"},yo={title:"\u8ba2\u5355\u7c7b\u578b",dataIndex:"orderTypeStr"},vo={title:"\u4e0b\u5355\u7c7b\u578b",dataIndex:"orderSourceStr"},Oo={title:"\u670d\u52a1\u9879\u76ee",dataIndex:"goodsName"},So={title:"\u8ba2\u5355\u539f\u4ef7 (\u5143)",dataIndex:"orderAmountTotal"},Io={title:"\u6298\u6263\u7387 (%)",dataIndex:"orderDiscountRate"},Co={title:"\u6298\u540e\u4ef7 (\u5143)",dataIndex:"orderAmountTotalForSale"},_o={title:"\u8ba2\u5355\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"},To={title:"\u8ba2\u5355\u6709\u6548\u671f (\u6708)",dataIndex:"effectiveTimeInterval"},Ao={title:"\u4e0b\u5355\u4eba",dataIndex:"orderCreateUserName"},ko={title:"\u4ed8\u8d39\u65f6\u95f4",dataIndex:"payDate"},wo={title:"\u8ba2\u5355\u5f00\u59cb\u65f6\u95f4",dataIndex:"effectiveStartDate"},jo={title:"\u8ba2\u5355\u81ea\u52a8\u7ed3\u675f\u65f6\u95f4",dataIndex:"effectiveEndDate"},xo={title:"\u8ba2\u5355\u7ed3\u675f\u7c7b\u578b",dataIndex:"invalidationTypeStr"},Do={title:"\u8ba2\u5355\u5b9e\u9645\u7ed3\u675f\u65f6\u95f4",dataIndex:"endDate"},Mo={title:"\u529f\u80fd\u64cd\u4f5c",dataIndex:"orderAction",fixed:"right"},No={title:"\u8ba2\u5355\u91d1\u989d (\u5143)",dataIndex:"orderAmountTotal"},Lo={title:"\u9000\u6b3e\u7533\u8bf7\u65f6\u95f4",dataIndex:"updateTime"},Ro={title:"\u9000\u6b3e\u91d1\u989d (\u5143)",dataIndex:"refundAmount"},Po={title:"\u7f34\u8d39\u5bf9\u8c61",dataIndex:"details[0].goods.attrOpts[0].option.optionName"},Uo={title:"\u8ba2\u5355\u7f16\u53f7",dataIndex:"orderNo"},Yo={title:"\u8d26\u53f7",dataIndex:"accid"},Fo={title:"\u516c\u53f8\u540d\u79f0",dataIndex:"departname"},Ho={title:"\u7533\u8bf7\u5f00\u7968\u65f6\u95f4",dataIndex:"createTime"},Ko={title:"\u8ba2\u5355\u521b\u5efa\u65f6\u95f4",dataIndex:"orderCreateTime"},qo={title:"\u5b9e\u9645\u5f00\u7968\u91d1\u989d (\u5143)",dataIndex:"invoiceAmount"},Bo={title:"\u5f00\u7968\u7c7b\u578b",dataIndex:"invoicingMethodStr"},Vo={title:"\u5f00\u7968\u65b9\u5f0f",dataIndex:"invoiceTypeStr"},Qo={title:"\u5f00\u7968\u65f6\u95f4",dataIndex:"handleTime"},zo={title:"\u5f00\u7968\u4eba",dataIndex:"handleUserName"},Wo={title:"\u529f\u80fd\u64cd\u4f5c",dataIndex:"orderAction"},Go={title:"\u8ba2\u5355\u91d1\u989d (\u5143)",dataIndex:"orderAmount"},Xo={title:"\u7ec8\u7aef\u7f16\u53f7",dataIndex:"code",align:"left"},Jo={title:"\u7ec8\u7aef\u54c1\u724c",dataIndex:"brand",align:"left"},Zo={title:"\u578b\u53f7",dataIndex:"modelNumber",align:"left",width:100},$o={title:"sn\u7801/\u5e8f\u5217\u53f7",dataIndex:"serialNumber",align:"left"},el={title:"\u6700\u540e\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTime",align:"left",render:function(e){return cn(e)}},tl={title:"\u64cd\u4f5c",dataIndex:"action",align:"center",width:100},al={title:"\u9a8c\u8bc1\u7801",dataIndex:"code",align:"left",width:100},nl={title:"\u6444\u50cf\u5934\u7f16\u53f7",dataIndex:"serialNumber",align:"left",width:100},rl={title:"\u6444\u50cf\u5934\u54c1\u724c",dataIndex:"brand",align:"left",width:100},il={title:"\u50cf\u7d20",dataIndex:"pixel",align:"left"},ol={title:"\u8ddd\u79bb",dataIndex:"distance",align:"left"},ll={title:"\u4e8c\u5e93\u540d\u79f0",dataIndex:"whareHouseName",align:"left"},cl={title:"\u6444\u50cf\u5934\u6570\u91cf",dataIndex:"cameraNum",align:"left"},sl={title:"\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf",dataIndex:"realCarNum",align:"left"},dl={title:"\u6444\u50cf\u5934\u8bc6\u522b\u6570\u91cf",dataIndex:"monitorCarNum",align:"left"},ul={title:"\u8fd0\u884c\u60c5\u51b5",dataIndex:"status",align:"left",width:100,render:function(e){return e.toString()&&("0"===e.toString()?"\u6b63\u5e38":"\u5173\u95ed")}},pl={title:"\u5f71\u50cf\u7f16\u53f7",dataIndex:"imageCode",align:"left"},ml={title:"\u5f71\u50cf\u7c7b\u578b",dataIndex:"imageType",align:"left",render:function(e){return e.toString()&&("0"===e.toString()?"\u56fe\u7247":"\u89c6\u9891")}},hl={title:"\u7f29\u7565\u56fe",dataIndex:"imageOriginUrl",align:"left"},gl={title:"\u8bc6\u522b\u7ed3\u679c\u56fe",dataIndex:"imageRecognitionUrl",align:"left"},fl={title:"\u8bc6\u522b\u8f66\u8f86\u6570",dataIndex:"recognitionCarNum",align:"left"},bl={title:"\u56fe\u50cf\u83b7\u53d6\u65f6\u95f4",dataIndex:"imageGetTime",align:"left",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},El={title:"\u9884\u8b66\u7f16\u53f7",dataIndex:"warningCode"},yl={title:"\u53d1\u751f\u65f6\u95f4",dataIndex:"startTime"},vl={title:"\u9884\u8b66\u6700\u540e\u66f4\u65b0\u65f6\u95f4",dataIndex:"finishTime"},Ol={title:"\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf",dataIndex:"realNumber"},Sl={title:"\u5e93\u5b58\u8f66\u8bc6\u522b\u6570\u91cf",dataIndex:"recognitionCarNum"},Il={title:"\u89e3\u9664\u65f6\u95f4",dataIndex:"updateTime"},Cl={title:"\u89e3\u9664\u5907\u6ce8",dataIndex:"remark"};function _l(e){var t=[];switch(e){case"/storeManagement/distributor":t=[In,Yi,Fi,Hi,Ki,qi,Bi,Ti];break;case"/storeManagement/ew":t=[In,Nn,Yi,Fi,Hi,Ki,qi,Bi,Ti];break;case"/specialDealer":t=[hi,gi,fi,Ei,yi,vi,Oi,Si,Ti];break;case"/superviseManager":t=[Ai,ki,wi,ji,Ti];break;case"/spottestAudit/list/spotTask":t=[vn,In,pn,mn,hn,bn,gn,fn,kn,xn];break;case"/spottestAudit/list/moveTask":t=[vn,On,In,pn,mn,un,bn,fn,kn,xn];break;case"/spottestAudit/list/timeOut":t=[vn,In,pn,mn,hn,bn,gn,fn,kn,xn];break;case"/spottestAudit/list/todoComplete":t=[vn,On,In,pn,mn,un,hn,bn,gn,fn,kn,xn];break;case"/spotException":case"/movingException":t=[In,Nn,Wr,bn,En,yn,vn,kn];break;case"/dealerSaleRink":t=[kn,Dn,Mn,jn,In,An];break;case"/ewSaleRink":t=[kn,Dn,Mn,jn,In,An,Nn,Tn];break;case"/carMoving":t=[kn,Dn,Mn,Dr,Lr,Rr,jn,In,Zr,Vr,Pr,Ur,Yr,Fr,Hr,_n,Kr,qr,Br];break;case"/checkedDetail":t=[kn,Dn,Mn,Dr,Lr,Rr,jn,In,Nn,Tn,Qr,zr,Wr,Gr,Xr,Jr];break;case"/carSales":t=[kn,jn,Qr,zr];break;case"/primaryAudit/list/todoList":t=[Sn,In,kn,wn,Nn,Rn,Un,Xn,$n,or,lr,Fn,cr,dr,pr,hr,Ui(e)];break;case"/primaryAudit/list/expList":t=[Sn,In,kn,wn,Nn,Rn,Un,Xn,$n,or,lr,cr,dr,zn,hr,Ui(e,"right","\u67e5\u770b")];break;case"/primaryAudit/list/todoListForDistr":t=[Sn,In,kn,wn,Nn,Rn,Un,Xn,$n,or,lr,cr,dr,pr,hr,Ui(e,"right","\u67e5\u770b")];break;case"/primaryAudit/list/totalList":t=[Sn,In,kn,wn,Nn,Rn,Un,Fn,Hn,Kn,qn,Qn,Xn,er,or,lr,cr,Ir,Cr,_r,Tr,Ar,dr,pr,hr,Ui(e,"right","\u67e5\u770b")];break;case"/lastAudit/list/todoList":t=[Sn,In,kn,wn,Nn,Rn,Un,Xn,$n,or,lr,Hn,Kn,cr,dr,pr,Ui(e)];break;case"/lastAudit/list/expList":t=[Sn,In,kn,wn,Nn,Rn,Un,Xn,$n,or,lr,cr,dr,zn,hr,Ui(e,"right","\u67e5\u770b")];break;case"/lastAudit/list/totalList":t=[Sn,In,kn,wn,Nn,Rn,Un,Fn,Hn,Kn,qn,Qn,Xn,$n,or,lr,cr,Ir,Cr,_r,Tr,Ar,dr,ur,pr,mr,hr,Ui(e,"right","\u67e5\u770b")];break;case"/ewSummary":t=[kn,wn,In,fr,br,Er,yr,vr,Or,Sr];break;case"/ewDetail":t=[Sn,kn,wn,In,Nn,Ln,Pn,Un,Xn,lo,Yn,$n,or,lr,Zn,Bn,Vn,Fn,Hn,qn,Ir,Cr,_r,cr,dr,pr,hr];break;case"/disBond":t=[kn,wn,In,kr,wr,jr,Mr,ar,Zr];break;case"/ewBond":t=[kn,wn,In,Nn,lo,Yn,nr,tr,ir];break;case"/bondDetail":t=[Sn,kn,wn,In,Nn,jr,Mr,Un,lo,Yn,sr,rr,Wn,Gn,hr];break;case"/ewOnlineList":t=[kn,$r,Zr];break;case"/ewOnlineDetail":t=[kn,xn,Cn,xr,Nr,ei,ti,ai,ni,ri,ii,oi];break;case"/orderManagement/list/todoOrderList":t=[go,fo,bo,Eo,yo,vo,Oo,Po,So,Io,Co,_o,To,Ao,Mo];break;case"/orderManagement/list/doneOrderList":t=[go,fo,bo,Eo,yo,vo,Oo,Po,So,Io,Co,_o,ko,wo,To,jo,Ao,Mo];break;case"/orderManagement/list/goneOrderList":t=[go,fo,bo,Eo,yo,vo,Oo,Po,So,Io,Co,Ro,_o,ko,wo,To,jo,Ao,xo,Do,Mo];break;case"/invoiceManagement/list/todoInvoiceList":t=[Uo,Yo,Fo,Ko,Ho,Go,Bo,Vo,Wo];break;case"/invoiceManagement/list/doneInvoiceList":t=[Uo,Yo,Fo,Ko,Ho,Go,qo,Bo,Vo,Qo,zo,Wo];break;case"/refundManagement/list/todoRefundList":t=[go,fo,bo,Eo,yo,vo,Oo,No,_o,ko,wo,To,jo,Lo,Ao,Mo];break;case"/superviseAmount/list/dealerAmount":t=[hi,gi,fi,Ii,_i,Ci];break;case"/superviseAmount/list/vehicleAmount":t=[hi,gi,fi,bi,Ii,_i,Ci];break;case"/clientManagement":t=[Xo,Jo,Zo,$o,el,tl];break;case"/cameraList":t=[nl,rl,Zo,il,ol,al,el,tl];break;case"/repositoryList/list":t=[ll,cl,sl,dl,el,tl];break;case"/repositoryList/detail":t=[pl,ml,hl,gl,fl,bl];break;case"/repositoryWarning/todo":t=[El,ll,yl,vl,Ol,Sl,tl];break;case"/repositoryWarning/gone":t=[El,ll,yl,vl,Ol,Sl,Il,Cl]}return e.startsWith("/transfer")?t=[zi,kn,In,Nn,Wi,Xn,Ji,sr,lo,Yn,co,so,uo,mo,ho,qn]:e.startsWith("/printManagement")?t=e.startsWith("/printManagement/transferOutHis")?[no,io,oo]:[kn,Gi,In,Zi,Xi,co,po,so,uo]:e.startsWith("/confirmReceiptList")?t=[kn,Gi,In,Zi,Xi,co,so,uo,po,ro,oo,$i,eo]:e.startsWith("/repoAuditFirst/todo")?t=[kn,Gi,In,li,ci,si]:e.startsWith("/repoAuditFirst/all")?t=[kn,Gi,In,li,ci,si,di,ui,pi,mi]:e.startsWith("/repoAuditLast/todo")?t=[kn,Gi,In,li,ci,si,di,ui]:e.startsWith("/repoAuditLast/all")&&(t=[kn,Gi,In,li,ci,si,di,ui,pi,mi]),t}var Tl,Al,kl=[{title:"\u4efb\u52a1\u53f7",dataIndex:"id"},Nn,Xn,sr,$n,qn,gr],wl=[{title:"\u4efb\u52a1\u53f7",dataIndex:"ewBankId",fixed:"left"},In,Gi,Nn,Jn,sr,rr,{title:"\u590d\u5ba1\u901a\u8fc7\u65f6\u95f4",dataIndex:"lastTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}}],jl=ie.a.Item,xl=he.a.TextArea,Dl=ie.a.create()(Tl=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config={rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5f02\u5e38\u63cf\u8ff0"},{max:200,message:"\u5f02\u5e38\u63cf\u8ff0\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);a.props.onSubmit(n)}})},a.reset=function(){a.props.form.resetFields()},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(jl,Object.assign({label:"\u5f02\u5e38\u63cf\u8ff0"},{labelCol:{span:24},wrapperCol:{span:24}}),e("exceptionRemark",a.config)(o.a.createElement(xl,{rows:4}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||Tl,Ml=ie.a.Item,Nl=he.a.TextArea,Ll="YYYY-MM-DD HH:mm:ss",Rl=ie.a.create()(Al=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).contractConfig={rules:[{len:11,message:"\u610f\u613f\u51fd\u58f0\u660e\u7f16\u53f7\u5e94\u4e3a11\u4e2a\u5b57\u7b26"}]},a.contractConfig2={rules:[{len:12,message:"\u6548\u529b\u51fd\u58f0\u660e\u7f16\u53f7\u5e94\u4e3a12\u4e2a\u5b57\u7b26"},{pattern:/^X|x/,message:"\u6548\u529b\u51fd\u58f0\u660e\u7f16\u53f7\u5fc5\u987b\u4ee5X\u5f00\u5934"}]},a.config={rules:[{max:200,message:"\u5907\u6ce8\u63cf\u8ff0\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.timeConfig={rules:[{type:"object",required:!0,message:"\u8bf7\u9009\u62e9\u7b7e\u6536\u65f6\u95f4"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n={contractId:t.contractId||void 0,contractConfirmData:t.contractConfirmData.format(Ll),contractSignRemark:t.contractSignRemark};a.props.onSubmit(n)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u7ecf\u9500\u5546\u540d\u79f0"},r),o.a.createElement("span",null,n.distributorName))),o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u4e8c\u7f51\u540d\u79f0"},r),o.a.createElement("span",null,n.ewName)))),o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u4e8c\u7f51\u7c7b\u578b"},r),t("isChainStore")(o.a.createElement(he.a,{disabled:!0})))),o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u7ecf\u8425\u54c1\u724c"},r),t("fldSerialName")(o.a.createElement(he.a,{disabled:!0}))))),o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u5feb\u9012\u5355\u53f7"},r),t("expressNum")(o.a.createElement(he.a,{disabled:!0})))),o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u58f0\u660e\u7c7b\u578b"},r),t("contractType")(o.a.createElement(he.a,{disabled:!0}))))),o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u58f0\u660e\u7f16\u53f7"},r),t("contractId",1===n.contractType?a.contractConfig:a.contractConfig2)(o.a.createElement(he.a,{placeholder:"\u82e5\u4e0d\u586b\u5199\u7cfb\u7edf\u4f1a\u81ea\u52a8\u751f\u6210"})))),o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u7b7e\u6536\u65e5\u671f"},r),t("contractConfirmData",a.timeConfig)(o.a.createElement(ge.a,{style:{width:"100%"}}))))),o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:12},o.a.createElement(Ml,Object.assign({label:"\u7b7e\u6536\u72b6\u6001"},r),o.a.createElement("span",{className:"ant-form-text",style:{color:0===n.statementReceived?"#1da02b":"#ff0000"}},0===n.statementReceived?"\u5df2\u7b7e\u6536":"\u672a\u7b7e\u6536")))),o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:24},o.a.createElement(Ml,{label:"\u5907\u6ce8\u63cf\u8ff0",labelCol:{span:24},wrapperCol:{span:24}},t("contractSignRemark",a.config)(o.a.createElement(Nl,{rows:4,placeholder:"\u8bf7\u586b\u5199\u5907\u6ce8\u63cf\u8ff0"}))))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.record,t=e.isChainStore,a=e.fldSerialName,n=e.expressNum,r=e.contractId,i=e.contractType,o=e.effectiveId,l=e.contractConfirmData,c=e.contractSignRemark;this.props.form.setFields({isChainStore:{value:1===t?"\u76f4\u8425\u5e97":"\u975e\u76f4\u8425\u5e97"},fldSerialName:{value:a},expressNum:{value:n},contractType:{value:1===i?"\u610f\u613f\u51fd":"\u6548\u529b\u51fd"},contractId:{value:1===i?r:o},contractConfirmData:{value:l?je()(l):je()()},contractSignRemark:{value:c}})}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||Al,Pl=a(761),Ul=a.n(Pl);function Yl(e){function t(t){var a=t.className;return o.a.createElement("div",{className:"".concat(Ul.a[e]," ").concat(a||"")},t.children)}return t.displayName=e,t}var Fl,Hl=Yl("ViewWrapper"),Kl=Yl("FormArea"),ql=Yl("OperArea"),Bl="YYYY-MM-DD",Vl=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[],modalLoading:!1,contractModalVisible:!1,record:{}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);try{var i=e.disApplyTimeRange,o=e.ptAuditTimeRange,l=e.bankAuditTimeRange,c=e.exceptionTimeRange,s=e.contractPostTimeRange;if(i){var d=Object(y.a)(i,2),u=d[0],p=d[1];r.startTime=u&&u.format(Bl),r.endTime=p&&p.format(Bl),delete r.disApplyTimeRange}if(o){var m=Object(y.a)(o,2),h=m[0],g=m[1];r.firstStartTime=h&&h.format(Bl),r.firstEndTime=g&&g.format(Bl),delete r.ptAuditTimeRange}if(c){var f=Object(y.a)(c,2),b=f[0],v=f[1];r.excepStartTime=b&&b.format(Bl),r.excepEndTime=v&&v.format(Bl),delete r.exceptionTimeRange}if(l){var O=Object(y.a)(l,2),S=O[0],I=O[1];r.fsStartTime=S&&S.format(Bl),r.fsEndTime=I&&I.format(Bl),delete r.bankAuditTimeRange}if(s){var C=Object(y.a)(s,2),_=C[0],T=C[1];r.contractPostStartTime=_&&_.format(Bl),r.contractPostEndTime=T&&T.format(Bl),delete r.contractPostTimeRange}}catch(A){console.error(A)}a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExportTotal=function(){var e=S.a.loading("\u6279\u91cf\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e",0);a.props.exportTotal(a.props.query.value).then(function(){var e=on((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload);e&&S.a.warning(e,2.5)}).catch(function(e){return S.a.error("\u6279\u91cf\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)}).then(function(){e()})},a.showContractModal=function(e){return function(t){e&&a.setState({contractModalVisible:!0,modalLoading:!1,record:e})}},a.confirmContract=function(e){var t=a.state.record;a.setState({modalLoading:!0}),t&&a.props.confirmContract(Object(E.a)({id:t.id},e)).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t));S.a.success("\u58f0\u660e\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01")}).catch(function(e){return S.a.error("\u58f0\u660e\u4fe1\u606f\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01")}).then(function(){a.setState({modalLoading:!1,contractModalVisible:!1}),a.handleSearch(a.props.query.value)})},a.handleExcepModalOk=function(e){a.excepForm&&a.excepForm.handleSubmit()},a.handleContractModalOk=function(e){a.contractForm&&a.contractForm.handleSubmit()},a.handleCancel=function(){a.setState({excepModalVisible:!1,contractModalVisible:!1})},a.renderCustomOperCol=function(){var e=a.props.match,t=Object(J.a)(e.path,{path:"/:menuId/:subMenuId/:tab"}).params,n=(t=void 0===t?{}:t).menuId,r=t.subMenuId,l=t.tab;return{title:"\u64cd\u4f5c",fixed:"right",render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(X.a,{to:{pathname:"/".concat(n,"/detail/authInfo/").concat(t.id),search:"".concat("list"===r?"?tab=".concat(l):"")}},o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),0===t.status&&2!==t.isfirst&&o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showContractModal(t)},o.a.createElement(G.a,{title:"\u58f0\u660e\u7b7e\u6536"},o.a.createElement(k.a,{type:"file-done",style:{color:"#1890ff"}}))))}}},a.renderColumns=function(){var e=a.props,t=e.match,n=e.showCustomOperCol,r=_l(t.path);return n?(r.splice(-1,1,a.renderCustomOperCol()),r):r},a.handleSelectRow=function(e){a.setState({selectedRowKeys:e})},a.handleExportRow=function(e){var t=S.a.loading("\u6279\u91cf\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e",0);a.props.exportSelected({ids:e.join()}).then(function(){var e=on((arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload);t(),e&&S.a.warning(e,2.5)}).catch(function(e){t(),S.a.error("\u6279\u91cf\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.showTableOperArea;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumns(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,showTableOperArea:r,onSelectRow:this.handleSelectRow,onOperMultipleRow:this.handleExportRow})),o.a.createElement(z.a,{title:"\u58f0\u660e\u7b7e\u6536",visible:this.state.contractModalVisible,onOk:this.handleContractModalOk,confirmLoading:this.state.modalLoading,onCancel:this.handleCancel,width:780,destroyOnClose:!0},o.a.createElement(Rl,{wrappedComponentRef:function(t){return e.contractForm=t},onSubmit:this.confirmContract,record:this.state.record})))}}]),t}(i.Component),Ql=Object(Y.a)((Fl={},Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_PRIMARY_EXP_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryExp:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_PRIMARY_DIS_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDis:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_PRIMARY_TOTAL_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTotal:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_LAST_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_LAST_EXP_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastExp:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/FETCH_LAST_TOTAL_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastTotal:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_EXP_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryExpQuery:Object(E.a)({},e.primaryExpQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_DIS_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDisQuery:Object(E.a)({},e.primaryDisQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_TOTAL_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTotalQuery:Object(E.a)({},e.primaryTotalQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_LAST_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastTodoQuery:Object(E.a)({},e.lastTodoQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_LAST_EXP_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastExpQuery:Object(E.a)({},e.lastExpQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/UPDATE_LAST_TOTAL_QUERY",{next:function(e,t){return Object(E.a)({},e,{lastTotalQuery:Object(E.a)({},e.lastTotalQuery,t.payload)})}}),Object(U.a)(Fl,"YICHAKU/EWAUDITLIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Fl),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryExp:{list:[],paging:{current:1,pageSize:10,total:10}},primaryDis:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTotal:{list:[],paging:{current:1,pageSize:10,total:10}},lastTodo:{list:[],paging:{current:1,pageSize:10,total:10}},lastExp:{list:[],paging:{current:1,pageSize:10,total:10}},lastTotal:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{status:-1},expandForm:!1},primaryExpQuery:{value:{status:-1},expandForm:!1},primaryDisQuery:{value:{},expandForm:!1},primaryTotalQuery:{value:{status:-1},expandForm:!1},lastTodoQuery:{value:{isfirst:-1},expandForm:!1},lastExpQuery:{value:{status:-1},expandForm:!1},lastTotalQuery:{value:{status:-1},expandForm:!1}}),zl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_PRIMARY_TODO_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankAuditPt","ebQuery",e,t)}),Wl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_PRIMARY_EXP_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankExcetionList","ebQuery",e,t)}),Gl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_PRIMARY_DIS_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankDistWaitAuditList","ebQuery",e,t)}),Xl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_PRIMARY_TOTAL_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankAllList","ebQuery",e,t)}),Jl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_LAST_TODO_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankAuditBank","ebQuery",e,t)}),Zl=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_LAST_EXP_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankExcetionList","ebQuery",e,t)}),$l=Object(F.a)("YICHAKU/EWAUDITLIST/FETCH_LAST_TOTAL_QUERY",function(e,t,a){return H.e.formSubmit("/EwDistributorAction_ewBankAllList","ebQuery",e,t)}),ec=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_TODO_QUERY"),tc=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_EXP_QUERY"),ac=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_DIS_QUERY"),nc=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_PRIMARY_TOTAL_QUERY"),rc=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_LAST_TODO_QUERY"),ic=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_LAST_EXP_QUERY"),oc=Object(F.a)("YICHAKU/EWAUDITLIST/UPDATE_LAST_TOTAL_QUERY"),lc=Object(F.a)("YICHAKU/EWAUDITLIST/CONFIRM_RECEIPT",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditConfirmReceiptBt","ebQuery",e)}),cc=Object(F.a)("YICHAKU/EWAUDITLIST/CONFIRM_RECEIPT_SINGLE",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditConfirmReceipt","ebQuery",e)}),sc=Object(F.a)("YICHAKU/EWAUDITLIST/CONFIRM_EXCEPTION",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditMarkException","ebQuery",e)}),dc=Object(F.a)("YICHAKU/EWAUDITLIST/CONFIRM_CONTRACT",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditContractSigned","ebQuery",e)}),uc=Object(F.a)("YICHAKU/EWAUDITLIST/EXPORT_TOTAL",function(e){return H.b.formSubmit("/EwDistributorAction_exportEwBankAllList","ebQuery",e)}),pc=Object(F.a)("YICHAKU/EWAUDITLIST/EXPORT_SELECTED",function(e){return H.b.formSubmit("/EwDistributorAction_exportBatchEwBankAllList","ebQuery",e)});var mc=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.primaryTodo.list,paging:e.ewAuditList.primaryTodo.paging,query:e.ewAuditList.primaryTodoQuery}},function(e){return{fetch:function(t,a){return e(zl(t,a,"primaryTodoList"))},updateQuery:function(t){return e(ec(t))}}})(Vl);var hc=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.primaryExp.list,paging:e.ewAuditList.primaryExp.paging,query:e.ewAuditList.primaryExpQuery}},function(e){return{fetch:function(t,a){return e(Wl(t,a,"expList"))},updateQuery:function(t){return e(tc(t))}}})(Vl);var gc=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.primaryDis.list,paging:e.ewAuditList.primaryDis.paging,query:e.ewAuditList.primaryDisQuery}},function(e){return{fetch:function(t,a){return e(Gl(t,a,"todoListForDistr"))},updateQuery:function(t){return e(ac(t))}}})(Vl);var fc=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.primaryTotal.list,paging:e.ewAuditList.primaryTotal.paging,query:e.ewAuditList.primaryTotalQuery,showTableOperArea:!0,showCustomOperCol:!0}},function(e){return{fetch:function(t,a){return e(Xl(t,a,"totalList"))},updateQuery:function(t){return e(nc(t))},exportSelected:function(t){return e(pc(t))},confirmContract:function(t){return e(dc(t))}}})(Vl),bc=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,'"EwAuditDetail"')}}]),t}(i.Component);var Ec,yc=Object(h.b)(null,function(e){return{fetch:function(){return e(function(){})}}})(bc),vc=(a(75),a(50)),Oc=a(26),Sc=(a(471),a(184)),Ic=a(38),Cc=Object(Y.a)((Ec={},Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_AUTH_INFO",{next:function(e,t){var a=t.payload.data;return Object(E.a)({},e,{authInfo:{contractList:Array.isArray(a.contract)?a.contract.map(function(e){return{path:e.absolutePath,time:e.opStarttime.time,location:e.location,latitude:e.latitude,longitude:e.longitude}}):[],rentalList:Array.isArray(a.rental)?a.rental.map(function(e){return{path:e.absolutePath,time:e.opStarttime.time,location:e.location,latitude:e.latitude,longitude:e.longitude}}):[],statementList:Array.isArray(a.statementPic)?a.statementPic.map(function(e){return{path:e.absolutePath,time:e.opStarttime.time,location:e.location,latitude:e.latitude,longitude:e.longitude}}):[],addtionalPhotos:Array.isArray(a.addtionalPhotos)?a.addtionalPhotos.map(function(e){return{path:e.absolutePath,time:e.opStarttime.time,location:e.location,latitude:e.latitude,longitude:e.longitude}}):[],eb:a.eb||{},bank:a.bank||{},bond:a.bond||{},business:a.business?{path:a.business.absolutePath,time:a.business.opStarttime.time,location:a.business.location,latitude:a.business.latitude,longitude:a.business.longitude}:{},handIdPic:a.handIdPic?{path:a.handIdPic.absolutePath,time:a.handIdPic.opStarttime.time,location:a.handIdPic.location,latitude:a.handIdPic.latitude,longitude:a.handIdPic.longitude}:{},handSignPic:a.handSignPic?{path:a.handSignPic.absolutePath,time:a.handSignPic.opStarttime.time,location:a.handSignPic.location,latitude:a.handSignPic.latitude,longitude:a.handSignPic.longitude}:{},idBack:a.idBack?{path:a.idBack.absolutePath,time:a.idBack.opStarttime.time,location:a.idBack.location,latitude:a.idBack.latitude,longitude:a.idBack.longitude}:{},idFront:a.idFront?{path:a.idFront.absolutePath,time:a.idFront.opStarttime.time,location:a.idFront.location,latitude:a.idFront.latitude,longitude:a.idFront.longitude}:{},isContractPerfect:a.isContractPerfect,isDirectSaleStore:a.isDirectSaleStore}})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/BOND_HISTORY",{next:function(e,t){return Object(E.a)({},e,{bondHistory:t.payload.data.list||[]})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/DISTRIBUTOR_INFO",{next:function(e,t){return Object(E.a)({},e,{distributorInfo:t.payload.data})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/EW_INFO",{next:function(e,t){return Object(E.a)({},e,{ewInfo:t.payload.data})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_EXPRESS_INFO",{next:function(e,t){return Object(E.a)({},e,{expressInfo:t.payload.data||{}})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_TRACK_RECORD",{next:function(e,t){return Object(E.a)({},e,{trackRecord:t.payload.data.list||[]})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_AUTH_HISTORY",{next:function(e,t){return Object(E.a)({},e,{authHistory:t.payload.data.list||[]})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_EXCEP_RECORD",{next:function(e,t){return Object(E.a)({},e,{excepRecord:t.payload.data.list||[]})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/FETCH_OPERATION",{next:function(e,t){return Object(E.a)({},e,{operation:t.payload.data.list||[]})}}),Object(U.a)(Ec,"YICHAKU/EWAUDITDETAIL/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Ec),{authInfo:{},bondHistory:[],distributorInfo:{},ewInfo:{},expressInfo:{},trackRecord:[],authHistory:[],excepRecord:[],operation:[],loading:!0}),_c=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_AUTH_INFO",function(e){return H.e.formSubmit("/EwDistributorAction_ewBankAuditDetailsPt","ebQuery",e)}),Tc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_BOND_PASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditDepositPassPt","eb",e)}),Ac=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_BOND_NOTPASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditDepositNotPassPt","eb",e)}),kc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_INFO_PASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditEwInfoPassPt","eb",e)}),wc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_INFO_NOTPASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditEwInfoNotPassPt","eb",e)}),jc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_FINALLY_PASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditPassBank","eb",e)}),xc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_FINALLY_NOTPASS",function(e){return H.e.formSubmit("/EwDistributorAction_ewAuditNotPassBank","eb",e)}),Dc=Object(F.a)("YICHAKU/EWAUDITDETAIL/AUTH_FINALLY_NOTPASS",function(e,t){return"21"==t?H.e.formSubmit("/EwDistributorAction_updateMoveMoney","",{oldMoveMoney:e.oldMoveNum,newMoveMoney:e.newMoveNum,id:e.id}):H.e.formSubmit("/EwDistributorAction_updateMoveNum","",e)}),Mc=Object(F.a)("YICHAKU/EWAUDITDETAIL/BOND_HISTORY",function(e){return H.e.formSubmit("/BondFlowAction_depositAuditHistoryList","ebQuery",e)}),Nc=Object(F.a)("YICHAKU/EWAUDITDETAIL/DISTRIBUTOR_INFO",function(e){return H.e.formSubmit("/EwDistributorAction_distriDetailsForDeposit","ebQuery",e)}),Lc=Object(F.a)("YICHAKU/EWAUDITDETAIL/EW_INFO",function(e){return H.e.formSubmit("/EwAction_ewInfoForDeposit","ebQuery",e)}),Rc=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_TRACK_RECORD",function(e){return H.e.formSubmit("/EwDistributorAction_ewBankTraceList","ebQuery",e)}),Pc=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_EXPRESS_INFO",function(e){return H.e.formSubmit("/EwDistributorAction_expressInfo","ebQuery",e)}),Uc=Object(F.a)("YICHAKU/EWAUDITDETAIL/INSERT_TRACK_RECORD",function(e){return H.e.formSubmit("/EwDistributorAction_addTrace","ebQuery",e)}),Yc=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_AUTH_HISTORY",function(e){return H.e.formSubmit("/EwDistributorAction_ewBankAuditHistoryList","ebQuery",e)}),Fc=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_EXCEP_RECORD",function(e){return H.e.formSubmit("/EwDistributorAction_ewBankExceptionFlowList","ebQuery",e)}),Hc=Object(F.a)("YICHAKU/EWAUDITDETAIL/CONFIRM_EXCEP_RECORD",function(e){return H.e.formSubmit("/EwDistributorAction_exceptionSolveCommitPt","ebQuery",e)}),Kc=Object(F.a)("YICHAKU/EWAUDITDETAIL/FETCH_OPERATION",function(e){return H.e.formSubmit("/EwDistributorAction_ewBankAduditFlowList","ebQuery",e)}),qc=a(1027),Bc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).goBack=function(){try{var e=a.props.match.params.menu,t=a.props.location.search,n=I.c(/tab=\w+/g,t||""),r=Object(y.a)(n,1)[0],i=I.c(/menu=\w+/g,t||""),o=Object(y.a)(i,1)[0],l=I.c(/newMenu=\w+/g,t||""),c=Object(y.a)(l,1)[0];if(!e)e=Object(J.a)(a.props.location.pathname,{path:"/:menu"}).params.menu;var s="/".concat(e);if(r){var d=r&&r.slice(4);s="/".concat(e,"/list/").concat(d||"todoList")}else if(c){var u=c&&c.slice(8);s={pathname:"/".concat(u),search:o?"?menu=".concat(o&&o.slice(5)):""}}else if(o){var p=o&&o.slice(5);s="/".concat(p)}a.props.history.push(s)}catch(m){}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de\u5217\u8868")}}]),t}(i.PureComponent),Vc=Object(qc.a)(Object(h.b)(null,null)(Bc)),Qc=a(283),zc=a.n(Qc);function Wc(e){var t=e.title,a=e.height,n=e.style,r=Object(E.a)({},{height:a||"auto"},n);return t?o.a.createElement("main",{className:zc.a.detailWrapperWithTitle,style:r},o.a.createElement("div",{className:zc.a.detailHeader},o.a.createElement("div",{className:zc.a.detailTitle},t)),o.a.createElement("div",{className:zc.a.detailContent},e.children)):o.a.createElement("main",{className:zc.a.detailWrapper,style:r},e.children)}var Gc=a(205),Xc=a.n(Gc);function Jc(e){var t=e.list,a=e.col,n=void 0===a?3:a,r=e.layout,i=void 0===r?"horizonal":r;return o.a.createElement("div",null,ce()(t,n).map(function(e,t){return o.a.createElement(N.a,{gutter:24,key:t},e.map(function(e,t){return o.a.createElement(L.a,{span:24/n,key:t},"horizonal"===i?o.a.createElement("div",null,o.a.createElement("span",{className:"".concat(Xc.a.label," ").concat(e.highlight?"".concat(Xc.a.bold):"")},e.label),o.a.createElement("span",{className:"".concat(Xc.a.value," ").concat(e.highlight?"".concat(Xc.a.bold):"")},e.value)):o.a.createElement("div",{className:Xc.a.wrapper},o.a.createElement("div",{className:Xc.a.title},e.label),o.a.createElement("div",{className:Xc.a.newValue},e.value||"-")))}))}))}a(115);var Zc,$c,es,ts=a(25),as=(a(472),a(236)),ns=oe.a.Option,rs=oe.a.OptGroup,is=ie.a.Item,os=he.a.TextArea,ls=(ge.a.RangePicker,function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.onCancel()},a.onSubmit=function(e){a.setState({loading:!0}),a.props.onSubmit(e,a.props.record).then(function(e){var t=e.data,n=void 0===t?{}:t;if(!n||0!==n.result&&200!==n.code)return Promise.reject(n&&(n.msg||n.message)||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success("\u64cd\u4f5c\u6210\u529f"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.title,n=void 0===a?"\u67e5\u770b":a,r=t.width,i=t.onCancel,l=t.configList,c=void 0===l?[]:l,s=t.style,d=t.record;return o.a.createElement(z.a,{title:n,width:r,onOk:this.handleOk,onCancel:i,style:s,visible:!0,confirmLoading:this.state.loading,destroyOnClose:!0},o.a.createElement(cs,{configList:c,wrappedComponentRef:function(t){return e.form=t},onSubmit:this.onSubmit,record:d}))}}]),t}(i.PureComponent)),cs=ie.a.create()(Zc=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.renderRule=function(e){var t="\u8f93\u5165";return"textArea"===e.type?e.rules||(e.required?[{required:!0,message:"\u8bf7\u8f93\u5165".concat(e.label)},{max:200,message:"\u6700\u591a\u8f93\u5165200\u4e2a\u5b57\u7b26"}]:[{max:200,message:"\u6700\u591a\u8f93\u5165200\u4e2a\u5b57\u7b26"}]):("radio"!==e.type&&"select"!==e.type&&"datePicker"!==e.type&&"custom"!==e.type||(t="\u9009\u62e9"),Array.isArray(e.rules)?(e.rules.forEach(function(e){e.validator&&(e.validator=e.validator.bind(Object(Oc.a)(Object(Oc.a)(a))))}),e.rules):e.required?[{required:!0,message:"\u8bf7".concat(t).concat(e.label)}]:[])},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.configList,r=e.record;return n.map(function(e,n){switch(e.type){case"label":return o.a.createElement(is,{label:e.label,key:n},o.a.createElement("span",null,e.key?r[e.key]:e.value));case"input":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{initialValue:e.initialValue,rules:a.renderRule(e)})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165".concat(e.label),disabled:e.disabled})));case"inputNumber":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{initialValue:e.initialValue,rules:a.renderRule(e)})(o.a.createElement(as.a,e)));case"textArea":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{rules:a.renderRule(e)})(o.a.createElement(os,Object.assign({placeholder:"\u8bf7\u8f93\u5165".concat(e.label),rows:3},e))));case"datePicker":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{rules:a.renderRule(e),initialValue:e.initialValue})(o.a.createElement(ge.a,Object.assign({format:e.showTime?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD"},e))));case"radio":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{rules:a.renderRule(e),initialValue:e.initialValue})(o.a.createElement(ts.a.Group,{disabled:e.disabled},Array.isArray(e.optionList)&&e.optionList.map(function(e){return o.a.createElement(ts.a,{value:e.value,key:e.value},e.label)}))));case"select":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{rules:a.renderRule(e),initialValue:e.initialValue})(o.a.createElement(oe.a,{placeholder:e.placeholder,showSearch:e.showSearch||!1,optionFilterProp:"children",disabled:e.disabled},Array.isArray(e.optionList)&&(e.optionGroup?e.optionList.map(function(e){return o.a.createElement(rs,{label:e.groupName,key:e.groupName},e.list.map(function(e){return o.a.createElement(ns,{value:e.value,key:e.value},e.name)}))}):e.optionList.map(function(e,t){return o.a.createElement(ns,{value:e.value||e.code,key:t},e.name)})))));case"custom":return o.a.createElement(is,{label:e.label,key:n},t(e.key,{rules:a.renderRule(e),initialValue:e.initialValue})(o.a.createElement(ne.a,{options:e.options,placeholder:"\u8bf7\u9009\u62e9".concat(e.label)})));default:return null}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),this.renderForm())}}]),t}(i.PureComponent))||Zc,ss=a(65),ds=a.n(ss),us=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePreview=function(){a.props.showPreview&&a.props.showPreview(a.props.cardId||0)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.path,a=e.title,n=e.time,r=e.location,i=e.latitude,l=e.longitude,c=e.isVideo,s=e.noImage,d=e.hideDetail;return o.a.createElement("div",{className:ds.a.imageCard},!s&&o.a.createElement("div",{className:ds.a.image,style:{backgroundImage:c?"":"url(".concat(t,")")}},o.a.createElement("div",{onClick:this.handlePreview},c&&o.a.createElement("video",{src:t,controls:"controls"}),!c&&o.a.createElement("div",{className:ds.a.preview}))),o.a.createElement("div",{className:ds.a.content},o.a.createElement("div",{className:ds.a.header},o.a.createElement("p",{className:ds.a.title},a),o.a.createElement("p",{className:ds.a.subtitle},"\u62cd\u6444\u65f6\u95f4\uff1a",n&&je.a.unix(n/1e3).format("YYYY-MM-DD HH:mm:ss"))),!d&&o.a.createElement("div",{className:ds.a.detail},o.a.createElement("p",{className:ds.a.location},"\u62cd\u6444\u5730\u70b9\uff1a",r),o.a.createElement("p",{className:ds.a.latitude},"\u7ecf\u5ea6\uff1a",l),o.a.createElement("p",{className:ds.a.longitude},"\u7eac\u5ea6\uff1a",i))))}}]),t}(i.PureComponent),ps=a(122),ms=a.n(ps),hs=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,startIndex:0},a.handleCancel=function(){a.setState({modalVisible:!1}),a.container.style.display="none"},a.handlePreivew=function(e){return function(){a.container.parentNode.removeChild(a.container),document.getElementById("root").appendChild(a.container),a.container.style.display="block",a.setState({modalVisible:!0,startIndex:e})}},a.findIndex=function(e,t){var a=t.findIndex(function(t){return t.id==e});return-1===a?0:a},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var e=this,t=this.props,a=t.eb,n=t.business,r=t.contractList,i=t.idFront,l=t.idBack,c=t.handIdPic,s=t.handSignPic,d=t.statementList,u=t.rentalList,p=t.addtionalPhotos,m=1===this.props.isDirectSaleStore,h=[];return n&&h.push({id:"business",alt:"\u8425\u4e1a\u6267\u7167",src:n.path}),Array.isArray(r)&&r.forEach(function(e,t){h.push({id:"contractList".concat(t+1),alt:"\u5408\u540c\u7167\u7247 ".concat(t+1),src:e.path})}),m?Array.isArray(p)&&p.forEach(function(e,t){h.push({id:"addtionalPhotos".concat(t+1),alt:"\u76f4\u8425\u5e97\u62c5\u4fdd\u627f\u8bfa\u4e66 ".concat(t+1),src:e.path})}):(i&&h.push({id:"idFront",alt:"\u8eab\u4efd\u8bc1\u6b63\u9762",src:i.path}),l&&h.push({id:"idBack",alt:"\u8eab\u4efd\u8bc1\u80cc\u9762",src:l.path}),c&&h.push({id:"handIdPic",alt:"\u7b7e\u7f72\u4eba\u624b\u6301\u8eab\u4efd\u8bc1",src:c.path}),s&&h.push({id:"handSignPic",alt:"\u7b7e\u7f72\u58f0\u660e\u7167\u7247",src:s.path}),Array.isArray(d)&&d.forEach(function(e,t){h.push({id:"statementList".concat(t+1),alt:"\u58f0\u660e\u7167\u7247 ".concat(t+1),src:e.path})}),Array.isArray(u)&&u&&a&&7===a.ewId.length&&u.forEach(function(e,t){h.push({id:"rentalList".concat(t+1),alt:"\u79df\u8d41\u534f\u8bae ".concat(t+1),src:e.path})})),o.a.createElement("div",null,o.a.createElement(N.a,{gutter:16},n&&o.a.createElement(L.a,{span:6,key:"business"},o.a.createElement(us,Object.assign({},n,{title:"\u8425\u4e1a\u6267\u7167",hideDetail:!0,showPreview:this.handlePreivew(this.findIndex("business",h))}))),r&&r.map(function(t,a){return t&&o.a.createElement(L.a,{span:6,key:"contractList".concat(a+1)},o.a.createElement(us,Object.assign({},t,{hideDetail:!0,title:"\u5408\u540c\u7167\u7247 ".concat(a+1),showPreview:e.handlePreivew(e.findIndex("contractList".concat(a+1),h))})))}),!m&&i&&o.a.createElement(L.a,{span:6,key:"idFront"},o.a.createElement(us,Object.assign({},i,{title:"\u8eab\u4efd\u8bc1\u6b63\u9762",showPreview:this.handlePreivew(this.findIndex("idFront",h))}))),!m&&l&&o.a.createElement(L.a,{span:6,key:"idBack"},o.a.createElement(us,Object.assign({},l,{title:"\u8eab\u4efd\u8bc1\u80cc\u9762",showPreview:this.handlePreivew(this.findIndex("idBack",h))}))),!m&&c&&o.a.createElement(L.a,{span:6,key:"handIdPic"},o.a.createElement(us,Object.assign({},c,{title:"\u7b7e\u7f72\u4eba\u624b\u6301\u8eab\u4efd\u8bc1",showPreview:this.handlePreivew(this.findIndex("handIdPic",h))}))),!m&&s&&o.a.createElement(L.a,{span:6,key:"handSignPic"},o.a.createElement(us,Object.assign({},s,{title:"\u7b7e\u7f72\u58f0\u660e\u7167\u7247",showPreview:this.handlePreivew(this.findIndex("handSignPic",h))}))),!m&&d&&d.map(function(t,a){return t&&o.a.createElement(L.a,{span:6,key:"statementList".concat(a+1)},o.a.createElement(us,Object.assign({},t,{title:"\u58f0\u660e\u7167\u7247",showPreview:e.handlePreivew(e.findIndex("statementList".concat(a+1),h))})))}),!m&&u&&a&&7===a.ewId.length&&u.map(function(t,a){return t&&o.a.createElement(L.a,{span:6,key:"rentalList".concat(a+1)},o.a.createElement(us,Object.assign({},t,{hideDetail:!0,title:"\u79df\u8d41\u534f\u8bae ".concat(a+1),showPreview:e.handlePreivew(e.findIndex("rentalList".concat(a+1),h))})))}),m&&p&&p.map(function(t,a){return t&&o.a.createElement(L.a,{span:6,key:"addtionalPhotos".concat(a+1)},o.a.createElement(us,Object.assign({},t,{hideDetail:!0,title:"\u76f4\u8425\u5e97\u62c5\u4fdd\u627f\u8bfa\u4e66 ".concat(a+1),showPreview:e.handlePreivew(e.findIndex("addtionalPhotos".concat(a+1),h))})))})),o.a.createElement("div",{id:"detailImageModal",ref:function(t){return e.container=t}},o.a.createElement("div",{className:"detailImageContent"},this.props.contentList.map(function(e,t){return o.a.createElement("h5",{key:t},"".concat(e.label,"\uff1a").concat(e.value))})),o.a.createElement("div",{className:"detailImageSubContent",ref:function(t){return e.subContainer=t}})),o.a.createElement(ms.a,{container:this.subContainer,visible:this.state.modalVisible,onClose:this.handleCancel,activeIndex:this.state.startIndex,images:h}))}}]),t}(i.PureComponent),gs=ie.a.Item,fs=ts.a.Group,bs=he.a.TextArea,Es=ie.a.create()($c=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config={rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u9000\u56de\u539f\u56e0"},{max:200,message:"\u9000\u56de\u539f\u56e0\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);a.props.onSubmit(n)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.disableFirstRedio,r=e.hideThirdRedio,i={labelCol:{span:6},wrapperCol:{span:16}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},!a.props.finallyAuth&&o.a.createElement(gs,Object.assign({label:"\u9000\u56de\u5230"},i,{required:!0}),t("returnWhere",{initialValue:n?"2":"1"})(o.a.createElement(fs,null,o.a.createElement(G.a,{title:n?"\u76f4\u8425\u5e97\u53ea\u80fd\u9000\u56de\u5230\u7ecf\u9500\u5546":""},o.a.createElement(ts.a,{value:"1",disabled:n},"\u9000\u56de\u5230\u4e8c\u7f51")),o.a.createElement(ts.a,{value:"2"},"\u9000\u56de\u5230\u7ecf\u9500\u5546\u91cd\u7b7e"),!r&&o.a.createElement(ts.a,{value:"3"},"\u9000\u56de\u5230\u7ecf\u9500\u5546\u91cd\u65b0\u786e\u8ba4")))),o.a.createElement(gs,Object.assign({label:"\u9000\u56de\u539f\u56e0"},i,{required:!0}),t("remark",a.config)(o.a.createElement(bs,{rows:4}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||$c;function ys(e){var t=e.data,a=void 0===t?{}:t,n=e.bank,r=void 0===n?{}:n,i=a.firstTrialName,l=a.firstTrialRemark,c=a.managerTrialName,s=a.managerTrialRemark,d=a.bankerTrialName,u=a.bankerTrialRemark,p=a.lastTrialName,m=a.lastTrialRemark;return l?o.a.createElement(Wc,null,o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:6},o.a.createElement(R.a,{title:"\u521d\u5ba1\u5907\u6ce8",extra:o.a.createElement("span",null,o.a.createElement(k.a,{type:"user"}),i),size:"small"},o.a.createElement("p",null,l))),1===r.cmAuditFlag&&s&&o.a.createElement(L.a,{span:6},o.a.createElement(R.a,{title:"\u5ba2\u6237\u7ecf\u7406\u5907\u6ce8",extra:o.a.createElement("span",null,o.a.createElement(k.a,{type:"user"}),c),size:"small"},o.a.createElement("p",null,s))),1===r.bpAuditFlag&&u&&o.a.createElement(L.a,{span:6,extra:o.a.createElement("span",null,o.a.createElement(k.a,{type:"user"}),d)},o.a.createElement(R.a,{title:"\u652f\u884c\u884c\u957f\u5907\u6ce8",size:"small"},o.a.createElement("p",null,u))),m&&o.a.createElement(L.a,{span:6,extra:o.a.createElement("span",null,o.a.createElement(k.a,{type:"user"}),p)},o.a.createElement(R.a,{title:"\u590d\u5ba1\u5907\u6ce8",size:"small"},o.a.createElement("p",null,m))))):null}var vs=ie.a.Item,Os=ie.a.create()(es=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config=function(e){return{rules:[{required:!0,message:e?"\u8bf7\u8f93\u5165\u79fb\u52a8\u53f0\u6570":"\u8bf7\u8f93\u5165\u79fb\u52a8\u989d\u5ea6"},{pattern:e?/^\d{1,3}$/:/^\d{1,3}(\.\d{0,2})?$/,message:e?"\u79fb\u52a8\u53f0\u6570\u6700\u591a\u4e3a999\u53f0":"\u79fb\u52a8\u989d\u5ea6\u6700\u5927\u4e3a999.99\u4e07\u5143\uff0c\u6700\u591a\u7cbe\u786e\u4e24\u4f4d\u5c0f\u6570"}]}},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);n&&a.props.onSubmit(n)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.eb,r=n.moveNum,i=n.moveMoney,l={labelCol:{span:8},wrapperCol:{span:14}},c="22"==n.movecontrol;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(vs,Object.assign({label:c?"\u539f\u79fb\u52a8\u53f0\u6570":"\u539f\u79fb\u52a8\u989d\u5ea6\uff08\u4e07\u5143\uff09"},l),t("oldMoveNum",{initialValue:c?r:i})(o.a.createElement(he.a,{disabled:!0}))),o.a.createElement(vs,Object.assign({label:c?"\u65b0\u79fb\u52a8\u53f0\u6570":"\u65b0\u79fb\u52a8\u989d\u5ea6\uff08\u4e07\u5143\uff09"},l,{required:!0}),t("newMoveNum",a.config(c))(o.a.createElement(he.a,{type:"number"}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||es,Ss=a(37),Is=a.n(Ss),Cs=a(762),_s=a.n(Cs),Ts=a(763),As=a.n(Ts),ks="YYYY-MM-DD HH:mm:ss",ws=Sc.a.Step,js=z.a.confirm,xs=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalLoading:!1,bondModalVisible:!1,infoModalVisible:!1,infoPassModalVisible:!1,finalModalVisible:!1,moveAmountModalVisible:!1},a.handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.showBondModal=function(){a.setState({bondModalVisible:!0})},a.showInfoModal=function(){a.setState({infoModalVisible:!0})},a.showInfoPassModal=function(){a.setState({infoPassModalVisible:!0})},a.showFinallyModal=function(){a.setState({finalModalVisible:!0})},a.showMoveAmountModal=function(){a.setState({moveAmountModalVisible:!0})},a.authBondPass=function(){var e=Object(Oc.a)(Object(Oc.a)(a)),t=a.props.store.eb,n=t.id,r=t.bankId,i=t.distributorId,o=t.fldSerialid,l=t.isContractChange,c=t.status;js({title:"\u786e\u5b9a\u8981\u901a\u8fc7\u8be5\u4e8c\u7f51\u7684\u4fdd\u8bc1\u91d1\u5ba1\u6279\u5417?",onOk:function(){e.props.authBondPass({id:n,bankId:r,distributorId:i,fldSerialid:o,isContractChange:l,status:c}).then(function(){S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.handleSearch()})}})},a.authInfoPass=function(){a.setState({infoPassModalVisible:!0})},a.authFinallyPass=function(){var e=Object(Oc.a)(Object(Oc.a)(a)),t=a.props.store.eb,n=t.id,r=t.bankId,i=t.distributorId,o=t.fldSerialid,l=t.isContractChange,c=t.isfirst,s=t.status;js({title:"\u786e\u5b9a\u8981\u901a\u8fc7\u8be5\u4e8c\u7f51\u7684\u4fe1\u606f\u5ba1\u6279\u5417?",onOk:function(){e.props.authFinallyPass({id:n,bankId:r,distributorId:i,fldSerialid:o,isContractChange:l,isfirst:c,status:s}).then(function(){S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),e.goBack()})}})},a.goBack=function(){var e=a.props.match.params.menu,t=a.props.location.search,n=I.c(/tab=\w+/g,t||""),r=Object(y.a)(n,1)[0],i="/".concat(e);if(r){var o=r&&r.slice(4);i="/".concat(e,"/list/").concat(o||"todoList")}a.props.history.push(i)},a.handleBondModalOk=function(){a.bondForm&&a.bondForm.handleSubmit()},a.handleInfoModalOk=function(){a.infoForm&&a.infoForm.handleSubmit()},a.handleInfoPassModalOk=function(){a.handleCancel(a.handleSearch),a.props.history.push("/primaryAudit/list/todoList")},a.handleFinalModalOk=function(){a.finalForm&&a.finalForm.handleSubmit()},a.handleMoveAmountModalOk=function(){a.moveForm&&a.moveForm.handleSubmit()},a.handleInfoSubmit=function(e){var t=a.props.store.eb,n=t.id,r=t.bankId,i=t.distributorId,o=t.fldSerialid,l=t.isContractChange,c=t.status,s=e.firstTrialRemark;return H.e.formSubmit("/EwDistributorAction_ewAuditEwInfoPassPt","eb",{id:n,bankId:r,distributorId:i,fldSerialid:o,isContractChange:l,status:c,firstTrialRemark:s}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 0===a.result?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a.handleCancel=function(e){a.setState({bondModalVisible:!1,infoModalVisible:!1,infoPassModalVisible:!1,finalModalVisible:!1,moveAmountModalVisible:!1},function(){"function"===typeof e&&e()})},a.authBondNotPass=function(e){a.setState({modalLoading:!0});var t=a.props.store.eb,n=t.id,r=t.bankId,i=t.distributorId,o=t.fldSerialid,l=t.isContractChange,c=t.status;a.props.authBondNotPass(Object(E.a)({},e,{id:n,bankId:r,distributorId:i,fldSerialid:o,isContractChange:l,status:c})).then(function(){a.setState({bondModalVisible:!1,infoModalVisible:!1,infoPassModalVisible:!1,moveAmountModalVisible:!1,modalLoading:!1}),S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),a.props.history.push("/primaryAudit/list/todoList")})},a.authInfoNotPass=function(e){a.setState({modalLoading:!0});var t=e.remark;delete e.remark;var n=a.props.store.eb,r=n.id,i=n.bankId,o=n.distributorId,l=n.fldSerialid,c=n.isContractChange,s=n.status;a.props.authInfoNotPass(Object(E.a)({},e,{firstTrialRemark:t,id:r,bankId:i,distributorId:o,fldSerialid:l,isContractChange:c,status:s})).then(function(){a.setState({bondModalVisible:!1,infoModalVisible:!1,infoPassModalVisible:!1,finalModalVisible:!1,moveAmountModalVisible:!1,modalLoading:!1}),S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),a.props.history.push("/primaryAudit/list/todoList")})},a.authFinallyNotPass=function(e){a.setState({modalLoading:!0});var t=e.remark;delete e.remark;var n=a.props.store.eb,r=n.id,i=n.bankId,o=n.distributorId,l=n.fldSerialid,c=n.isContractChange,s=n.status;a.props.authFinallyNotPass(Object(E.a)({},e,{lastTrialRemark:t,id:r,bankId:i,distributorId:o,fldSerialid:l,isContractChange:c,status:s})).then(function(){a.setState({bondModalVisible:!1,infoModalVisible:!1,infoPassModalVisible:!1,finalModalVisible:!1,moveAmountModalVisible:!1,modalLoading:!1},a.goBack),S.a.success("\u64cd\u4f5c\u6210\u529f\uff01")})},a.modifyMoveAmount=function(e){a.setState({modalLoading:!0});var t=a.props.store.eb,n=t.id,r=t.movecontrol;a.props.modifyMoveAmount(Object(E.a)({},e,{id:n}),r).then(function(e){var t=e.payload,n=void 0===t?{}:t;if(!n.data||0!=n.data.result)return Promise.reject(n.data&&n.data.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");a.setState({bondModalVisible:!1,infoModalVisible:!1,finalModalVisible:!1,moveAmountModalVisible:!1,modalLoading:!1}),S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),a.handleSearch()}).catch(function(e){S.a.error(e),a.setState({modalLoading:!1})})},a.renderBasicInfo=function(){var e=a.props.store.eb,t=[];return Is()(e)||(t=[{label:"\u4efb\u52a1\u7f16\u53f7",value:e.id},{label:"\u6240\u5c5e\u7ecf\u9500\u5546",value:e.distributorName},{label:"\u4e8c\u7f51\u540d\u79f0",value:e.ewName},{label:"\u6240\u5c5e\u54c1\u724c",value:e.fldSerialName},{label:"\u6cd5\u5b9a\u4ee3\u8868\u4eba",value:e.corporationName},{label:"\u4e8c\u7f51\u7c7b\u578b",value:7===e.ewId.length?"\u5206\u5e97":"\u4e3b\u5e97"},{label:"\u6240\u5c5e\u4e8c\u7f51",value:e.parentEwName||"-"},{label:"\u4e1a\u52a1\u7c7b\u578b",value:2===e.isfirst?"\u89e3\u9664\u5173\u8054":0===e.isfirst?"\u9996\u6b21\u5173\u8054":"\u7eed\u4f5c"},{label:"\u6240\u5c5e\u94f6\u884c",value:e.bankName},{label:"\u884c\u653f\u533a\u57df",value:e.ewAddress},{label:"\u7ecf\u9500\u5546\u7533\u8bf7\u65f6\u95f4",value:e.applyTime&&e.applyTime.time&&je.a.unix(e.applyTime.time/1e3).format(ks),highlight:!0},{label:"\u4e1a\u52a1\u72b6\u6001",value:an(e.status,ke.statusDicList,!0,e.isConfirmReceipt,e.isException)},{label:"\u662f\u5426\u5b58\u5728\u8fc7\u5f02\u5e38",value:an(e.isException,ke.commonDic)},{label:"\u5408\u540c\u5f00\u59cb\u65f6\u95f4",value:e.startdate,highlight:!0},{label:"\u58f0\u660e\u7c7b\u578b",value:an(e.contractType,ke.contractTypeDicList)},{label:"\u5408\u540c\u662f\u5426\u53d8\u66f4",value:an(e.isContractChange,ke.commonDic)},{label:"\u5408\u540c\u7ed3\u675f\u65f6\u95f4",value:e.enddate,highlight:!0}],"22"==e.movecontrol?t.push({label:"\u79fb\u52a8\u53f0\u6570",value:"".concat(e.moveNum," \u53f0"),highlight:!0}):"21"==e.movecontrol&&t.push({label:"\u79fb\u52a8\u989d\u5ea6",value:"".concat(e.moveMoney," \u4e07"),highlight:!0})),t},a.calcDeposit=function(e,t){try{return 1===e.isConfirmReceipt?2===t.operationType?_s()(e.depositAmount,t.money):As()(e.depositAmount,t.money):e.depositAmount}catch(a){return"-"}},a.renderBondInfo=function(){var e=a.props.store,t=e.bond,n=e.eb,r=Is()(t)||Is()(n)?[]:[{label:"\u662f\u5426\u6709\u4fdd\u8bc1\u91d1",value:"1"===n.moneyGetType||"2"===n.moneyGetType?"\u662f":"\u5426"},{label:"\u6536\u53d6\u65b9\u5f0f",value:"1"===n.moneyGetType?"\u6309\u5e97":"2"===n.moneyGetType?"\u6309\u53f0":"\u65e0\u4fdd\u8bc1\u91d1",highlight:!0},{label:"\u5df2\u7f34\u4fdd\u8bc1\u91d1\u91d1\u989d\uff08\u4e07\uff09",value:a.calcDeposit(n,t)},{label:"\u4fdd\u8bc1\u91d1\u7c7b\u578b",value:1===t.operationType?"\u8f6c\u5165":"\u8f6c\u51fa"},{label:"\u672c\u6b21\u8c03\u6574\uff08\u4e07\uff09",value:o.a.createElement(dn.a,{flag:1===t.operationType?"up":"down"},1===t.operationType?"+".concat(t.money):"-".concat(t.money)),highlight:!0},{label:"\u8c03\u6574\u540e\u91d1\u989d\uff08\u4e07\uff09",value:1===n.isConfirmReceipt?n.depositAmount:1===t.operationType?Qi()(n.depositAmount).plus(t.money).toNumber():Qi()(n.depositAmount).minus(t.money).toNumber()},{label:"\u6bcf\u53f0\u8f66\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",value:n.eachMoney||"",highlight:!0}];return n&&"2"!=n.moneyGetType?r.slice(0,-1):r},a.renderHoverList=function(){var e=a.props.store,t=e.bond,n=e.eb,r=[];return t&&n&&(r=[{label:"\u6240\u5c5e\u7ecf\u9500\u5546",value:n.distributorName},{label:"\u4e8c\u7f51\u540d\u79f0",value:n.ewName},{label:"\u6240\u5c5e\u54c1\u724c",value:n.fldSerialName},{label:"\u7ecf\u9500\u5546\u7533\u8bf7\u65f6\u95f4",value:n.applyTime&&n.applyTime.time&&je.a.unix(n.applyTime.time/1e3).format(ks)},{label:"\u5408\u540c\u5f00\u59cb\u65f6\u95f4",value:n.startdate},{label:"\u5408\u540c\u7ed3\u675f\u65f6\u95f4",value:n.enddate}],"22"==n.movecontrol?r.push({label:"\u79fb\u52a8\u53f0\u6570",value:"".concat(n.moveNum," \u53f0"),highlight:!0}):"21"==n.movecontrol&&r.push({label:"\u79fb\u52a8\u989d\u5ea6",value:"".concat(n.moveMoney," \u4e07"),highlight:!0})),Is()(t)||Is()(n)||(r=r.concat([{label:"\u4fdd\u8bc1\u91d1\u6536\u53d6\u65b9\u5f0f",value:"1"===n.moneyGetType?"\u6309\u5e97":"2"===n.moneyGetType?"\u6309\u53f0":"\u65e0\u4fdd\u8bc1\u91d1"},{label:"\u5df2\u7f34\u4fdd\u8bc1\u91d1\u91d1\u989d\uff08\u4e07\uff09",value:a.calcDeposit(n,t)},{label:"\u672c\u6b21\u8c03\u6574\uff08\u4e07\uff09",value:1===t.operationType?"+".concat(t.money):"-".concat(t.money)},{label:"\u8c03\u6574\u540e\u91d1\u989d\uff08\u4e07\uff09",value:1===n.isConfirmReceipt?n.depositAmount:1===t.operationType?Qi()(n.depositAmount).plus(t.money).toNumber():Qi()(n.depositAmount).minus(t.money).toNumber()},{label:"\u6bcf\u53f0\u8f66\u4fdd\u8bc1\u91d1\uff08\u4e07\u5143\uff09",value:n.eachMoney||""}]),"2"!=n.moneyGetType&&(r=r.slice(0,-1))),r},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.modalLoading,n=t.bondModalVisible,r=t.infoModalVisible,i=t.infoPassModalVisible,l=t.finalModalVisible,c=t.moveAmountModalVisible,s=this.props,d=s.store,u=s.match,p=u.params&&u.params.menu,m=d.eb,h=void 0===m?{}:m,g=d.bank,f=void 0===g?{}:g,b=h?h.status:null,E=function(e,t,a){if(I.b(e))return-1;var n=ke.statusDicList.findIndex(function(t){return String(t.value)===String(e)});return-1===n?-1:t+a===2&&3===ke.statusDicList[n].processStep?33===e?3:6:t+a===1&&3===ke.statusDicList[n].processStep?33===e?3:5:ke.statusDicList[n].processStep}(b,f.cmAuditFlag,f.bpAuditFlag);return o.a.createElement("div",null,o.a.createElement(vc.a,{spinning:this.props.loading},o.a.createElement(Wc,{title:"\u6d41\u7a0b\u8fdb\u5ea6"},o.a.createElement(Sc.a,{progressDot:!0,current:E},o.a.createElement(ws,{title:"\u7ecf\u9500\u5546\u786e\u8ba4\u4fdd\u8bc1\u91d1"}),o.a.createElement(ws,{title:"\u5e73\u53f0\u5ba1\u6838\u4fdd\u8bc1\u91d1"}),o.a.createElement(ws,{title:"\u5e73\u53f0\u5ba1\u6838\u4e8c\u7f51\u4fe1\u606f"}),1===f.cmAuditFlag&&!this.props.loading&&o.a.createElement(ws,{title:"\u5ba2\u6237\u7ecf\u7406\u7b7e\u7f72\u610f\u89c1"}),1===f.bpAuditFlag&&!this.props.loading&&o.a.createElement(ws,{title:"\u652f\u884c\u884c\u957f\u7b7e\u7f72\u610f\u89c1"}),o.a.createElement(ws,{title:"\u94f6\u884c\u590d\u5ba1"}))),o.a.createElement(ys,{data:h,bank:f}),o.a.createElement(Wc,{title:"\u4e8c\u7f51\u57fa\u7840\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderBasicInfo()})),o.a.createElement(Wc,{title:"\u4fdd\u8bc1\u91d1\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderBondInfo()})),o.a.createElement(Wc,{title:"\u62cd\u6444\u4fe1\u606f"},o.a.createElement(hs,Object.assign({},d,{contentList:this.renderHoverList()}))),o.a.createElement(Ic.a,null,"primaryAudit"===p&&1===E&&"21"!=="".concat(b)&&o.a.createElement(re.a,{type:"primary",onClick:this.authBondPass},"\u4fdd\u8bc1\u91d1\u5ba1\u6279\u901a\u8fc7"),"primaryAudit"===p&&1===E&&o.a.createElement(re.a,{type:"danger",onClick:this.showBondModal},"\u4fdd\u8bc1\u91d1\u5ba1\u6279\u4e0d\u901a\u8fc7"),"primaryAudit"===p&&2===E&&o.a.createElement(re.a,{type:"primary",onClick:this.authInfoPass},"\u4e8c\u7f51\u4fe1\u606f\u5ba1\u6279\u901a\u8fc7"),"primaryAudit"===p&&2===E&&o.a.createElement(re.a,{type:"danger",onClick:this.showInfoModal},"\u4e8c\u7f51\u4fe1\u606f\u5ba1\u6279\u4e0d\u901a\u8fc7"),"lastAudit"===p&&33===b&&h&&5===h.ewId.length&&("21"==h.movecontrol||"22"==h.movecontrol)&&o.a.createElement(re.a,{type:"primary",onClick:this.showMoveAmountModal},"22"==h.movecontrol?"\u79fb\u52a8\u53f0\u6570\u4fee\u6539":"\u79fb\u52a8\u989d\u5ea6\u4fee\u6539"),"lastAudit"===p&&33===b&&f.cmAuditFlag+f.bpAuditFlag==0&&o.a.createElement(re.a,{type:"primary",onClick:this.authFinallyPass},"\u5ba1\u6279\u901a\u8fc7"),"lastAudit"===p&&33===b&&f.cmAuditFlag+f.bpAuditFlag==0&&o.a.createElement(re.a,{type:"danger",onClick:this.showFinallyModal},"\u5ba1\u6279\u4e0d\u901a\u8fc7"),o.a.createElement(Vc,null)),o.a.createElement(z.a,{title:"\u4e8c\u7f51\u4fdd\u8bc1\u91d1\u5ba1\u6279\u4e0d\u901a\u8fc7",visible:n,onOk:this.handleBondModalOk,confirmLoading:a,onCancel:this.handleCancel},o.a.createElement(Es,{wrappedComponentRef:function(t){return e.bondForm=t},onSubmit:this.authBondNotPass})),o.a.createElement(z.a,{title:"\u4e8c\u7f51\u4fe1\u606f\u5ba1\u6279\u4e0d\u901a\u8fc7",visible:r,onOk:this.handleInfoModalOk,confirmLoading:a,onCancel:this.handleCancel},o.a.createElement(Es,{wrappedComponentRef:function(t){return e.infoForm=t},onSubmit:this.authInfoNotPass,disableFirstRedio:h&&1===h.isChainStore,hideThirdRedio:"primaryAudit"===p&&2===E})),i&&o.a.createElement(ls,{title:"\u4e8c\u7f51\u4fe1\u606f\u5ba1\u6838\u901a\u8fc7",onOk:this.handleInfoPassModalOk,onSubmit:this.handleInfoSubmit,onCancel:this.handleCancel,configList:[{label:"\u5907\u6ce8",type:"textArea",key:"firstTrialRemark",required:!0}]}),o.a.createElement(z.a,{title:"\u5ba1\u6279\u4e0d\u901a\u8fc7",visible:l,onOk:this.handleFinalModalOk,confirmLoading:a,onCancel:this.handleCancel},o.a.createElement(Es,{wrappedComponentRef:function(t){return e.finalForm=t},onSubmit:this.authFinallyNotPass,finallyAuth:!0})),o.a.createElement(z.a,{title:"22"==h.movecontrol?"\u79fb\u52a8\u53f0\u6570\u4fee\u6539":"\u79fb\u52a8\u989d\u5ea6\u4fee\u6539",visible:c,onOk:this.handleMoveAmountModalOk,confirmLoading:a,onCancel:this.handleCancel},o.a.createElement(Os,{wrappedComponentRef:function(t){return e.moveForm=t},onSubmit:this.modifyMoveAmount,eb:h}))))}}]),t}(i.PureComponent);var Ds=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.authInfo,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(_c(t))},authBondPass:function(t){return e(Tc(t))},authBondNotPass:function(t){return e(Ac(t))},authInfoPass:function(t){return e(kc(t))},authInfoNotPass:function(t){return e(wc(t))},authFinallyPass:function(t){return e(jc(t))},authFinallyNotPass:function(t){return e(xc(t))},modifyMoveAmount:function(t,a){return e(Dc(t,a))}}})(xs),Ms=a(110),Ns=a.n(Ms),Ls="YYYY-MM-DD HH:mm:ss",Rs=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.columns=[{title:"\u4efb\u52a1\u53f7",dataIndex:"ewBankId",align:"center"},{title:"\u7ecf\u9500\u5546\u7533\u8bf7\u65f6\u95f4",dataIndex:"disApplyDate",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format(Ls)}},sr,{title:"\u91d1\u989d\uff08\u4e07\uff09",dataIndex:"money",align:"center",render:function(e,t){return o.a.createElement(dn.a,{flag:1===t.operationType?"up":"down"},1===t.operationType?"+".concat(t.money):"-".concat(t.money))}},to,ao,{title:"\u64cd\u4f5c",align:"center",render:function(t,a){return o.a.createElement(i.Fragment,null,o.a.createElement(X.a,{to:{pathname:"/".concat(e.match.params.menu,"/detail/authInfo/").concat(a.ewBankId),search:"".concat(e.location.search)}},o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}],a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.store;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u4fdd\u8bc1\u91d1\u5386\u53f2"},o.a.createElement(Z.a,{dataSource:a,columns:this.columns,loading:t,scroll:{x:800},rowKey:"ewBankId",pagination:!1})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);var Ps=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.bondHistory,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Mc(t))}}})(Rs),Us=(i.PureComponent,Ns.a.Description),Ys=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,startIndex:0},a.handlePreivew=function(e){return function(){a.setState({modalVisible:!0,startIndex:e})}},a.handleCancel=function(){a.setState({modalVisible:!1})},a.renderVideo=function(e){return o.a.createElement("div",{className:"image-gallery-image"},o.a.createElement("video",{src:e.original,controls:"controls"}))},a.handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.renderBasicInfo=function(){var e=a.props.store,t=e.distrVO,n=e.automakerName,r=e.area,i=e.brandList;return t?[{label:"\u516c\u53f8\u540d\u79f0",value:t.distributorName},{label:"\u516c\u53f8\u7c7b\u578b",value:0===t.distributorType?"\u6709\u9650\u8d23\u4efb\u516c\u53f8":"1\u80a1\u4efd\u6709\u9650\u516c\u53f8"},{label:"\u516c\u53f8\u540d\u79f0",value:1===t.customerType?"4S\u5e97":t.customerType},{label:"\u6240\u5c5e\u96c6\u56e2",value:t.ownedGroupName},{label:"\u6c7d\u8f66\u5382\u5546",value:n},{label:"\u878d\u8d44\u8054\u7cfb\u4eba",value:t.financingContactorName},{label:"\u878d\u8d44\u4eba\u7535\u8bdd",value:t.financingContactorTel},{label:"\u7ecf\u8425\u533a\u57df",value:r},{label:"\u7ecf\u8425\u54c1\u724c",value:i.map(function(e){return e.brandName}).join(", ")},{label:"\u7ecf\u8425\u5730\u5740",value:t.businessAddress},{label:"\u7ecf\u9500\u5546\u72b6\u6001",value:an(t.status,fe,!0)}]:[]},a.renderOtherInfo=function(){var e=a.props.store.distrVO;return e?[{label:"\u603b\u7ecf\u7406",value:e.generalManagerName},{label:"\u8054\u7cfb\u65b9\u5f0f",value:e.generalManagerTel},{label:"\u4e8c\u7f51\u7ecf\u529e\u4eba",value:e.operatorName},{label:"\u4e8c\u7f51\u7535\u8bdd",value:e.operatorPhone},{label:"\u6cd5\u4eba\u4ee3\u8868",value:e.corporationName},{label:"\u6ce8\u518c\u8d44\u672c",value:e.registeredCapital+"\u4e07"},{label:"\u6210\u7acb\u65e5\u671f",value:e.foundDate},{label:"\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801",value:e.distributorCode},{label:"\u571f\u5730\u6027\u8d28",value:1===e.landType?"\u79df\u8d41":0===e.landType?"\u81ea\u6709":""},{label:"\u6ce8\u518c\u5730\u5740",value:e.registerAddress}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props.store,t=e.storeImg,a=void 0===t?{}:t,n=e.storeVideo,r=void 0===n?{}:n,i=[];return a&&i.push({src:a.absolutePath}),o.a.createElement("div",null,o.a.createElement(vc.a,{spinning:this.props.loading},o.a.createElement(Wc,null,o.a.createElement(Ns.a,{title:"\u57fa\u7840\u4fe1\u606f"},this.renderBasicInfo().map(function(e,t){return o.a.createElement(Us,{term:e.label,key:t},e.value)})),o.a.createElement(W.a,null),o.a.createElement(Ns.a,{title:"\u5176\u4ed6\u4fe1\u606f"},this.renderOtherInfo().map(function(e,t){return o.a.createElement(Us,{term:e.label,key:t},e.value)}))),o.a.createElement(Wc,{title:"\u7167\u7247\u4fe1\u606f"},o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{span:6,key:"photo"},o.a.createElement(us,Object.assign({title:"\u95e8\u5e97\u7167\u7247",path:a.absolutePath,time:a&&a.opStarttime&&a.opStarttime.time,showPreview:this.handlePreivew(0)},a))),o.a.createElement(L.a,{span:6,key:"video"},o.a.createElement(us,Object.assign({title:"\u95e8\u5e97\u89c6\u9891",isVideo:!0,path:r.absolutePath,showPreview:this.handlePreivew(1),time:r&&r.opStarttime&&r.opStarttime.time},r))))),o.a.createElement(ms.a,{visible:i.length>0&&this.state.modalVisible,onClose:this.handleCancel,activeIndex:this.state.startIndex,images:i}),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null))))}}]),t}(i.Component);var Fs=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.distributorInfo,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Nc(t))}}})(Ys),Hs=Ns.a.Description,Ks=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,startIndex:0},a.handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.handlePreivew=function(e){return function(){a.setState({modalVisible:!0,startIndex:e})}},a.handleCancel=function(){a.setState({modalVisible:!1})},a.renderVideo=function(e){return o.a.createElement("div",{className:"image-gallery-image"},o.a.createElement("video",{src:e.original,controls:"controls"}))},a.renderBasicInfo=function(){var e=a.props.store,t=e.ew;e.region;return t?[{label:"\u516c\u53f8\u540d\u79f0",value:t.ewName},{label:"\u516c\u53f8\u6cd5\u4eba",value:t.corporationName},{label:"\u884c\u653f\u533a\u57df",value:e.region},{label:"\u7ecf\u8425\u5730\u5740",value:t.ewAddress},{label:"\u6ce8\u518c\u5730\u5740",value:t.businessAddress},{label:"\u4e8c\u7f51\u6295\u8d44\u4eba",value:t.ewManagerName},{label:"\u6295\u8d44\u4eba\u7535\u8bdd",value:t.ewManagerTel},{label:"\u6295\u8d44\u4eba\u8eab\u4efd\u8bc1",value:t.ewManagerIdnum},{label:"\u4e8c\u7f51\u8054\u7cfb\u4eba",value:t.ewOperatorName},{label:"\u8054\u7cfb\u4eba\u7535\u8bdd",value:t.ewOperatorTel},{label:"\u4e8c\u7f51\u7c7b\u578b",value:7===t.id.length?"\u4e8c\u7f51\u5206\u5e97":"\u4e8c\u7f51\u4e3b\u5e97"},{label:"\u6240\u5c5e\u4e8c\u7f51",value:t.parentEwName||""},{label:"\u662f\u5426\u76f4\u8425",value:1===t.chainStore?"\u76f4\u8425":"\u975e\u76f4\u8425"},{label:"\u662f\u5426\u6709\u8425\u4e1a\u6267\u7167",value:1===t.license?"\u6709":"\u6ca1\u6709"},{label:"\u6240\u5c5e\u7ecf\u9500\u5546",value:Array.isArray(t.belongDistributor)?t.belongDistributor.map(function(e){return e.name}).join():"-"},{label:"\u4e8c\u7f51\u72b6\u6001",value:an(t.status,be,!0)},{label:"\u79fb\u52a8\u53f0\u6570\u636e",value:t.moveNum}]:[]},a.renderOtherInfo=function(){var e=a.props.store,t=e.ew,n=e.brand;return t?[{label:"\u516c\u53f8\u7c7b\u578b",value:1===t.cooperationNature?"\u4e2a\u4f53\u7ecf\u8425":0===t.cooperationNature?"\u6709\u9650\u516c\u53f8":""},{label:"\u4e3b\u8425\u54c1\u724c",value:n},{label:"\u571f\u5730\u6027\u8d28",value:1===t.landNature?"\u79df\u8d41":0===t.landNature?"\u81ea\u6709":""},{label:"\u6ce8\u518c\u8d44\u672c",value:t.registeredCapital+"\u4e07"},{label:"\u6240\u5c5e\u96c6\u56e2",value:-1===t.ownedGroupId?"":t.ownedGroupId},{label:"\u6210\u7acb\u65e5\u671f",value:t.foundDate},{label:"\u7edf\u4e00\u793e\u4f1a\u4fe1\u7528\u4ee3\u7801",value:t.businessLicense},{label:"\u8f66\u4f4d\u6570\u91cf",value:t.parkingNum},{label:"\u5c55\u5385\u9762\u79ef",value:t.displayArea}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props.store,t=e.storeImg,a=e.storeVideo,n=e.business,r=[];return n&&r.push({id:"business",src:n.absolutePath}),t&&r.push({id:"storeImg",src:t.absolutePath}),o.a.createElement("div",null,o.a.createElement(vc.a,{spinning:this.props.loading},o.a.createElement(Wc,null,this.renderBasicInfo().length>0&&o.a.createElement(Ns.a,{title:"\u57fa\u7840\u4fe1\u606f"},this.renderBasicInfo().map(function(e,t){return o.a.createElement(Hs,{term:e.label,key:t},e.value)})),o.a.createElement(W.a,null),o.a.createElement(Ns.a,{title:"\u5176\u4ed6\u4fe1\u606f"},this.renderOtherInfo().map(function(e,t){return o.a.createElement(Hs,{term:e.label,key:t},e.value)}))),o.a.createElement(Wc,{title:"\u7167\u7247\u4fe1\u606f"},o.a.createElement(N.a,{gutter:16},n&&o.a.createElement(L.a,{span:6,key:"business"},o.a.createElement(us,Object.assign({title:"\u8425\u4e1a\u6267\u7167",hideDetail:!0,path:n.absolutePath,time:n&&n.opStarttime&&n.opStarttime.time},t,{showPreview:this.handlePreivew(0)}))),t&&o.a.createElement(L.a,{span:6,key:"storeImg"},o.a.createElement(us,Object.assign({title:"\u95e8\u5e97\u7167\u7247",path:t.absolutePath,time:t&&t.opStarttime&&t.opStarttime.time},t,{showPreview:this.handlePreivew(1)}))),a&&o.a.createElement(L.a,{span:6,key:"video"},o.a.createElement(us,Object.assign({title:"\u95e8\u5e97\u89c6\u9891",isVideo:!0,path:a.absolutePath,time:a&&a.opStarttime&&a.opStarttime.time},a)))),o.a.createElement(ms.a,{visible:this.state.modalVisible,onClose:this.handleCancel,activeIndex:this.state.startIndex,images:r})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null))))}}]),t}(i.Component);var qs,Bs=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.ewInfo,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Lc(t))}}})(Ks),Vs=ie.a.Item,Qs=ts.a.Group,zs=he.a.TextArea,Ws=oe.a.Option,Gs=ie.a.create()(qs=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config={rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u53cd\u9988\u63cf\u8ff0"},{max:200,message:"\u53cd\u9988\u63cf\u8ff0\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);a.props.onSubmit(n)}})},a.renderForm=function(){var e=a.props.form.getFieldDecorator,t={labelCol:{span:6},wrapperCol:{span:16}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(Vs,Object.assign({label:"\u6c9f\u901a\u65b9"},t,{required:!0}),e("feedBackContact",{initialValue:1})(o.a.createElement(Qs,null,o.a.createElement(ts.a,{value:1},"\u4e8c\u7f51"),o.a.createElement(ts.a,{value:2},"\u7ecf\u9500\u5546")))),o.a.createElement(Vs,Object.assign({label:"\u53cd\u9988\u7c7b\u578b"},t,{required:!0}),e("feedBackType",{initialValue:1})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9"},o.a.createElement(Ws,{value:1},"\u62cd\u4e0d\u4e86"),o.a.createElement(Ws,{value:2},"\u4e0d\u914d\u5408"),o.a.createElement(Ws,{value:3},"\u8054\u7cfb\u4e0d\u4e0a"),o.a.createElement(Ws,{value:4},"\u4e0d\u4f1a\u62cd\u7167")))),o.a.createElement(Vs,Object.assign({label:"\u53cd\u9988\u63cf\u8ff0"},t,{required:!0}),e("feedBackRemark",a.config)(o.a.createElement(zs,{rows:4}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||qs,Xs=[{title:"\u53cd\u9988\u7c7b\u578b",dataIndex:"feedBackType",render:function(e){switch(e){case 1:return"\u62cd\u4e0d\u4e86";case 2:return"\u4e0d\u914d\u5408";case 3:return"\u8054\u7cfb\u4e0d\u4e0a";case 4:return"\u4e0d\u4f1a\u62cd\u7167";default:return e}}},{title:"\u53cd\u9988\u5907\u6ce8",dataIndex:"remark",width:300},{title:"\u6c9f\u901a\u65b9",dataIndex:"contact",render:function(e){return 1===e?"\u4e8c\u7f51":"\u7ecf\u9500\u5546"}},{title:"\u5ba2\u670d\u59d3\u540d",dataIndex:"opUserName"},{title:"\u6c9f\u901a\u65f6\u95f4",dataIndex:"opTime",render:function(e){return je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}}],Js=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalVisible:!1,modalLoading:!1},a.handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.showInfoModal=function(){a.form&&a.form.props.form.resetFields(),a.setState({modalVisible:!0})},a.submitRecord=function(e){a.setState({modalLoading:!0});var t=a.props.urlParams,n=(t=void 0===t?{}:t).id;a.props.add(Object(E.a)({},e,{id:n})).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t));S.a.success("\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55\u6210\u529f")}).catch(function(e){S.a.error("\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55\u5931\u8d25")}).then(function(){a.setState({modalLoading:!1,modalVisible:!1}),a.handleSearch()})},a.handleModalOk=function(){a.form.handleSubmit()},a.handleCancel=function(){a.setState({modalVisible:!1})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.store,r=t.match,i=t.location,l=this.state,c=l.modalLoading,s=l.modalVisible,d=r.params&&r.params.menu;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u5ba2\u6237\u8ddf\u8e2a\u8bb0\u5f55"},o.a.createElement(Z.a,{dataSource:n,columns:Xs,loading:a,rowKey:"id"})),o.a.createElement(z.a,{title:"\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55",visible:s,onOk:this.handleModalOk,confirmLoading:c,onCancel:this.handleCancel},o.a.createElement(Gs,{wrappedComponentRef:function(t){return e.form=t},onSubmit:this.submitRecord})),o.a.createElement(Ic.a,null,"primaryAudit"===d&&i&&i.search.includes("?tab=")&&o.a.createElement(re.a,{type:"primary",onClick:this.showInfoModal},"\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55"),o.a.createElement(Vc,null)))}}]),t}(i.Component);var Zs=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.trackRecord,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Rc(t))},add:function(t){return e(Uc(t))}}})(Js),$s="YYYY-MM-DD HH:mm:ss",ed=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.columns=[Sn,{title:"\u7ecf\u9500\u5546\u7533\u8bf7\u65f6\u95f4",dataIndex:"applyTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format($s)}},Xn,{title:"\u4e1a\u52a1\u72b6\u6001",dataIndex:"statusName",render:function(e){return o.a.createElement(me.a,{status:rn(e,ke.statusDicList),text:e})}},Hn,Kn,Qn,qn,Ui(e.location.pathname,!1,"\u67e5\u770b")],a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.store;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u5386\u53f2\u5ba1\u6838"},o.a.createElement(Z.a,{dataSource:a,columns:this.columns,loading:t,scroll:{x:800},rowKey:"id",pagination:!1})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);var td,ad=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.authHistory,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Yc(t))}}})(ed),nd=ie.a.Item,rd=oe.a.Option,id=he.a.TextArea,od=ie.a.create()(td=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config={rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u89e3\u51b3\u8bf4\u660e"},{max:200,message:"\u89e3\u51b3\u8bf4\u660e\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.selectConfig={rules:[{type:"number",required:!0,message:"\u8bf7\u9009\u62e9\u89e3\u51b3\u65b9\u5f0f"}]},a.handleSubmit=function(){var e=a.props.record;a.props.form.validateFields(function(t,n){if(!t){var r={exceptionId:e.id,exceptionSolveSolutions:n.solveSolutions,exceptionSolveRemark:n.solveDescription};a.props.onSubmit(r)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=(e.record,e.readOnly),r={labelCol:{span:6},wrapperCol:{span:16}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(nd,Object.assign({label:"\u5f02\u5e38\u539f\u56e0"},r),t("excReason")(o.a.createElement(id,{rows:4,disabled:!0}))),o.a.createElement(nd,Object.assign({label:"\u89e3\u51b3\u65b9\u5f0f"},r,{required:!0}),t("solveSolutions",a.selectConfig)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u89e3\u51b3\u65b9\u5f0f",style:{width:"100%"},disabled:n},ke.solveSolutionsDicList.slice(2).map(function(e){return o.a.createElement(rd,{value:e.value,key:e.value},e.name)})))),o.a.createElement(nd,Object.assign({label:"\u89e3\u51b3\u8bf4\u660e"},r,{required:!0}),t("solveDescription",a.config)(o.a.createElement(id,{rows:4,disabled:n}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){var t=this.props.record;t.id!==e.record.id&&t&&this.props.form.setFieldsValue({excReason:t.excReason||"",solveSolutions:t.solveSolutions||"",solveDescription:t.solveDescription||""})}},{key:"componentDidMount",value:function(){var e=this.props.record;e&&this.props.form.setFields({excReason:{value:e.excReason||""},solveSolutions:{value:e.solveSolutions||""},solveDescription:{value:e.solveDescription||""}})}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||td,ld="YYYY-MM-DD HH:mm:ss",cd=function(e){function t(e){var a;Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleClick=function(e){return function(t){t.preventDefault(),a.setState({record:e,showModal:!0})}},a.handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.handleException=function(e){a.setState({modalLoading:!0}),a.props.confirm(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u5f02\u5e38\u5904\u7406\u6210\u529f")}).catch(function(e){S.a.error(e.message)}).then(function(){a.setState({modalLoading:!1,showModal:!1}),a.props.history.push("/primaryAudit/list/todoList")})},a.handleOk=function(){var e=a.state.record,t=a.props.match,n=t.params&&t.params.menu;!e.solveSolutions&&"primaryAudit"===n&&a.form.handleSubmit()},a.handleCancel=function(){a.setState({showModal:!1,modalLoading:!1})},a.state={record:{},showModal:!1,modalLoading:!1};var n=e.match&&e.match.params&&e.match.params.menu;return a.columns=[{title:"\u5f02\u5e38\u539f\u56e0",dataIndex:"excReason"},{title:"\u5f02\u5e38\u6807\u8bb0\u4eba",dataIndex:"markUserName"},{title:"\u5f02\u5e38\u65f6\u95f4",dataIndex:"markTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format(ld)}},{title:"\u89e3\u51b3\u65b9\u5f0f",dataIndex:"solveSolutions",align:"center",render:function(e){return an(e,ke.solveSolutionsDicList)}},{title:"\u89e3\u51b3\u8bf4\u660e",dataIndex:"solveDescription"},{title:"\u89e3\u51b3\u4eba",dataIndex:"solveUserName"},{title:"\u89e3\u51b3\u65f6\u95f4",dataIndex:"solveTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format(ld)}},{title:"\u64cd\u4f5c",align:"center",render:function(e,t){var r=t.solveSolutions;return o.a.createElement("a",{href:"javascript:;",onClick:a.handleClick(t)},r||"lastAudit"===n?"\u67e5\u770b":"\u5f02\u5e38\u5904\u7406")}}],a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.loading,n=t.store,r=t.match,i=this.state,l=i.showModal,c=i.modalLoading,s=r.params&&r.params.menu;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u5f02\u5e38\u8bb0\u5f55"},o.a.createElement(Z.a,{dataSource:n,columns:this.columns,loading:a,scroll:{x:800},rowKey:"id",pagination:!1})),o.a.createElement(z.a,{title:"\u67e5\u770b\u5f02\u5e38\u4efb\u52a1",visible:l,onOk:this.handleOk,okButtonProps:{disabled:this.state.record.solveSolutions||"lastAudit"===s},confirmLoading:c,onCancel:this.handleCancel},o.a.createElement(od,{wrappedComponentRef:function(t){return e.form=t},onSubmit:this.handleException,record:this.state.record,readOnly:this.state.record.solveSolutions||"lastAudit"===s})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);var sd=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.excepRecord,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Fc(t))},confirm:function(t){return e(Hc(t))}}})(cd),dd=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"operTime",render:function(e){return je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"opDes"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operName"},{title:"\u63cf\u8ff0",dataIndex:"remark"}],ud=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props,t=e.loading,a=e.store;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u4efb\u52a1\u65e5\u5fd7"},o.a.createElement(Z.a,{dataSource:a,columns:dd,loading:t,scroll:{x:800},rowKey:"id",pagination:!1})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);var pd=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.operation,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Kc(t))}}})(ud),md=a(170),hd=a.n(md),gd=Ns.a.Description,fd=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(){var e=a.props.urlParams,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t}).then(function(e){var t=e.payload;t&&t.data&&"-1"===t.data.status&&S.a.error(t.data.msg)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props.store,t=e.expressNum,a=void 0===t?"":t,n=e.commitDate,r=void 0===n?"":n;return o.a.createElement("div",null,o.a.createElement(vc.a,{spinning:this.props.loading},o.a.createElement(Wc,null,o.a.createElement(Ns.a,{title:"\u7269\u6d41\u4fe1\u606f"},o.a.createElement(gd,{term:"\u7269\u6d41\u5355\u53f7"},a),o.a.createElement(gd,{term:"\u63d0\u4ea4\u65e5\u671f"},r)),o.a.createElement(W.a,null),o.a.createElement(Ns.a,{title:"\u7269\u6d41\u8be6\u60c5"},o.a.createElement("div",{className:hd.a.error},o.a.createElement("div",{className:hd.a.imageWrapper},o.a.createElement("div",{className:hd.a.image})),o.a.createElement("div",{className:hd.a.content},o.a.createElement("h1",null,"Not Found"),o.a.createElement("div",null,"\u62b1\u6b49\uff0c\u672a\u67e5\u5230\u8be5\u7269\u6d41\u4fe1\u606f"))))),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null))))}}]),t}(i.Component);var bd=Object(h.b)(function(e,t){return{store:e.ewAuditDetail.expressInfo,urlParams:t.match.params,loading:e.ewAuditDetail.loading}},function(e){return{fetch:function(t){return e(Pc(t))}}})(fd);function Ed(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/:menu/detail/authInfo/:id",component:Ds}),o.a.createElement(b.a,{path:"/:menu/detail/bondHistory/:id",component:Ps}),o.a.createElement(b.a,{path:"/:menu/detail/distributorInfo/:id",component:Fs}),o.a.createElement(b.a,{path:"/:menu/detail/ewInfo/:id",component:Bs}),o.a.createElement(b.a,{path:"/:menu/detail/ewInfo/:id",component:yc}),o.a.createElement(b.a,{path:"/:menu/detail/expressInfo/:id",component:bd}),o.a.createElement(b.a,{path:"/:menu/detail/trackRecord/:id",component:Zs}),o.a.createElement(b.a,{path:"/:menu/detail/authHistory/:id",component:ad}),o.a.createElement(b.a,{path:"/:menu/detail/excepRecord/:id",component:sd}),o.a.createElement(b.a,{path:"/:menu/detail/operation/:id",component:pd}))}function yd(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoList"),component:mc}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/expList"),component:hc}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoListForDistr"),component:gc}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/totalList"),component:fc}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/"),component:Ed}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list/todoList")}))}var vd=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.lastTodo.list,paging:e.ewAuditList.lastTodo.paging,query:e.ewAuditList.lastTodoQuery}},function(e){return{fetch:function(t,a){return e(Jl(t,a,"lastTodoList"))},updateQuery:function(t){return e(rc(t))}}})(Vl);var Od=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.lastExp.list,paging:e.ewAuditList.lastExp.paging,query:e.ewAuditList.lastExpQuery}},function(e){return{fetch:function(t,a){return e(Zl(t,a,"expList"))},updateQuery:function(t){return e(ic(t))}}})(Vl);var Sd=Object(h.b)(function(e){return{loading:e.ewAuditList.loading,list:e.ewAuditList.lastTotal.list,paging:e.ewAuditList.lastTotal.paging,query:e.ewAuditList.lastTotalQuery,showTableOperArea:!0,showCustomOperCol:!0}},function(e){return{fetch:function(t,a){return e($l(t,a,"totalList"))},updateQuery:function(t){return e(oc(t))},confirmReceipt:function(t){return e(lc(t))},confirmReceiptSingle:function(t){return e(cc(t))},confirmException:function(t){return e(sc(t))},confirmContract:function(t){return e(dc(t))},exportSelected:function(t){return e(pc(t))},exportTotal:function(t){return e(uc(t))}}})(Vl);function Id(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoList"),component:vd}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/expList"),component:Od}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/totalList"),component:Sd}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/"),component:Ed}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list/todoList")}))}var Cd,_d="YYYY-MM-DD",Td=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.reformatValue=function(e){var t=Object(E.a)({},e);try{var a=e.disApplyTimeRange,n=e.ptAuditTimeRange,r=e.bankAuditTimeRange,i=e.bondSaveTimeRange;if(a){var o=Object(y.a)(a,2),l=o[0],c=o[1];t.startTime=l&&l.format(_d),t.endTime=c&&c.format(_d),delete t.disApplyTimeRange}if(n){var s=Object(y.a)(n,2),d=s[0],u=s[1];t.firstStartTime=d&&d.format(_d),t.firstEndTime=u&&u.format(_d),delete t.ptAuditTimeRange}if(i){var p=Object(y.a)(i,2),m=p[0],h=p[1];t.bondSaveDateStart=m&&m.format(_d),t.bondSaveDateEnd=h&&h.format(_d),delete t.bondSaveTimeRange}if(r){var g=Object(y.a)(r,2),f=g[0],b=g[1];t.fsStartTime=f&&f.format(_d),t.fsEndTime=b&&b.format(_d),delete t.bankAuditTimeRange}}catch(v){console.error(v)}return t},a.handleSearch=function(e,t,n){a.props.fetch(a.reformatValue(e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExport=function(){a.form.updateQuery(),a.props.export(a.reformatValue(a.props.query.value)).then(function(e){var t=on(e.payload);t&&S.a.warning(t,2.5)}).catch(function(e){console.error(e.message)})},a.handleDetailQuery=function(e){return function(){var t=a.props,n=t.history,r=t.setDetailQuery,i=t.jumpToMenu,o=t.match,l=t.location;r&&r(e),r&&a.forceUpdate();var c=l.search,s="";i||(i="primaryAudit/detail/authInfo/".concat(e.id));var d=o.path&&o.path.slice(1)||"";s=c?"".concat(c).concat(d?"&newMenu=".concat(d):""):"".concat(d?"?menu=".concat(d):""),n.push({pathname:"/".concat(i),search:s})}},a.renderColumn=function(){var e=a.props.match,t=_l(e.path);return"/ewOnlineDetail"!==e.path&&t.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.handleDetailQuery(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}),t},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.rowKey,i=t.location,l=t.hideExport;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),!l&&o.a.createElement(ql,null,o.a.createElement(re.a,{type:"primary",icon:"export",onClick:this.handleExport},"\u5bfc\u51fa\u62a5\u8868")),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:r})),("/bondDetail"===a.path||"/ewOnlineDetail"===a.path)&&i&&i.search&&i.search.includes("?menu=")&&o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component),Ad=Object(Y.a)((Cd={},Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_EW_SUMMARY",{next:function(e,t){return Object(E.a)({},e,{ewSummary:Object(E.a)({},e.ewSummary,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_EW_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewDetail:Object(E.a)({},e.ewDetail,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_DIS_BOND",{next:function(e,t){return Object(E.a)({},e,{disBond:Object(E.a)({},e.disBond,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_EW_BOND",{next:function(e,t){return Object(E.a)({},e,{ewBond:Object(E.a)({},e.ewBond,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_BOND_DETAIL",{next:function(e,t){return Object(E.a)({},e,{bondDetail:Object(E.a)({},e.bondDetail,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_EWONLINE_LIST",{next:function(e,t){return Object(E.a)({},e,{ewOnlineList:Object(E.a)({},e.ewOnlineList,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/FETCH_EWONLINE_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewOnlineDetail:Object(E.a)({},e.ewOnlineDetail,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/ACTION_FETCH_SPOTMOVE_LIST",{next:function(e,t){return Object(E.a)({},e,{ewSpotMoveList:Object(E.a)({},e.ewSpotMoveList,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_EW_SUMMARY",{next:function(e,t){return Object(E.a)({},e,{ewSummary:Object(E.a)({},e.ewSummary,{query:Object(E.a)({},e.ewSummary.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_EW_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewDetail:Object(E.a)({},e.ewDetail,{query:Object(E.a)({},e.ewDetail.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_DIS_BOND",{next:function(e,t){return Object(E.a)({},e,{disBond:Object(E.a)({},e.disBond,{query:Object(E.a)({},e.disBond.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_EW_BOND",{next:function(e,t){return Object(E.a)({},e,{ewBond:Object(E.a)({},e.ewBond,{query:Object(E.a)({},e.ewBond.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_BOND_DETAIL",{next:function(e,t){return Object(E.a)({},e,{bondDetail:Object(E.a)({},e.bondDetail,{query:Object(E.a)({},e.bondDetail.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_EWONLINE_LIST",{next:function(e,t){return Object(E.a)({},e,{ewOnlineList:Object(E.a)({},e.ewOnlineList,{query:Object(E.a)({},e.ewOnlineList.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_EWONLINE_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewOnlineDetail:Object(E.a)({},e.ewOnlineDetail,{query:Object(E.a)({},e.ewOnlineDetail.query,t.payload,{expandForm:!1})})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/UPDATE_FETCH_SPOTMOVE_LIST",{next:function(e,t){return Object(E.a)({},e,{ewSpotMoveList:Object(E.a)({},e.ewSpotMoveList,{query:Object(E.a)({},e.ewSpotMoveList.query,t.payload)})})}}),Object(U.a)(Cd,"YICHAKU/LEDGER/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Cd),{ewSummary:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},disBond:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewBond:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},bondDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewOnlineList:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewOnlineDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewSpotMoveList:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{taskFlag:1,beginTime:je()().startOf("month").format("YYYY-MM-DD"),endTime:je()().format("YYYY-MM-DD")},expandForm:!1}},loading:!0}),kd=Object(F.a)("YICHAKU/LEDGER/FETCH_EW_SUMMARY",function(e,t){return H.e.formSubmit("/LedgerAction_ewStatisticsLedger","ebQuery",e,t)}),wd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_SUMMARY",function(e){return H.b.formSubmit("/LedgerAction_exportEwStatisticsLedger","ebQuery",e)}),jd=Object(F.a)("YICHAKU/LEDGER/FETCH_EW_DETAIL",function(e,t){return H.e.formSubmit("/LedgerAction_ewDetailLedger","ebQuery",e,t)}),xd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_DETAIL",function(e){return H.b.formSubmit("/LedgerAction_exportEwDetailLedger","ebQuery",e)}),Dd=Object(F.a)("YICHAKU/LEDGER/FETCH_DIS_BOND",function(e,t){return H.e.formSubmit("/LedgerAction_disDepositTotalList","ebQuery",e,t)}),Md=Object(F.a)("YICHAKU/LEDGER/UPDATE_DIS_BOND",function(e){return H.b.formSubmit("/LedgerAction_exportDisDepositTotalList","ebQuery",e)}),Nd=Object(F.a)("YICHAKU/LEDGER/FETCH_EW_BOND",function(e,t){return H.e.formSubmit("/LedgerAction_ewDepositTotalList","ebQuery",e,t)}),Ld=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_BOND",function(e){return H.b.formSubmit("/LedgerAction_exportEwDepositTotalList","ebQuery",e)}),Rd=Object(F.a)("YICHAKU/LEDGER/FETCH_BOND_DETAIL",function(e,t){return H.e.formSubmit("/LedgerAction_ewDepositDetailList","ebQuery",e,t)}),Pd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_DETAIL",function(e){return H.b.formSubmit("/LedgerAction_exportEwDepositDetailList","ebQuery",e)}),Ud=Object(F.a)("YICHAKU/LEDGER/FETCH_EWONLINE_LIST",function(e,t){return H.e.formSubmit("/EwCollectAction_ewOnlineInfoEntry","query",e,t)}),Yd=Object(F.a)("YICHAKU/LEDGER/FETCH_EWONLINE_DETAIL",function(e,t){return H.e.formSubmit("/EwCollectAction_queryEwOnlineDetail","query",e,t)}),Fd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EWONLINE_DETAIL",function(e){return H.b.formSubmit("/EwCollectAction_exportEwOnlineDetail","query",e)}),Hd=Object(F.a)("YICHAKU/LEDGER/ACTION_FETCH_SPOTMOVE_LIST",function(e,t){return H.e.formSubmit("/SpotStatAction_getSpotMoveStatList","",e,t)}),Kd=Object(F.a)("YICHAKU/LEDGER/UPDATE_SPOTMOVE_DETAIL",function(e){return H.b.formSubmit("/SpotStatAction_exportSpotMoveStatList","",e)}),qd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_SUMMARY"),Bd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_DETAIL"),Vd=Object(F.a)("YICHAKU/LEDGER/UPDATE_DIS_BOND"),Qd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EW_BOND"),zd=Object(F.a)("YICHAKU/LEDGER/UPDATE_BOND_DETAIL"),Wd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EWONLINE_LIST"),Gd=Object(F.a)("YICHAKU/LEDGER/UPDATE_EWONLINE_DETAIL"),Xd=Object(F.a)("YICHAKU/LEDGER/UPDATE_FETCH_SPOTMOVE_LIST");Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewSummary.list,paging:e.ledger.ewSummary.paging,query:e.ledger.ewSummary.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.distributorId,",").concat(e.fldSerialid)},jumpToMenu:"ewDetail"}},function(e){return{fetch:function(t,a){return e(kd(t,a))},export:function(t){return e(wd(t))},updateQuery:function(t){return e(qd(t))},setDetailQuery:function(t){var a=t.bankName,n=t.distributorName,r=t.fldSerialName;return e(Bd({value:{bankName:a,distributorName:n,fldSerialName:r},expandForm:!0}))}}})(Td);var Jd=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewDetail.list,paging:e.ledger.ewDetail.paging,query:e.ledger.ewDetail.query}},function(e){return{fetch:function(t,a){return e(jd(t,a))},updateQuery:function(t){return e(Bd(t))},export:function(t){return e(xd(t))}}})(Td);var Zd=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.disBond.list,paging:e.ledger.disBond.paging,query:e.ledger.disBond.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.fldSerialid,",").concat(e.distributorId,",").concat(e.ewId)},jumpToMenu:"bondDetail"}},function(e){return{fetch:function(t,a){return e(Dd(t,a))},updateQuery:function(t){return e(Vd(t))},export:function(t){return e(Md(t))},setDetailQuery:function(t){var a=t.bankName,n=t.distributorName,r=t.fldSerialName;return e(zd({value:{bankName:a,distributorName:n,fldSerialName:r},expandForm:!0}))}}})(Td);var $d=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewBond.list,paging:e.ledger.ewBond.paging,query:e.ledger.ewBond.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.fldSerialid,",").concat(e.distributorId,",").concat(e.ewId)},jumpToMenu:"bondDetail"}},function(e){return{fetch:function(t,a){return e(Nd(t,a))},updateQuery:function(t){return e(Qd(t))},export:function(t){return e(Ld(t))},setDetailQuery:function(t){var a=t.bankName,n=t.distributorName,r=t.fldSerialName,i=t.ewName;return e(zd({value:{bankName:a,distributorName:n,fldSerialName:r,ewName:i},expandForm:!0}))}}})(Td);var eu=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.bondDetail.list,paging:e.ledger.bondDetail.paging,query:e.ledger.bondDetail.query,rowKey:function(e){return"".concat(e.bfid,",").concat(e.bankId,",").concat(e.distributorId,",").concat(e.fldSerialid,",").concat(e.ewId)}}},function(e){return{fetch:function(t,a){return e(Rd(t,a,"bondDetail"))},updateQuery:function(t){return e(zd(t))},export:function(t){return e(Pd(t))}}})(Td);var tu=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewOnlineDetail.list,paging:e.ledger.ewOnlineDetail.paging,query:e.ledger.ewOnlineDetail.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.dealerId)}}},function(e){return{fetch:function(t,a){return e(Yd(t,a))},updateQuery:function(t){return e(Gd(t))},export:function(t){return e(Fd(t))}}})(Td);var au,nu=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewOnlineList.list,paging:e.ledger.ewOnlineList.paging,query:e.ledger.ewOnlineList.query,rowKey:"bankId",hideExport:!0,jumpToMenu:"ewOnlineDetail"}},function(e){return{fetch:function(t,a){return e(Ud(t,a))},updateQuery:function(t){return e(Wd(t))},setDetailQuery:function(t){var a=t.bankName;return e(Gd({value:{bankName:a},expandForm:!0}))}}})(Td),ru=(a(1263),"YYYY-MM-DD"),iu=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);try{var i=e.bankAuditTimeRange;if(i){var o=Object(y.a)(i,2),l=o[0],c=o[1];r.fsStartTime=l&&l.format(ru),r.fsEndTime=c&&c.format(ru),delete r.bankAuditTimeRange}}catch(s){console.error(s)}a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleSelectRow=function(e){a.setState({selectedRowKeys:e})},a.renderCol=function(){var e=a.props,t=e.match;e.customOper;return _l(t.path)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement(ql,null,o.a.createElement(ae,{columns:this.renderCol(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"bondFlowId"})))}}]),t}(i.Component),ou=Object(Y.a)((au={},Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/FETCH_TRANSFERIN",{next:function(e,t){return Object(E.a)({},e,{transferInData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFERIN",{next:function(e,t){return Object(E.a)({},e,{transferInQuery:Object(E.a)({},e.transferInQuery,t.payload)})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/FETCH_TRANSFERIN_RENEWAL",{next:function(e,t){return Object(E.a)({},e,{transferInRenewalData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFERIN_RENEWAL",{next:function(e,t){return Object(E.a)({},e,{transferInRenewalQuery:Object(E.a)({},e.transferInRenewalQuery,t.payload)})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/FETCH_TRANSFEROUT",{next:function(e,t){return Object(E.a)({},e,{transferOutData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFEROUT",{next:function(e,t){return Object(E.a)({},e,{transferOutQuery:Object(E.a)({},e.transferOutQuery,t.payload)})}}),Object(U.a)(au,"YICHAKU/BONDMANAGEMENT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),au),{transferInData:{list:[],paging:{current:1,pageSize:10,total:10}},transferInQuery:{value:{isExport:-1},expandForm:!1},transferInRenewalData:{list:[],paging:{current:1,pageSize:10,total:10}},transferInRenewalQuery:{value:{isExport:-1},expandForm:!1},transferOutData:{list:[],paging:{current:1,pageSize:10,total:10}},transferOutQuery:{value:{isExport:-1},expandForm:!1},loading:!0}),lu=Object(F.a)("YICHAKU/BONDMANAGEMENT/FETCH_TRANSFERIN",function(e,t){return H.e.formSubmit("/BondFlowAction_turnInBondList","bfbQuery",e,t)}),cu=(Object(F.a)("YICHAKU/BONDMANAGEMENT/EXPORT_TRANSFERIN",function(e){return H.b.formSubmit("/BondFlowAction_exportTurnInBondList","",e)}),Object(F.a)("YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFERIN")),su=(Object(F.a)("YICHAKU/BONDMANAGEMENT/FETCH_TRANSFERIN_RENEWAL",function(e,t){return H.e.formSubmit("/BondFlowAction_turnInBondContinueList","bfbQuery",e,t)}),Object(F.a)("YICHAKU/BONDMANAGEMENT/EXPORT_TRANSFERIN_RENEWAL",function(e){return H.b.formSubmit("/BondFlowAction_exportTurnInBondContinueList","",e)}),Object(F.a)("YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFERIN_RENEWAL"),Object(F.a)("YICHAKU/BONDMANAGEMENT/FETCH_TRANSFEROUT",function(e,t){return H.e.formSubmit("/BondFlowAction_turnOutBondList","bfbQuery",e,t)})),du=Object(F.a)("YICHAKU/BONDMANAGEMENT/EXPORT_TRANSFEROUT",function(e){return H.b.formSubmit("/BondFlowAction_exportTurnOutBondList","",e)}),uu=Object(F.a)("YICHAKU/BONDMANAGEMENT/UPDATEQUERY_TRANSFEROUT");var pu=Object(h.b)(function(e){return{loading:e.bondManagement.loading,list:e.bondManagement.transferInData.list,paging:e.bondManagement.transferInData.paging,query:e.bondManagement.transferInQuery,showTableOperArea:!0}},function(e){return{fetch:function(t,a){return e(lu(t,a))},updateQuery:function(t){return e(cu(t))}}})(iu);var mu,hu=Object(h.b)(function(e){return{loading:e.bondManagement.loading,list:e.bondManagement.transferOutData.list,paging:e.bondManagement.transferOutData.paging,query:e.bondManagement.transferOutQuery,rowKey:"ewBankId",customOper:!0}},function(e){return{fetch:function(t,a){return e(su(t,a))},export:function(t){return e(du(t))},updateQuery:function(t){return e(uu(t))}}})(iu),gu=Object(Y.a)((mu={},Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_INITIAL_TRANSFERIN",{next:function(e,t){return Object(E.a)({},e,{initialTransferInData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_EW_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewDetailData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_SUPPLEMENTARY_TRANSFERIN",{next:function(e,t){return Object(E.a)({},e,{supplementaryTransferInData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_CURRENT_INIT",{next:function(e,t){return Object(E.a)({},e,{currentInitData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_CURRENT_SUPPLEMENT",{next:function(e,t){return Object(E.a)({},e,{currentSupplementData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_TRANSFEROUT",{next:function(e,t){return Object(E.a)({},e,{transferOutData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/FETCH_TRANSFEROUT_HIS",{next:function(e,t){return Object(E.a)({},e,{transferOutHisData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/UPDATE_QUERY",{next:function(e,t){return Object(E.a)({},e,{query:Object(E.a)({},t.payload)})}}),Object(U.a)(mu,"YICHAKU/PRINTMANAGEMENT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),mu),{initialTransferInData:{list:[],paging:{current:1,pageSize:10,total:10}},supplementaryTransferInData:{list:[],paging:{current:1,pageSize:10,total:10}},currentInitData:{list:[],paging:{current:1,pageSize:10,total:10}},currentSupplementData:{list:[],paging:{current:1,pageSize:10,total:10}},transferOutData:{list:[],paging:{current:1,pageSize:10,total:10}},transferOutHisData:{list:[],paging:{current:1,pageSize:10,total:10}},ewDetailData:{list:[],paging:{current:1,pageSize:10,total:10}},query:{brandName:"",distributorName:""},loading:!0}),fu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_INITIAL_TRANSFERIN",function(e,t){return H.e.formSubmit("/BondPrintAction_getInitTurnInList","bpQuery",e,t)}),bu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_EW_DETAIL",function(e,t){return H.e.formSubmit("/BondPrintAction_getEwList","ebQuery",e,t)}),Eu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/EXPORT_TRANSFEROUT",function(e){return H.e.formSubmit("/BondPrintAction_exportBondTurnIn","bpQuery",e)}),yu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/EXPORT_TRANSFEROUT",function(e){return H.e.formSubmit("/BondPrintAction_exportBondTurnOut","bpQuery",e)}),vu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_SUPPLEMENTARY_TRANSFERIN",function(e,t){return H.e.formSubmit("/BondPrintAction_getAddTurnInList","bpQuery",e,t)}),Ou=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_CURRENT_INIT",function(e,t){return H.e.formSubmit("/BondPrintAction_getCurrentInitList","bpQuery",e,t)}),Su=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_CURRENT_SUPPLEMENT",function(e,t){return H.e.formSubmit("/BondPrintAction_getCurrentAddList","bpQuery",e,t)}),Iu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_TRANSFEROUT",function(e,t){return H.e.formSubmit("/BondPrintAction_getTurnOutList","bpQuery",e,t)}),Cu=Object(F.a)("YICHAKU/PRINTMANAGEMENT/FETCH_TRANSFEROUT_HIS",function(e,t){return H.e.formSubmit("/BondPrintAction_getExportHistoryList","bpQuery",e,t)}),_u=Object(F.a)("YICHAKU/PRINTMANAGEMENT/UPDATE_QUERY"),Tu=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onBtnSearch=function(){var e=a.state,t=e.distributorName,n=e.brandName;a.props.updateQuery({brandName:n,distributorName:t}),a.props.onSearch()},a.onDistributorSearch=function(e){a.setState({distributorName:e.target.value})},a.onBrandSearch=function(e){a.setState({brandName:e.target.value})},a.state={brandName:e.query.brandName,distributorName:e.query.distributorName},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.query,t=e.brandName,a=e.distributorName;return o.a.createElement("div",{style:{width:"600px",display:"inline-block"}},o.a.createElement("div",{style:{width:"40%",display:"inline-block",marginRight:"2%"}},o.a.createElement(he.a,{onChange:this.onDistributorSearch,defaultValue:a,placeholder:"\u8bf7\u8f93\u5165\u7ecf\u9500\u5546\u540d\u79f0",maxLength:20,allowClear:!0})),o.a.createElement("div",{style:{width:"40%",display:"inline-block",marginRight:"2%"}},o.a.createElement(he.a,{onChange:this.onBrandSearch,defaultValue:t,placeholder:"\u8bf7\u8f93\u5165\u54c1\u724c\u540d\u79f0",maxLength:20,allowClear:!0})),o.a.createElement("div",{style:{width:"16%",display:"inline-block"}},o.a.createElement(re.a,{type:"primary",icon:"search",onClick:this.onBtnSearch},"\u67e5\u8be2")))}}]),t}(i.Component);var Au,ku,wu,ju=Object(h.b)(function(e){return{query:e.printManagement.query}},function(e){return{updateQuery:function(t){return e(_u(t))}}})(Tu),xu=ie.a.Item,Du=ie.a.create()(Au=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).pointsAccountRules=[{required:!0,message:"\u8bf7\u8f93\u5165\u5206\u8d26\u53f7"},{pattern:/^\d{6}$/,message:"\u5206\u8d26\u53f7\u5e94\u4e3a6\u4f4d\u6570\u5b57"}],a.commonRules=[{pattern:/^\d{14}$/,message:"\u8be5\u8d26\u53f7\u5e94\u4e3a14\u4f4d\u6570\u5b57"}],a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(xu,Object.assign({label:"\u7ecf\u9500\u5546\u540d\u79f0"},r),o.a.createElement("span",null,n.distributorName)),o.a.createElement(xu,Object.assign({label:"\u54c1\u724c\u540d\u79f0"},r),o.a.createElement("span",null,n.brandName)),o.a.createElement(xu,Object.assign({label:"\u4fdd\u8bc1\u91d1\u8d26\u53f7"},r),t("bondAccount",{validateFirst:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4fdd\u8bc1\u91d1\u8d26\u53f7"}].concat(Object(pe.a)(a.commonRules))})(o.a.createElement(he.a,{maxlength:"14"}))),o.a.createElement(xu,Object.assign({label:"\u5206\u8d26\u53f7"},r),t("pointsAccount",{rules:a.props.pointsAccountRequired?a.pointsAccountRules:a.pointsAccountRules.slice(1)})(o.a.createElement(he.a,{maxlength:"6"}))),o.a.createElement(xu,Object.assign({label:"\u7ed3\u7b97\u8d26\u53f7"},r),t("settlementAccount",{rules:a.commonRules})(o.a.createElement(he.a,{maxlength:"14"}))),o.a.createElement(xu,Object.assign({label:"\u5e94\u89e3\u6c47\u6b3e\u8d26\u53f7"},r),t("remittanceAccount",{rules:a.commonRules})(o.a.createElement(he.a,{maxlength:"14"}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.record,t=e.bondAccount,a=e.pointsAccount,n=e.settlementAccount,r=e.remittanceAccount;this.props.form.setFields({bondAccount:{value:t},pointsAccount:{value:a},settlementAccount:{value:n},remittanceAccount:{value:r}})}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||Au,Mu=a(523),Nu=a.n(Mu),Lu=z.a.confirm,Ru=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,exportLoading:!1,showAccountModal:!1,record:null},a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleModalPageChange=function(e,t){a.handleSearchEwList(e,t)},a.onSearch=function(){a.handleSearch()},a.handleSearch=function(e,t){var n=a.props.query,r=n.brandName,i=n.distributorName;a.props.fetch({brandName:r||void 0,distributorName:i||void 0},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.handleSearchEwList=function(e,t){if(a.state.record){var n=a.state.record,r=n.bankId,i=n.brandId,o=n.distributorId;return a.props.fetchEwDetail({bankId:r,fldSerialid:i,distributorId:o},{pageNum:e||a.props.modalPaging.current,pageSize:t||a.props.modalPaging.pageSize})}},a.handleCancel=function(){a.setState({showModal:!1,showAccountModal:!1,modalLoading:!1})},a.handleAccountModalOk=function(e){a.accountForm&&a.accountForm.handleSubmit()},a.confirmAccount=function(e){var t=a.state.record;if(t&&e){a.setState({modalLoading:!0});var n={bankId:t.bankId,fldSerailid:t.brandId,distributorId:t.distributorId,bondAccount:e.bondAccount,pointsAccount:e.pointsAccount,settlementAccount:e.settlementAccount,remittanceAccount:e.remittanceAccount};a.props.accountUpdate(n).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u8d26\u53f7\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01",2.5),a.handleCancel(),a.props.fetchTabCount({brandName:a.props.query.brandName||void 0,distributorName:a.props.query.distributorName||void 0}),a.handleSearch()}).catch(function(e){return S.a.error(e.message||"\u8d26\u53f7\u4fe1\u606f\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})}},a.onQuerySearch=function(e){a.props.history.push("/printManagement")},a.searchEwDetail=function(e){return function(t){a.setState({record:e},function(){a.handleSearchEwList().then(function(){a.setState({showModal:!0})})})}},a.showAccountModal=function(e){return function(t){e&&a.setState({record:e,showAccountModal:!0})}},a.handleExport=function(){var e=a.props.query,t=e.brandName,n=e.distributorName,r=Object(Oc.a)(Object(Oc.a)(a));Lu({title:"\u786e\u5b9a\u8981\u5bfc\u51fa\u8fd9\u4e9b\u6570\u636e\u5417?",onOk:function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e",0);r.setState({exportLoading:!0}),r.props.export({brandName:t||void 0,distributorName:n||void 0}).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)throw new Error(t.data.msg);S.a.success("\u5bfc\u51fa\u6210\u529f",2.5);var a=t.data.filePath,n=a.indexOf(".com/")+4;a.includes(window.location.origin)||(a="".concat(window.location.origin).concat(a.slice(n))),en()(a,Nu()(t.data.filePath.split("/")))}).catch(function(e){return S.a.error(e.message||"\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)}).then(function(){e(),r.setState({exportLoading:!1})})}})},a.exportRow=function(e){return function(t){if(e){var n=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e",0);a.setState({exportLoading:!0});var r=e.bankId,i=e.brandId,o=e.distributorId,l=e.distributorName,c=e.depositTotal,s=e.settlementAccount,d=e.bondAccount,u=e.pointsAccount;a.props.export({bankId:r,brandId:i,distributorId:o,distributorName:l,depositTotal:c,settlementAccount:s,bondAccount:d,pointsAccount:u}).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)throw new Error(t.data.msg);S.a.success("\u5bfc\u51fa\u6210\u529f",2.5);var a=t.data.filePath,n=a.indexOf(".com/")+4;a.includes(window.location.origin)||(a="".concat(window.location.origin).concat(a.slice(n))),en()(a,Nu()(t.data.filePath.split("/")))}).catch(function(e){return S.a.error(e.message||"\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)}).then(function(){n(),a.setState({exportLoading:!1})})}}},a.renderColumn=function(){var e=a.props,t=e.match,n=e.transferOut,r=e.transferOutHis,l=_l(t.url);return n||r?r?l.push({title:"\u5bfc\u51fa",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u5bfc\u51fa"},o.a.createElement("a",{href:t&&t.filePath,target:"_blank",download:!0},o.a.createElement(k.a,{type:"export",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}):l.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.searchEwDetail(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u8d26\u6237\u8bbe\u7f6e"},o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showAccountModal(t)},o.a.createElement(k.a,{type:"user-add",style:{color:"#40a9ff"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u5bfc\u51fa"},o.a.createElement("a",{href:"javascript:;",onClick:a.exportRow(t)},o.a.createElement(k.a,{type:"export",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}):l.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.searchEwDetail(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u8d26\u6237\u8bbe\u7f6e"},o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showAccountModal(t)},o.a.createElement(k.a,{type:"user-add",style:{color:"#40a9ff"}}))))}}),l},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchTabCount({brandName:this.props.query.brandName||void 0,distributorName:this.props.query.distributorName||void 0}),this.handleSearch()}},{key:"render",value:function(){var e=this;return o.a.createElement(Hl,null,o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:this.props.rowKey})),o.a.createElement(Ic.a,null,o.a.createElement(ju,{onSearch:this.onQuerySearch}),o.a.createElement(re.a,{icon:"sync",className:"customBtn",onClick:this.onSearch},"\u5237\u65b0"),o.a.createElement(re.a,{type:"danger",className:"customBtn",icon:"export",onClick:this.handleExport,loading:this.state.exportLoading,disabled:0===this.props.list.length||this.props.transferOut||this.props.transferOutHis,style:{width:"96px"}},this.state.exportLoading?"\u5bfc\u51fa\u4e2d":"\u5bfc\u51fa")),o.a.createElement(z.a,{title:"\u4e8c\u7f51\u4fe1\u606f",visible:this.state.showModal,footer:null,onCancel:this.handleCancel,width:1100},o.a.createElement(ae,{columns:kl,loading:this.props.loading,data:this.props.modalList,paging:this.props.modalPaging,onChange:this.handleModalPageChange,onPageChange:this.handleModalPageChange,rowKey:"id"})),o.a.createElement(z.a,{title:"\u7ecf\u9500\u5546\u4fdd\u8bc1\u91d1\u8d26\u53f7",visible:this.state.showAccountModal,onOk:this.handleAccountModalOk,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading,destroyOnClose:!0},o.a.createElement(Du,{wrappedComponentRef:function(t){return e.accountForm=t},onSubmit:this.confirmAccount,record:this.state.record})))}}]),t}(i.Component),Pu=Object(Y.a)((ku={},Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/FETCH_TODO_LIST",{next:function(e,t){return Object(E.a)({},e,{todoData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/FETCH_ALL_LIST",{next:function(e,t){return Object(E.a)({},e,{allData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_CONFIRMDATA_TODO",{next:function(e,t){return Object(E.a)({},e,{todoQuery:Object(E.a)({},e.todoQuery,t.payload)})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_CONFIRMDATA_ALL",{next:function(e,t){return Object(E.a)({},e,{allQuery:Object(E.a)({},e.allQuery,t.payload)})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_EWDETAIL",{next:function(e,t){return Object(E.a)({},e,{ewDetailQuery:Object(E.a)({},e.ewDetailQuery,t.payload)})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/FETCH_EW_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewDetailData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(ku,"YICHAKU/CONFIRMRECEIPT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),ku),{todoData:{list:[],paging:{current:1,pageSize:10,total:10}},todoQuery:{value:{exportType:-1},expandForm:!1},allData:{list:[],paging:{current:1,pageSize:10,total:10}},allQuery:{value:{exportType:-1},expandForm:!1},ewDetailData:{list:[],paging:{current:1,pageSize:10,total:10}},ewDetailQuery:{},loading:!0}),Uu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/FETCH_TODO_LIST",function(e,t){return H.e.formSubmit("/BondPrintAction_getExportDataHistoryList","bedQuery",e,t)}),Yu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_CONFIRMDATA_TODO"),Fu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/FETCH_ALL_LIST",function(e,t){return H.e.formSubmit("/BondPrintAction_getExportDataHistoryList","bedQuery",e,t)}),Hu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_CONFIRMDATA_ALL"),Ku=Object(F.a)("YICHAKU/CONFIRMRECEIPT/UPDATEQUERY_EWDETAIL"),qu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/FETCH_EW_DETAIL",function(e,t){return H.e.formSubmit("/BondPrintAction_getExportDataDetailHistoryList","beddQuery",e,t)}),Bu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/CONFIRM_EXCEPTION",function(e){return H.e.formSubmit("/BondPrintAction_markException","",e)}),Vu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/CONFIRM_RECEIPT",function(e){return H.e.formSubmit("/BondPrintAction_confirmReceipt","bedQuery",e)}),Qu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/CONFIRM_MULTIPLE_RECEIPT",function(e){return H.e.formSubmit("/BondPrintAction_confirmReceiptBt","bedQuery",e)}),zu=Object(F.a)("YICHAKU/CONFIRMRECEIPT/UPDATE_ACCOUNT",function(e){return H.e.formSubmit("/BondAccountAction_saveBondAccountNum","bondQuery",e)}),Wu=Object(Y.a)((wu={},Object(U.a)(wu,"YICHAKU/TABDATA/FETCH_PRINTMANAGEMENT",{next:function(e,t){return Object(E.a)({},e,{initialTransferIn:t.payload.data.initTurnIn||null,supplementaryTransferIn:t.payload.data.addTurnIn||null,currentInit:t.payload.data.currentInit||null,currentSupplement:t.payload.data.currentAdd||null,transferOut:t.payload.data.turnOut||null})}}),Object(U.a)(wu,"YICHAKU/TABDATA/FETCH_CARSEARCH_MANAGEMENT",{next:function(e,t){return Object(E.a)({},e,{carTrail:t.payload.data.carTrackCnt||null,currentTask:t.payload.data.spottestUndoneCnt||null,taskHistory:t.payload.data.spottestHistoryCnt||null})}}),wu),{initialTransferIn:null,supplementaryTransferIn:null,currentInit:null,currentSupplement:null,transferOut:null,carTrail:null,currentTask:null,taskHistory:null}),Gu=Object(F.a)("YICHAKU/TABDATA/FETCH_PRINTMANAGEMENT",function(e){return H.e.formSubmit("/BondPrintAction_getBondCount","bpQuery",e)}),Xu=Object(F.a)("YICHAKU/TABDATA/FETCH_CARSEARCH_MANAGEMENT",function(e){return H.e.formSubmit("/CarAction_getStatisticsInfo","",e)});var Ju=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.initialTransferInData.list,paging:e.printManagement.initialTransferInData.paging,modalList:e.printManagement.ewDetailData.list,modalPaging:e.printManagement.ewDetailData.paging,query:e.printManagement.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.distributorId)}}},function(e){return{fetch:function(t,a){return e(fu(t,a))},fetchTabCount:function(t){return e(Gu(t))},fetchEwDetail:function(t,a){return e(bu(t,a))},export:function(t){return e(Eu(Object(E.a)({},t,{type:1})))},accountUpdate:function(t){return e(zu(t))}}})(Ru);var Zu=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.supplementaryTransferInData.list,paging:e.printManagement.supplementaryTransferInData.paging,modalList:e.printManagement.ewDetailData.list,modalPaging:e.printManagement.ewDetailData.paging,query:e.printManagement.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.distributorId)}}},function(e){return{fetch:function(t,a){return e(vu(t,a))},fetchTabCount:function(t){return e(Gu(t))},fetchEwDetail:function(t,a){return e(bu(t,a))},export:function(t){return e(Eu(Object(E.a)({},t,{type:2})))},accountUpdate:function(t){return e(zu(t))}}})(Ru);var $u=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.currentInitData.list,paging:e.printManagement.currentInitData.paging,modalList:e.printManagement.ewDetailData.list,modalPaging:e.printManagement.ewDetailData.paging,query:e.printManagement.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.distributorId)}}},function(e){return{fetch:function(t,a){return e(Ou(t,a))},fetchTabCount:function(t){return e(Gu(t))},fetchEwDetail:function(t,a){return e(bu(t,a))},export:function(t){return e(Eu(Object(E.a)({},t,{type:3})))},accountUpdate:function(t){return e(zu(t))}}})(Ru);var ep=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.currentSupplementData.list,paging:e.printManagement.currentSupplementData.paging,modalList:e.printManagement.ewDetailData.list,modalPaging:e.printManagement.ewDetailData.paging,query:e.printManagement.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.distributorId)}}},function(e){return{fetch:function(t,a){return e(Su(t,a))},fetchTabCount:function(t){return e(Gu(t))},fetchEwDetail:function(t,a){return e(bu(t,a))},export:function(t){return e(Eu(Object(E.a)({},t,{type:4})))},accountUpdate:function(t){return e(zu(t))}}})(Ru);var tp=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.transferOutData.list,paging:e.printManagement.transferOutData.paging,modalList:e.printManagement.ewDetailData.list,modalPaging:e.printManagement.ewDetailData.paging,query:e.printManagement.query,rowKey:function(e){return"".concat(e.bankId,",").concat(e.brandId,",").concat(e.distributorId)},transferOut:!0}},function(e){return{fetch:function(t,a){return e(Iu(t,a))},fetchTabCount:function(t){return e(Gu(t))},fetchEwDetail:function(t,a){return e(bu(t,a))},export:function(t){return e(yu(t))},accountUpdate:function(t){return e(zu(t))}}})(Ru);var ap=Object(h.b)(function(e){return{loading:e.printManagement.loading,list:e.printManagement.transferOutHisData.list,paging:e.printManagement.transferOutHisData.paging,query:e.printManagement.query,rowKey:"id",transferOutHis:!0}},function(e){return{fetch:function(t,a){return e(Cu(t,a))},fetchTabCount:function(t){return e(Gu(t))}}})(Ru);function np(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/:menu/initialTransferIn",component:Ju}),o.a.createElement(b.a,{path:"/:menu/supplementaryTransferIn",component:Zu}),o.a.createElement(b.a,{path:"/:menu/currentInit",component:$u}),o.a.createElement(b.a,{path:"/:menu/currentSupplement",component:ep}),o.a.createElement(b.a,{path:"/:menu/transferOut",component:tp}),o.a.createElement(b.a,{path:"/:menu/transferOutHis",component:ap}),o.a.createElement(Q.a,{from:"/:menu",to:"/:menu/initialTransferIn"}))}var rp=a(185),ip=a.n(rp),op=z.a.confirm,lp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showAccountModal:!1,modalLoading:!1,selectedRowKeys:[],record:null},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleCancel=function(){a.setState({showModal:!1,showAccountModal:!1,modalLoading:!1})},a.handleSelectRow=function(e){a.setState({selectedRowKeys:e})},a.confirmAccount=function(e){var t=a.state.record;if(t&&e){a.setState({modalLoading:!0});var n={bankId:t.bankId,fldSerailid:t.brandId,distributorId:t.distributorId,bondAccount:e.bondAccount,pointsAccount:e.pointsAccount,settlementAccount:e.settlementAccount,remittanceAccount:e.remittanceAccount};a.props.accountUpdate(n).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u8d26\u53f7\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01",2.5),a.handleCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u8d26\u53f7\u4fe1\u606f\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})}},a.handleAccountModalOk=function(e){a.accountForm&&a.accountForm.handleSubmit()},a.showConfirmReceipt=function(e){return function(t){if(e){var n=Object(Oc.a)(Object(Oc.a)(a));op({title:"\u786e\u8ba4\u56de\u6267\uff0c\u60a8\u8981\u7ee7\u7eed\u5417\uff1f",onOk:function(){n.props.confirmReceipt({id:e.id}).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u786e\u8ba4\u56de\u6267\u6210\u529f\uff01",2.5),n.handleSearch(n.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u786e\u8ba4\u56de\u6267\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})}})}}},a.showAccountModal=function(e){return function(t){e&&a.setState({record:e,showAccountModal:!0})}},a.handleMultipleRow=function(e){var t=S.a.loading("\u6279\u91cf\u786e\u8ba4\u56de\u6267\u4e2d\uff0c\u8bf7\u7a0d\u540e",0);a.props.confirmMultipleReceipt({ids:e.join()}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(t(),!e||!e.data||0!==e.data.result)return Promise.reject(e.data.msg);S.a.success("\u6279\u91cf\u786e\u8ba4\u6210\u529f",2.5),a.handleSearch(a.props.query.value)}).catch(function(e){t(),S.a.error(e||"\u6279\u91cf\u786e\u8ba4\u56de\u6267\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)})},a.searchEwDetail=function(e){return function(t){if(e){var n=e.bankId,r=e.brandId,i=e.distributorId,o=e.exportHisId,l=e.confirmStatus;if(n&&r&&i&&o){a.props.updateEwDetailQuery({bankId:n,brandId:r,distributorId:i,exportHisId:o,confirmStatus:l});var c=a.props.match;a.props.history.push("".concat(c.path,"/ewDetail"))}}}},a.renderColumn=function(){var e=_l(a.props.match.url);return e.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:"90px",render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.searchEwDetail(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u8d26\u6237\u8bbe\u7f6e"},o.a.createElement("a",{href:"javascript:;",className:ip.a.operButton,onClick:a.showAccountModal(t)},o.a.createElement(k.a,{type:"user-add",style:{color:"#40a9ff"}}))),0===t.confirmStatus&&o.a.createElement(W.a,{type:"vertical"}),0===t.confirmStatus&&o.a.createElement(G.a,{title:"\u786e\u8ba4\u56de\u6267"},o.a.createElement("a",{href:"javascript:;",className:ip.a.operButton,onClick:a.showConfirmReceipt(t)},o.a.createElement(k.a,{type:"check-circle"}))))}}),e},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.showTableOperArea;return o.a.createElement("div",{className:ip.a.printManagement},o.a.createElement("div",{className:ip.a.formArea},o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",{className:ip.a.wrapper},o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,showTableOperArea:r,onChange:this.handlePageChange,onPageChange:this.handlePageChange,onSelectRow:this.handleSelectRow,onOperMultipleRow:this.handleMultipleRow,operName:"\u6279\u91cf\u786e\u8ba4\u56de\u6267",rowKey:this.props.rowKey})),o.a.createElement(z.a,{title:"\u7ecf\u9500\u5546\u4fdd\u8bc1\u91d1\u8d26\u53f7",visible:this.state.showAccountModal,onOk:this.handleAccountModalOk,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading,destroyOnClose:!0},o.a.createElement(Du,{wrappedComponentRef:function(t){return e.accountForm=t},onSubmit:this.confirmAccount,record:this.state.record,pointsAccountRequired:!0})))}}]),t}(i.Component);var cp=Object(h.b)(function(e){return{loading:e.confirmReceipt.loading,list:e.confirmReceipt.todoData.list,paging:e.confirmReceipt.todoData.paging,query:e.confirmReceipt.todoQuery,modalList:e.confirmReceipt.ewDetailData.list,modalPaging:e.confirmReceipt.ewDetailData.paging,showTableOperArea:!0,rowKey:"id"}},function(e){return{fetch:function(t,a){return e(Uu(Object(E.a)({},t,{confirmStatus:0}),a))},updateQuery:function(t){return e(Yu(t))},updateEwDetailQuery:function(t){return e(Ku(t))},confirmReceipt:function(t){return e(Vu(t))},confirmMultipleReceipt:function(t){return e(Qu(t))},accountUpdate:function(t){return e(zu(t))}}})(lp);var sp=Object(h.b)(function(e){return{loading:e.confirmReceipt.loading,list:e.confirmReceipt.allData.list,paging:e.confirmReceipt.allData.paging,query:e.confirmReceipt.allQuery,modalList:e.confirmReceipt.ewDetailData.list,modalPaging:e.confirmReceipt.ewDetailData.paging,rowKey:"id"}},function(e){return{fetch:function(t,a){return e(Fu(Object(E.a)({},t),a))},updateQuery:function(t){return e(Hu(t))},updateEwDetailQuery:function(t){return e(Ku(t))},confirmReceipt:function(t){return e(Vu(t))},accountUpdate:function(t){return e(zu(t))}}})(lp),dp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,modalLoading:!1,record:null,excepList:[]},a.handleSearch=function(e,t){a.props.fetch(a.props.query)},a.handleExcepModalOk=function(e){a.excepForm&&a.excepForm.handleSubmit(),a.excepForm&&a.excepForm.reset()},a.confirmExcep=function(e){var t=a.state.record;a.setState({modalLoading:!0}),t&&a.props.confirmException({"ebQuery.id":t.ewBankId,"ebQuery.exceptionRemark":e.exceptionRemark,"beddQuery.id":t.id}).then(function(e){var n=e.payload;if(!n||!n.data||0!==n.data.result)return Promise.reject(new Error(n));S.a.success("\u6807\u8bb0\u5f02\u5e38\u6210\u529f\uff01");var r=a.state.excepList;r.includes(t.ewBankId)||a.setState({excepList:[].concat(Object(pe.a)(r),[t.ewBankId])})}).catch(function(e){return S.a.error("\u6807\u8bb0\u5f02\u5e38\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01")}).then(function(){a.setState({modalLoading:!1,showModal:!1})})},a.handleCancel=function(){a.setState({showModal:!1}),a.excepForm&&a.excepForm.reset()},a.handleException=function(e){return function(t){e&&a.setState({record:e,showModal:!0})}},a.goBack=function(){a.props.history.push("/confirmReceiptList/".concat(a.props.match.params.tabName||"todo"))},a.renderColumn=function(){var e=a.state.excepList,t=Object(pe.a)(wl);return 0===a.props.query.confirmStatus?t.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(t,n){return!e.includes(n.ewBankId)&&2!==n.businessType&&o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u6807\u8bb0\u5f02\u5e38"},o.a.createElement("a",{href:"javascript:;",onClick:a.handleException(n)},o.a.createElement(k.a,{type:"warning",style:{color:"#f5222d"}}))))}}):t.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:60}),t},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.query,t=e.bankId,a=e.brandId,n=e.distributorId,r=e.exportHisId;t&&a&&n&&r?this.handleSearch():this.props.history.push("/confirmReceiptList/".concat(this.props.match.params.tabName||"todo"))}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:ip.a.printManagement},o.a.createElement("div",{className:ip.a.wrapper},o.a.createElement(Z.a,{dataSource:this.props.list,columns:this.renderColumn(),loading:this.props.loading,scroll:{x:800},rowKey:"id",pagination:!1})),o.a.createElement(z.a,{title:"\u4e8c\u7f51\u4fe1\u606f",visible:this.state.showModal,onOk:this.handleExcepModalOk,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading},o.a.createElement(Dl,{wrappedComponentRef:function(t){return e.excepForm=t},onSubmit:this.confirmExcep})),o.a.createElement(Ic.a,null,o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de")))}}]),t}(i.Component);var up=Object(h.b)(function(e){return{loading:e.confirmReceipt.loading,list:e.confirmReceipt.ewDetailData.list,query:e.confirmReceipt.ewDetailQuery}},function(e){return{fetch:function(t){return e(qu(t))},confirmException:function(t){return e(Bu(t))}}})(dp);function pp(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/confirmReceiptList/todo",component:cp}),o.a.createElement(b.a,{exact:!0,path:"/confirmReceiptList/all",component:sp}),o.a.createElement(b.a,{exact:!0,path:"/confirmReceiptList/:tabName/ewDetail",component:up}),o.a.createElement(Q.a,{from:"/confirmReceiptList",to:"/confirmReceiptList/todo"}))}var mp,hp=a(150),gp=a.n(hp),fp=(a(624),a(318)),bp=Object(Y.a)((mp={},Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/UPDATE_CARCHASSIS",{next:function(e,t){return Object(E.a)({},e,{chassis:t.payload||""})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARINFO",{next:function(e,t){return Object(E.a)({},e,{carInfo:t.payload.data.data||{},searchResult:t.payload.data&&{result:t.payload.data.result,msg:t.payload.data.msg}||{result:0,msg:""}})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARTRACKLIST",{next:function(e,t){return Object(E.a)({},e,{trackList:0===t.payload.data.result?{list:t.payload.data.trackList||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}:{list:[],paging:{current:1,pageSize:10,total:10}}})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARCURRENTTASK",{next:function(e,t){return Object(E.a)({},e,{currentTaskList:0===t.payload.data.result?{list:t.payload.data.spottestList||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}:{list:[],paging:{current:1,pageSize:10,total:10}}})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARTASKHIS",{next:function(e,t){return Object(E.a)({},e,{taskHis:0===t.payload.data.result?{abnormal:t.payload.data.abnormal||"",abnormalRate:t.payload.data.abnormalRate||"",normal:t.payload.data.normal||"",total:t.payload.data.total||"",list:t.payload.data.spottestList||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}:{abnormal:"",abnormalRate:"",normal:"",total:"",list:[],paging:{current:1,pageSize:10,total:10}}})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARCHANGELIST",{next:function(e,t){return Object(E.a)({},e,{changeList:0===t.payload.data.result?{list:t.payload.data.changeList||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}:{list:[],paging:{current:1,pageSize:10,total:10}}})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/FETCH_CARCHASSISLIST",{next:function(e,t){return Object(E.a)({},e,{chassisList:t.payload.data.list||[]})}}),Object(U.a)(mp,"YICHAKU/CARSEARCHENGINE/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),mp),{chassis:"",searchResult:{result:0,msg:""},carInfo:{},trackList:{list:[],paging:{current:1,pageSize:10,total:10}},currentTaskList:{list:[],paging:{current:1,pageSize:10,total:10}},taskHis:{abnormal:"",abnormalRate:"",normal:"",total:"",list:[],paging:{current:1,pageSize:10,total:10}},changeList:{list:[],paging:{current:1,pageSize:10,total:10}},chassisList:[],loading:!1}),Ep=Object(F.a)("YICHAKU/CARSEARCHENGINE/UPDATE_CARCHASSIS"),yp=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARINFO",function(e){return H.e.formSubmit("/CarAction_getDetail","",e)}),vp=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARTRACKLIST",function(e,t){return H.e.formSubmit("/CarAction_searchTrackList","",e,t)}),Op=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARCURRENTTASK",function(e,t){return H.e.formSubmit("/CarAction_getSpottestUndone","",e,t)}),Sp=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARTASKHIS",function(e,t){return H.e.formSubmit("/CarAction_searchSpottestHistory","",e,t)}),Ip=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARCHANGELIST",function(e,t){return H.e.formSubmit("/CarAction_searchChangeList","",e,t)}),Cp=Object(F.a)("YICHAKU/CARSEARCHENGINE/FETCH_CARCHASSISLIST",function(e,t){return H.e.formSubmit("/CarAction_getCarList","",e,t)}),_p=he.a.Search,Tp=fp.a.Option,Ap=[{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",key:"chassis",width:"200"},{title:"\u7ecf\u9500\u5546",dataIndex:"distributorName",key:"distributorName",width:"200"},{title:"\u8f66\u578b",dataIndex:"brandModelTrim",key:"brandModelTrim",width:"500"}],kp=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).autoComplete=null,a.selectRow=function(e){e&&e.chassis&&a.setState({showModal:!1},function(){a.searchPrecisely(e.chassis)})},a.onCancel=function(){a.setState({showModal:!1})},a.onSearch=function(e){/^([a-zA-Z0-9]{5,17})$/.test(e)?a.props.searchCarChassisList({chassis:e}).then(function(e){var t=e.payload;if(!t.data||0!==t.data.result)return Promise.reject(t.data.msg);Array.isArray(t.data.list)&&1===t.data.list.length?a.searchPrecisely(t.data.list[0].chassis):a.setState({showModal:!0})}).catch(function(e){S.a.error(e,2.5)}):a.setState({showError:!0},function(){setTimeout(function(){a.setState({showError:!1})},2e3)})},a.searchPrecisely=function(e){var t=Object(pe.a)(a.state.dataSource);!t.includes(e)&&t.push(e),a.setState({showError:!1,dataSource:Object(pe.a)(t)},function(){a.autoComplete&&a.autoComplete.blur(),a.props.updateCarChassis(e),a.props.onSearch(e),a.setState({chassis:e})})},a.onChange=function(e){a.setState({chassis:e})},a.onBtnSearch=function(e,t){t.preventDefault(),t.stopPropagation(),a.onSearch(e)},a.getValue=function(){return a.state.value},a.clearAll=function(){a.setState({dataSource:[]}),localStorage.setItem("carHis","")},a.renderOptions=function(){var e=a.state.dataSource.map(function(e){return o.a.createElement(Tp,{key:e,value:e},e)});return e.length>0&&e.push(o.a.createElement(Tp,{disabled:!0,key:"clear",className:"clear-all"},o.a.createElement("a",{href:"javascript:;",className:gp.a.clearAll,onClick:a.clearAll,rel:"noopener noreferrer"},"\u6e05\u9664\u6240\u6709\u8bb0\u5f55"))),e},a.state={showError:!1,chassis:e.chassis,dataSource:[],showModal:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("carHis"),t=e&&e.split(",").filter(function(e){return e})||[];this.setState({dataSource:t})}},{key:"componentWillUnmount",value:function(){var e=this.state.dataSource;localStorage.setItem("carHis",e.join())}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:gp.a.searchButton},o.a.createElement(fp.a,{allowClear:!0,dataSource:this.renderOptions(),style:{width:"350px"},onSelect:this.onSearch,defaultValue:this.props.chassis,defaultActiveFirstOption:!1,onChange:this.onChange,value:this.state.chassis,size:this.props.type||"default",placeholder:"\u8bf7\u8f93\u5165\u8f66\u67b6\u53f7",ref:function(t){e.autoComplete=t}},o.a.createElement(_p,{enterButton:"CC\u4e00\u4e0b",size:this.props.type||"default",onSearch:this.onBtnSearch,style:{width:"450px"},maxLength:17})),this.state.showError&&o.a.createElement("p",{className:gp.a.errMsg},"\u8bf7\u81f3\u5c11\u8f93\u51655\u4f4d\u5408\u6cd5\u7684\u8f66\u67b6\u53f7"),o.a.createElement(z.a,{title:"\u8f66\u67b6\u53f7\u641c\u7d22\u7ed3\u679c",visible:this.state.showModal,onCancel:this.onCancel,footer:null,width:900},o.a.createElement(Z.a,{dataSource:this.props.chassisList,columns:Ap,pagination:!1,scroll:{y:500},onRow:function(t){return{onClick:function(){e.selectRow(t)}}},rowKey:"chassis"})))}}]),t}(i.Component);var wp=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,chassisList:e.carSearchEngine.chassisList}},function(e){return{updateCarChassis:function(t){return e(Ep(t))},searchCarChassisList:function(t){return e(Cp(t))}}})(kp),jp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showError:!1,type:""},a.handleSearch=function(e){a.setState({type:gp.a.transforming},function(){setTimeout(function(){a.setState({type:gp.a.transformed});var e=a.props.match.params.menu,t="/".concat(e,"/result/carInfo");a.props.history.push(t)},450)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(Hl,null,o.a.createElement(Ic.a,{center:!0},o.a.createElement("div",{className:"".concat(gp.a.searchArea," ").concat(this.state.type)},o.a.createElement(wp,{type:"large",onSearch:this.handleSearch}))))}}]),t}(i.Component),xp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderInfo=function(){var e=a.props.data;return Is()(e)?[]:[{label:"\u8f66\u67b6\u53f7",value:e.chassis},{label:"\u94f6\u884c\u540d\u79f0",value:e.bankName},{label:"\u7ecf\u9500\u5546\u540d\u79f0",value:e.distributorName},{label:"\u54c1\u724c\u8f66\u7cfb",value:e.fld_serial},{label:"\u8f66\u8f86\u4ef7\u683c\uff08\u4e07\u5143\uff09",value:e.carprice},{label:"\u8f66\u8f86\u989c\u8272",value:e.color},{label:"\u94a5\u5319\u6570\u91cf",value:e.carkeys},{label:"\u53d1\u52a8\u673a\u53f7",value:e.engine},{label:"\u6240\u5c5e\u7f51\u70b9",value:e.locationName},{label:"\u8be6\u7ec6\u5730\u5740",value:e.locationAddress},{label:"\u5165\u5e93\u65f6\u95f4",value:e.lrtime},{label:"\u4f4d\u7f6e\u72b6\u6001",value:e.locationStatus},{label:"\u8f66\u8f86\u72b6\u6001",value:e.carstatus},{label:"\u7533\u8bf7\u8d4e\u8f66\u65f6\u95f4",value:e.buyApplyTime},{label:"\u5df2\u8d4e\u65f6\u95f4",value:e.buytime},{label:"\u9500\u552e\u65f6\u95f4",value:e.showtime},{label:"\u9500\u552e\u786e\u8ba4\u65f6\u95f4",value:e.showConfirmTime}]},a.handleSearch=function(){a.props.chassis&&a.props.fetchData({chassis:a.props.chassis})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.chassis&&this.handleSearch()}},{key:"render",value:function(){return o.a.createElement(vc.a,{spinning:this.props.loading},0===this.props.searchResult.result&&o.a.createElement(Jc,{list:this.renderInfo()}),0!==this.props.searchResult.result&&o.a.createElement("div",{className:hd.a.error},o.a.createElement("div",{className:hd.a.imageWrapper},o.a.createElement("div",{className:hd.a.image})),o.a.createElement("div",{className:hd.a.content},o.a.createElement("h1",null,"Not Found"),o.a.createElement("div",null,"\u62b1\u6b49\uff0c\u672a\u67e5\u5230\u8be5\u8f66\u8f86\u4fe1\u606f"))))}}]),t}(i.Component);var Dp=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,searchResult:e.carSearchEngine.searchResult,data:e.carSearchEngine.carInfo}},function(e){return{fetchData:function(t,a){return e(yp(t,a))}}})(xp),Mp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"\u62bd\u67e5\u7c7b\u578b",dataIndex:"checkType",align:"center"},{title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"id",align:"center"},{title:"\u79fb\u52a8\u7f16\u53f7",dataIndex:"taskId",align:"center"},{title:"\u4efb\u52a1\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",align:"center"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",align:"center"},{title:"\u4efb\u52a1\u786e\u8ba4\u65f6\u95f4",dataIndex:"checkConfirmTime",align:"center"},{title:"\u529f\u80fd\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b\u4efb\u52a1"},o.a.createElement("a",{href:"javascript:;",onClick:a.iframeJump(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}],a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleSearch=function(e,t){a.props.chassis&&a.props.fetchData({chassis:a.props.chassis},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.iframeJump=function(e){return function(t){e&&e.id&&window.parent&&window.parent.jumpToTask&&window.parent.jumpToTask(e.id,"".concat(1===a.props.departType?1:5,".").concat(5===e.spottesttype||6===e.spottesttype?1:2))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ae,{columns:this.columns,loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"}))}}]),t}(i.Component);var Np=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,departType:e.session.data.departtype,list:e.carSearchEngine.currentTaskList.list,paging:e.carSearchEngine.currentTaskList.paging}},function(e){return{fetchData:function(t,a){return e(Op(t,a))}}})(Mp),Lp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"\u65f6\u95f4",dataIndex:"op_time",align:"center"},{title:"\u5185\u5bb9",dataIndex:"op_name",align:"center"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"op_user_name",align:"center"},{title:"\u63cf\u8ff0",dataIndex:"remark",align:"center"}],a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleSearch=function(e,t){a.props.chassis&&a.props.fetchData({chassis:a.props.chassis},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.iframeJump=function(e){return function(t){e&&e.id&&window.parent&&window.parent.jumpToTask&&window.parent.jumpToTask(e.id)}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ae,{columns:this.columns,loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"}))}}]),t}(i.Component);var Rp=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,list:e.carSearchEngine.changeList.list,paging:e.carSearchEngine.changeList.paging}},function(e){return{fetchData:function(t,a){return e(Ip(t,a))}}})(Lp),Pp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"id",align:"center",width:100,fixed:"left"},{title:"\u62bd\u67e5\u7c7b\u578b",dataIndex:"checkType",align:"center"},{title:"\u79fb\u52a8\u7f16\u53f7",dataIndex:"taskId",align:"center"},{title:"\u4efb\u52a1\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",align:"center"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",align:"center"},{title:"\u72b6\u6001",dataIndex:"statusName",align:"center"},{title:"\u529f\u80fd\u64cd\u4f5c",align:"center",fixed:"right",width:60,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b\u4efb\u52a1"},o.a.createElement("a",{href:"javascript:;",onClick:a.iframeJump(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}],a.renderInfo=function(){var e=a.props;return[{label:"\u5386\u53f2\u62bd\u67e5\u6b21\u6570",value:e.total},{label:"\u6b63\u5e38\u6b21\u6570",value:e.normal},{label:"\u5f02\u5e38\u6b21\u6570",value:e.abnormal},{label:"\u5f02\u5e38\u7387",value:e.abnormalRate}]},a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleSearch=function(e,t){a.props.chassis&&a.props.fetchData({chassis:a.props.chassis},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.iframeJump=function(e){return function(t){e&&e.id&&window.parent&&window.parent.jumpToTask&&window.parent.jumpToTask(e.id,"".concat(1===a.props.departType?1:5,".").concat(5===e.spottesttype||6===e.spottesttype?1:2))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Jc,{list:this.renderInfo(),col:4}),o.a.createElement(ae,{columns:this.columns,loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"}))}}]),t}(i.Component);var Up=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,departType:e.session.data.departtype,total:e.carSearchEngine.taskHis.total,normal:e.carSearchEngine.taskHis.normal,abnormal:e.carSearchEngine.taskHis.abnormal,abnormalRate:e.carSearchEngine.taskHis.abnormalRate,list:e.carSearchEngine.taskHis.list,paging:e.carSearchEngine.taskHis.paging}},function(e){return{fetchData:function(t,a){return e(Sp(t,a))}}})(Pp),Yp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).columns=[{title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"spottestId",align:"center",fixed:"left",width:100,render:function(e){return e||"-"}},{title:"\u4efb\u52a1\u65f6\u95f4",dataIndex:"taskTime",align:"center"},{title:"\u79fb\u51fa\u4f4d\u7f6e",dataIndex:"moveOutName",align:"center"},{title:"\u79fb\u5165\u4f4d\u7f6e",dataIndex:"moveInName",align:"center"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"taskTypeName",align:"center"},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"statusName",align:"center"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operName",align:"center"},{title:"\u64cd\u4f5c\u63cf\u8ff0",dataIndex:"description"}],a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleSearch=function(e,t){a.props.chassis&&a.props.fetchData({chassis:a.props.chassis},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(ae,{columns:this.columns,loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"}))}}]),t}(i.Component);var Fp=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis,list:e.carSearchEngine.trackList.list,paging:e.carSearchEngine.trackList.paging}},function(e){return{fetchData:function(t,a){return e(vp(t,a))}}})(Yp);function Hp(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/:menu/result/carInfo",component:Dp}),o.a.createElement(b.a,{exact:!0,path:"/:menu/result/carTrail",component:Fp}),o.a.createElement(b.a,{exact:!0,path:"/:menu/result/currentTask",component:Np}),o.a.createElement(b.a,{exact:!0,path:"/:menu/result/taskHistory",component:Up}),o.a.createElement(b.a,{exact:!0,path:"/:menu/result/changeRecord",component:Rp}),o.a.createElement(Q.a,{from:"/:menu/*",to:"/:menu/result/carInfo"}))}var Kp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={chassis:"",tab:""},a.handleSearch=function(e){if("carInfo"!==a.props.match.params.tabName){a.props.history.push("/carSearchEngine/result/carInfo")}else a.props.fetchTabCount({chassis:e}),a.props.fetchCarInfo({chassis:e}).then(function(e){var t=e.payload;t&&t.data&&0===t.data.result||S.a.error(t&&t.data&&t.data.msg||"\u6ca1\u6709\u83b7\u53d6\u5230\u8be5\u8f66\u67b6\u53f7\u7684\u6570\u636e")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentWillReceiveProps",value:function(e){this.props.match.params.tabName!==e.match.params.tabName&&e.chassis&&this.props.fetchTabCount({chassis:e.chassis})}},{key:"componentDidMount",value:function(){this.props.chassis&&this.handleSearch(this.props.chassis)}},{key:"render",value:function(){return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Hp,null)),o.a.createElement(Ic.a,{center:!0},o.a.createElement("div",{className:"".concat(gp.a.searchArea," ").concat(gp.a.transformed)},o.a.createElement(wp,{type:"large",onSearch:this.handleSearch}))))}}]),t}(i.Component);var qp=Object(h.b)(function(e){return{loading:e.carSearchEngine.loading,chassis:e.carSearchEngine.chassis}},function(e){return{fetchTabCount:function(t){return e(Xu(t))},fetchCarInfo:function(t){return e(yp(t))},fetchCarTrackList:function(t){return e(vp(t))},fetchCarChangeList:function(t){return e(Ip(t))}}})(Kp);function Bp(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/:menu/result/:tabName",component:qp}),o.a.createElement(b.a,{exact:!0,path:"/:menu/",component:jp}),o.a.createElement(Q.a,{from:"/:menu/*",to:"/:menu/result/carInfo"}))}a(1269);var Vp,Qp=a(764),zp=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1},a.hisTableColumn=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"opTime",align:"center",width:200,render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"opUserName",align:"center",width:150},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"opContent",render:function(e){return o.a.createElement(G.a,{title:e},o.a.createElement("span",{style:{width:"350px",textOverflow:"ellipsis",display:"inline-block"}},e))}}],a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleCancel=function(){a.setState({showModal:!1})},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.changeStatus=function(e,t){console.log(e,t)},a.showHisModal=function(e){return function(t){e&&(a.setState({showModal:!0}),a.props.fetchRepoHis({id:e.id}))}},a.searchDetail=function(e){return function(t){e&&e.id&&a.props.history.push("".concat(a.props.match.path,"/detail/").concat(e.id))}},a.renderColumn=function(){var e=a.props,t=e.match,n=e.loading,r=_l(t.url);return"/repoAuditLast/all"===t.url&&r.push({title:"\u4f7f\u7528\u72b6\u6001",align:"center",fixed:"right",width:80,render:function(e,t){return 4===t.status?o.a.createElement(i.Fragment,null,o.a.createElement(Qp.a,{checkedChildren:"\u542f\u7528",unCheckedChildren:"\u505c\u7528",checked:1===t.additionStatus,onClick:a.changeStatus,loading:n})):"--"}}),r.push({title:"\u64cd\u4f5c",align:"center",fixed:"right",width:80,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.searchDetail(t)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u64cd\u4f5c\u8bb0\u5f55"},o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showHisModal(t)},o.a.createElement(k.a,{type:"solution",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}),r},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"})),o.a.createElement(z.a,{title:"\u64cd\u4f5c\u8bb0\u5f55",visible:this.state.showModal,onOk:this.handleCancel,onCancel:this.handleCancel,width:800},o.a.createElement(Z.a,{dataSource:this.props.hisList,columns:this.hisTableColumn,loading:this.props.loading,rowKey:"id",pagination:!1})))}}]),t}(i.Component),Wp=Object(Y.a)((Vp={},Object(U.a)(Vp,"YICHAKU/REPOAUDIT/FETCH_TODO_LIST",{next:function(e,t){return Object(E.a)({},e,{todoData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/FETCH_ALL_LIST",{next:function(e,t){return Object(E.a)({},e,{allData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/UPDATEQUERY_REPOAUDIT_TODO",{next:function(e,t){return Object(E.a)({},e,{firstTodoQuery:Object(E.a)({},e.firstTodoQuery,t.payload)})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/UPDATEQUERY_REPOAUDIT_ALL",{next:function(e,t){return Object(E.a)({},e,{firstAllQuery:Object(E.a)({},e.firstAllQuery,t.payload)})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/UPDATEQUERY_REPOLASTAUDIT_TODO",{next:function(e,t){return Object(E.a)({},e,{lastTodoQuery:Object(E.a)({},e.lastTodoQuery,t.payload)})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/UPDATEQUERY_REPOLASTAUDIT_ALL",{next:function(e,t){return Object(E.a)({},e,{lastAllQuery:Object(E.a)({},e.lastAllQuery,t.payload)})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/FETCH_REPO_DETAIL",{next:function(e,t){return Object(E.a)({},e,{repoDetail:{info:Object(E.a)({},t.payload.data.info),photoInfo:t.payload.data.photoInfo&&{absolutePath:t.payload.data.photoInfo.absolutePath,latitude:t.payload.data.photoInfo.latitude,longitude:t.payload.data.photoInfo.longitude,location:t.payload.data.photoInfo.location,time:t.payload.data.photoInfo.opStarttime.time}||{},videoInfo:t.payload.data.videoInfo&&{absolutePath:t.payload.data.videoInfo.absolutePath,latitude:t.payload.data.videoInfo.latitude,longitude:t.payload.data.videoInfo.longitude,location:t.payload.data.videoInfo.location,time:t.payload.data.videoInfo.opStarttime.time}||{}}})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/FETCH_REPO_HIS",{next:function(e,t){return Object(E.a)({},e,{hisList:t.payload.data&&t.payload.data.list||[]})}}),Object(U.a)(Vp,"YICHAKU/REPOAUDIT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Vp),{todoData:{list:[],paging:{current:1,pageSize:10,total:10}},firstTodoQuery:{value:{status:-1},expandForm:!1},allData:{list:[],paging:{current:1,pageSize:10,total:10}},firstAllQuery:{value:{status:-1},expandForm:!1},lastTodoQuery:{value:{status:-1},expandForm:!1},lastAllQuery:{value:{status:-1},expandForm:!1},repoDetail:{info:{},photoInfo:{},videoInfo:{}},hisList:[],loading:!0}),Gp=Object(F.a)("YICHAKU/REPOAUDIT/FETCH_TODO_LIST",function(e,t){return H.e.formSubmit("/DepotManageAction_searchDepotAuditList","disLocExtraQuery",e,t)}),Xp=Object(F.a)("YICHAKU/REPOAUDIT/FETCH_TODO_LIST",function(e,t){return H.e.formSubmit("/DepotManageAction_searchDepotReviewList","disLocExtraQuery",e,t)}),Jp=Object(F.a)("YICHAKU/REPOAUDIT/UPDATEQUERY_REPOAUDIT_TODO"),Zp=Object(F.a)("YICHAKU/REPOAUDIT/UPDATEQUERY_REPOLASTAUDIT_TODO"),$p=Object(F.a)("YICHAKU/REPOAUDIT/UPDATEQUERY_REPOLASTAUDIT_ALL"),em=Object(F.a)("YICHAKU/REPOAUDIT/FETCH_ALL_LIST",function(e,t){return H.e.formSubmit("/DepotManageAction_searchDepotAuditList","disLocExtraQuery",e,t)}),tm=Object(F.a)("YICHAKU/REPOAUDIT/UPDATEQUERY_REPOAUDIT_ALL"),am=Object(F.a)("YICHAKU/REPOAUDIT/FETCH_REPO_DETAIL",function(e,t){return H.e.formSubmit("/DepotManageAction_searchDepotAuditInfo","",e,t)}),nm=Object(F.a)("YICHAKU/REPOAUDIT/REPO_AUDIT",function(e){return H.e.formSubmit("/DepotManageAction_executeDepotAudit","disLocExtraQuery",e)}),rm=Object(F.a)("YICHAKU/REPOAUDIT/REPO_AUDIT",function(e){return H.e.formSubmit("/DepotManageAction_executeDepotReview","disLocExtraQuery",e)}),im=Object(F.a)("YICHAKU/REPOAUDIT/FETCH_REPO_HIS",function(e){return H.e.formSubmit("/DepotManageAction_searchOperationRecord","",e)});var om=Object(h.b)(function(e){return{loading:e.repoAudit.loading,list:e.repoAudit.todoData.list,paging:e.repoAudit.todoData.paging,query:e.repoAudit.firstTodoQuery,hisList:e.repoAudit.hisList}},function(e){return{fetch:function(t,a){return e(Gp(Object(E.a)({},t,{tabType:1}),a))},updateQuery:function(t){return e(Jp(t))},fetchRepoHis:function(t){return e(im(t))}}})(zp);var lm=Object(h.b)(function(e){return{loading:e.repoAudit.loading,list:e.repoAudit.todoData.list,paging:e.repoAudit.todoData.paging,query:e.repoAudit.lastTodoQuery,hisList:e.repoAudit.hisList}},function(e){return{fetch:function(t,a){return e(Xp(Object(E.a)({},t,{tabType:1,status:-1}),a))},updateQuery:function(t){return e(Zp(t))},fetchRepoHis:function(t){return e(im(t))}}})(zp);var cm=Object(h.b)(function(e){return{loading:e.repoAudit.loading,list:e.repoAudit.allData.list,paging:e.repoAudit.allData.paging,query:e.repoAudit.firstAllQuery,hisList:e.repoAudit.hisList}},function(e){return{fetch:function(t,a){return e(em(Object(E.a)({},t,{tabType:2}),a))},updateQuery:function(t){return e(tm(t))},fetchRepoHis:function(t){return e(im(t))}}})(zp);var sm,dm,um=Object(h.b)(function(e){return{loading:e.repoAudit.loading,list:e.repoAudit.todoData.list,paging:e.repoAudit.todoData.paging,query:e.repoAudit.lastAllQuery,hisList:e.repoAudit.hisList}},function(e){return{fetch:function(t,a){return e(Xp(Object(E.a)({},t,{tabType:2}),a))},updateQuery:function(t){return e($p(t))},fetchRepoHis:function(t){return e(im(t))}}})(zp),pm=ie.a.Item,mm=(ts.a.Group,he.a.TextArea),hm=ie.a.create()(sm=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).config={rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u5907\u6ce8"},{max:200,message:"\u5907\u6ce8\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=Object(E.a)({},t);a.props.onSubmit(n)}})},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(pm,Object.assign({label:"\u5907\u6ce8"},{labelCol:{span:6},wrapperCol:{span:16}},{required:!0}),e("remark",a.config)(o.a.createElement(mm,{rows:4}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||sm,gm=z.a.confirm,fm=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showViewModal:!1,modalLoading:!1},a.authInfoPass=function(){var e=Object(Oc.a)(Object(Oc.a)(a)),t=a.props.store.info.id;gm({title:"\u786e\u5b9a\u8981\u901a\u8fc7\u8be5\u4ed3\u5e93\u7684\u5ba1\u6279\u5417?",onOk:function(){e.props.auditRepo({id:t,status:"first"===e.props.auditProcess?2:4}).then(e.goBack)}})},a.handleCancel=function(){a.setState({showModal:!1,showViewModal:!1,modalLoading:!1})},a.handleFormSubmit=function(e){a.setState({modalLoading:!0});var t=a.props.store.info,n={};n="first"===a.props.auditProcess?{id:t.id,status:3,remark:e.remark}:{id:t.id,status:5,reviewRemark:e.remark},a.props.auditRepo(n).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u4ed3\u5e93\u4fe1\u606f\u66f4\u65b0\u6210\u529f\uff01",2.5),a.goBack()}).catch(function(e){return S.a.error(e.message||"\u4ed3\u5e93\u4fe1\u606f\u66f4\u65b0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})},a.judgetAuditBtn=function(){var e=a.props.store.info,t=!1;return"first"===a.props.auditProcess?1!==e.status&&5!==e.status||(t=!0):2===e.status&&(t=!0),t},a.handleModalOk=function(e){a.form&&a.form.handleSubmit()},a.handlePreivew=function(){a.setState({showViewModal:!0})},a.showModal=function(e){a.setState({showModal:!0})},a.renderBasicInfo=function(){var e=a.props,t=e.store,n=(e.auditProcess,t.info),r=Is()(n)?[]:[{label:"\u94f6\u884c\u540d\u79f0",value:n.bankName},{label:"\u54c1\u724c\u540d\u79f0",value:n.brandName},{label:"\u7ecf\u9500\u5546\u540d\u79f0",value:n.distributorName},{label:"\u4ed3\u5e93\u540d\u79f0",value:n.name},{label:"\u4ed3\u5e93\u7c7b\u578b",value:n.locationTypeName},{label:"\u72b6\u6001",value:n.statusName}];return r=Object(pe.a)(r).concat([{label:"\u521d\u5ba1\u64cd\u4f5c\u4eba",value:n.auditUserName},{label:"\u521d\u5ba1\u65f6\u95f4",value:n.auditTime&&n.auditTime.time&&je.a.unix(n.auditTime.time/1e3).format("YYYY-MM-DD HH:mm:ss")},{label:"\u521d\u5ba1\u5907\u6ce8",value:o.a.createElement("span",{style:{maxWidth:"350px",textOverflow:"ellipsis",display:"inline-block"}},n.remark)},{label:"\u590d\u5ba1\u64cd\u4f5c\u4eba",value:n.reviewUserName},{label:"\u590d\u5ba1\u65f6\u95f4",value:n.reviewtime&&n.reviewtime.time&&je.a.unix(n.reviewtime.time/1e3).format("YYYY-MM-DD HH:mm:ss")},{label:"\u590d\u5ba1\u5907\u6ce8",value:o.a.createElement("span",{style:{maxWidth:"350px",textOverflow:"ellipsis",display:"inline-block"}},n.reviewRemark)}])},a.handleSearch=function(){var e=a.props.match.params,t=(e=void 0===e?{}:e).id;t&&a.props.fetch({id:t})},a.goBack=function(){a.props.history.push("/".concat(a.props.match.params.repoType||"repoAuditFirst","/").concat(a.props.match.params.tabName||"todo"))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.store,a=t.info,n=t.photoInfo,r=t.videoInfo,i=[];return i.push({id:"photoInfo",src:n.absolutePath}),o.a.createElement("div",null,o.a.createElement(vc.a,{spinning:this.props.loading},o.a.createElement(Wc,{title:"\u4ed3\u5e93\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderBasicInfo()})),o.a.createElement(Wc,{title:"\u62cd\u6444\u4fe1\u606f",height:"700px"},n&&o.a.createElement(L.a,{span:6,key:"photoInfo"},o.a.createElement(us,Object.assign({title:"\u4ed3\u5e93\u7167\u7247",path:n.absolutePath,time:n&&n.time&&je.a.unix(n.time/1e3).format("YYYY-MM-DD HH:mm:ss")},n,{showPreview:this.handlePreivew}))),r&&o.a.createElement(L.a,{span:6,key:"video"},o.a.createElement(us,Object.assign({title:"\u4ed3\u5e93\u89c6\u9891",isVideo:!0,path:r.absolutePath,time:r&&r.time&&je.a.unix(r.time/1e3).format("YYYY-MM-DD HH:mm:ss")},r))))),o.a.createElement(z.a,{title:"\u5ba1\u6279\u4e0d\u901a\u8fc7",visible:this.state.showModal,onOk:this.handleModalOk,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading},o.a.createElement(hm,{wrappedComponentRef:function(t){return e.form=t},onSubmit:this.handleFormSubmit,record:this.state.record})),o.a.createElement(Ic.a,null,a&&this.judgetAuditBtn()&&o.a.createElement(re.a,{type:"primary",onClick:this.authInfoPass},"\u5ba1\u6279\u901a\u8fc7"),a&&this.judgetAuditBtn()&&o.a.createElement(re.a,{type:"danger",onClick:this.showModal},"\u5ba1\u6279\u4e0d\u901a\u8fc7"),o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de")),o.a.createElement(ms.a,{visible:this.state.showViewModal,onClose:this.handleCancel,images:i}))}}]),t}(i.Component),bm=Object(h.b)(function(e){return{store:e.repoAudit.repoDetail,loading:e.repoAudit.loading,auditProcess:"first"}},function(e){return{fetch:function(t){return e(am(t))},auditRepo:function(t){return e(nm(t))}}})(fm),Em=Object(h.b)(function(e){return{store:e.repoAudit.repoDetail,loading:e.repoAudit.loading,auditProcess:"last"}},function(e){return{fetch:function(t){return e(am(t))},auditRepo:function(t){return e(rm(t))}}})(fm);function ym(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/repoAuditFirst/todo",component:om}),o.a.createElement(b.a,{exact:!0,path:"/repoAuditFirst/all",component:cm}),o.a.createElement(b.a,{exact:!0,path:"/repoAuditLast/todo",component:lm}),o.a.createElement(b.a,{exact:!0,path:"/repoAuditLast/all",component:um}),o.a.createElement(b.a,{exact:!0,path:"/:repoType/:tabName/detail/:id",component:vm}),o.a.createElement(Q.a,{from:"/repoAuditFirst",to:"/repoAuditFirst/todo"}),o.a.createElement(Q.a,{from:"/repoAuditLast",to:"/repoAuditLast/todo"}))}function vm(e){return"repoAuditFirst"===e.match.params.repoType?o.a.createElement(bm,e):o.a.createElement(Em,e)}var Om=Object(Y.a)((dm={},Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARMOVING",{next:function(e,t){return Object(E.a)({},e,{carMoving:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.carMoving.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_CHECKEDDETAIL",{next:function(e,t){return Object(E.a)({},e,{checkedDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.checkedDetail.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARSALES",{next:function(e,t){return Object(E.a)({},e,{carSales:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.carSales.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARSALES_DETAIL",{next:function(e,t){return Object(E.a)({},e,{carSalesDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.carSalesDetail.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FECTH_DEALER_SALERINK",{next:function(e,t){return Object(E.a)({},e,{dealerSaleRink:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.dealerSaleRink.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_DEALER_SALERINK_DETAIL",{next:function(e,t){return Object(E.a)({},e,{dealerSaleRinkDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.dealerSaleRinkDetail.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_SALERINK",{next:function(e,t){return Object(E.a)({},e,{ewSaleRink:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.ewSaleRink.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/FETCH_SALERINK_DETAIL",{next:function(e,t){return Object(E.a)({},e,{ewSaleRinkDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total},query:Object(E.a)({},e.ewSaleRinkDetail.query)}})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/UPDATE_DEALERSALERINK",{next:function(e,t){return Object(E.a)({},e,{dealerSaleRink:Object(E.a)({},e.dealerSaleRink,{query:Object(E.a)({},e.dealerSaleRink.query,t.payload)})})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/UPDATE_EWSALERINK",{next:function(e,t){return Object(E.a)({},e,{ewSaleRink:Object(E.a)({},e.ewSaleRink,{query:Object(E.a)({},e.ewSaleRink.query,t.payload)})})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CHECKEDDETAIL",{next:function(e,t){return Object(E.a)({},e,{checkedDetail:Object(E.a)({},e.checkedDetail,{query:Object(E.a)({},e.checkedDetail.query,t.payload)})})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CARSALES",{next:function(e,t){return Object(E.a)({},e,{carSales:Object(E.a)({},e.carSales,{query:Object(E.a)({},e.carSales.query,t.payload)})})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CARMOVING",{next:function(e,t){return Object(E.a)({},e,{carMoving:Object(E.a)({},e.carMoving,{query:Object(E.a)({},e.carMoving.query,t.payload)})})}}),Object(U.a)(dm,"YICHAKU/CARFACTORYMANAGEMENT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),dm),{carMoving:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{statisDate:[je()().subtract(30,"days"),je()()]},expandForm:!0}},checkedDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},carSales:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},carSalesDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},dealerSaleRink:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},dealerSaleRinkDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{}}},ewSaleRink:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},ewSaleRinkDetail:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{}}},loading:!0}),Sm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARMOVING",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchMoveCarInspectList","mcQuery",e,t)}),Im=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_CHECKEDDETAIL",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchCarManageInspectInfo","idQuery",e,t)}),Cm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARSALES",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchCarSalesList","sQuery",e,t)}),_m=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_CARSALES_DETAIL",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchCarSalesInfo","sQuery",e,t)}),Tm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FECTH_DEALER_SALERINK",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchDistributorSalesList","sQuery",e,t)}),Am=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_DEALER_SALERINK_DETAIL",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchDistributorSalesInfo","sQuery",e,t)}),km=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_SALERINK",function(e,t){return H.e.formSubmit("/AutomakerRegionAction_searchEwSalesList","sQuery",e,t)}),wm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/FETCH_SALERINK_DETAIL",function(e,t){return H.e.formSubmit("AutomakerRegionAction_searchEwSalesInfo","sQuery",e,t)}),jm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/EXPORT_DATA",function(e,t){var a="",n="";switch(t){case"ewSaleRink":a="AutomakerRegionAction_exportEwSalesInfo",n="sQuery";break;case"dealerSaleRink":a="AutomakerRegionAction_exportDistributorSalesInfo",n="sQuery";break;case"carMoving":a="AutomakerRegionAction_exportMoveCarInspectInfo",n="mcQuery";break;case"checkedDetail":a="AutomakerRegionAction_exportCarManageInspectInfo",n="idQuery";break;case"carSales":a="AutomakerRegionAction_exportCarSalesInfo",n="sQuery"}return a&&H.b.formSubmit(a,n,e)}),xm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/UPDATE_DEALERSALERINK"),Dm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/UPDATE_EWSALERINK"),Mm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CHECKEDDETAIL"),Nm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CARMOVING"),Lm=Object(F.a)("YICHAKU/CARFACTORYMANAGEMENT/UPDATE_CARSALES"),Rm=Om,Pm=a(186),Um=a.n(Pm),Ym="YYYY-MM-DD",Fm=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,value:{},type:"",isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.reformatValue=function(e){var t=Object(E.a)({},e);try{var a=e.statisDate,n=e.provCity;if(a){var r=Object(y.a)(a,2),i=r[0],o=r[1];t.beginDate=i&&i.format(Ym),t.endDate=o&&o.format(Ym),delete t.statisDate}if(n){var l=Object(y.a)(n,2),c=l[0],s=l[1];t.provinceId=c,t.cityId=s,delete t.provCity}}catch(d){console.error(d)}return t},a.handleSearch=function(e,t,n){a.props.fetch(a.reformatValue(e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var t=a.props.query.value;a.props.exportData(a.reformatValue(t)).then(function(e){var t=on(e.payload);t&&S.a.warning(t,2.5)}).catch(function(e){console.error(e.message)}).then(function(){a.setState({isExporting:!1}),e()})},a.handleSearchDetail=function(e,t,n,r){var i=a.props.query.value;a.props.handleSearchDetail(Object(E.a)({},e,{disFindType:t},a.reformatValue(i),{regionName:i.regionName||e.regionName,regionSubName:i.regionSubName||e.regionSubName}),{pageNum:n||a.props.detailPaging.current,pageSize:r||a.props.detailPaging.pageSize}).then(function(){a.setState({showModal:!0,type:t})}),console.log(a.props)},a.handleDetailPageChange=function(e,t){a.handleSearchDetail(a.state.value,a.state.type,e,t)},a.onCancel=function(){a.setState({showModal:!1})},a.renderColumn=function(){var e=function(e,t){var n=e.bankId,r=e.ewId,i=e.ewAreaId,o=e.fldSerialid,l=e.disAreaId,c=e.distributorId,s=e.regionName,d=e.regionSubName,u=e.fldTrimid,p=e.fldModelid;return{onClick:function(){var e={bankId:n,ewId:t?void 0:r,ewAreaId:t?void 0:i,disAreaId:t&&0!==l?l:void 0,fldSerialid:o,distributorId:""===c?void 0:c,regionName:""===s?void 0:s,regionSubName:""===d?void 0:d,fldTrimid:""===u?void 0:u,fldModelid:""===p?void 0:p};a.setState({value:e,type:t}),a.handleSearchDetail(e,t)}}},t=_l(a.props.match.path);return"ew"===a.props.rinkType?t.push({title:"\u4e8c\u7f51\u9500\u91cf",dataIndex:"ewSalesNum",align:"right",onCell:function(t,a){return e(t)},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}}):"dealer"===a.props.rinkType?t.push({title:"\u603b\u9500\u91cf",dataIndex:"countSalesNum",align:"right",onCell:function(t,a){return e(t,"1")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e3b\u5e97\u9500\u91cf",dataIndex:"mainStoresalesNum",align:"right",onCell:function(t,a){return e(t,"2")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e8c\u7f51\u9500\u91cf",dataIndex:"ewSalesNum",align:"right",onCell:function(t,a){return e(t,"3")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e8c\u7f51\u9500\u91cf\u5360\u6bd4",dataIndex:"ewSalesRatio",align:"right"}):"CarSales"===a.props.rinkType&&t.push({title:"\u603b\u9500\u91cf",dataIndex:"countSalesNum",align:"right",onCell:function(t,a){return e(t,"1")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e3b\u5e97\u9500\u91cf",dataIndex:"mainStoresalesNum",align:"right",onCell:function(t,a){return e(t,"2")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e8c\u7f51\u9500\u91cf",dataIndex:"ewSalesNum",align:"right",onCell:function(t,a){return e(t,"3")},render:function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)}},{title:"\u4e8c\u7f51\u9500\u91cf\u5360\u6bd4",dataIndex:"ewSalesRatio",align:"right"}),t},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.rowKey,i=t.rinkType,l=t.detailColumns,c=t.detailRowKey;return o.a.createElement("div",{className:Um.a.ledger},o.a.createElement("div",{className:Um.a.formArea},o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",{className:Um.a.operArea},o.a.createElement(re.a,{type:"primary",icon:"export",onClick:this.handleExport},"\u5bfc\u51fa\u62a5\u8868"),"carMoving"===i&&o.a.createElement(G.a,{title:o.a.createElement("span",null,"\u62a5\u8868\u8bf4\u660e\uff1a",o.a.createElement("br",null),"1\uff0c\u4e8c\u7f51\u6570\u91cf\u3001\u5ba1\u6279\u5141\u8bb8\u79fb\u52a8\u603b\u53f0\u6570 \u53d6\u5b9e\u65f6\u6570\u636e",o.a.createElement("br",null),"2\uff0c\u62b5\uff0f\u8d28\u62bc\u8f66\u603b\u6570\u3001\u4e8c\u7f51\u5b9e\u9645\u79fb\u52a8\u53f0\u6570 \u53d6\u7edf\u8ba1\u65e5\u671f-\u7ed3\u675f\u65e5\u671f \u5f53\u5929\u771f\u5b9e\u6570\u636e\uff08\u529f\u80fd\u4e0a\u7ebf\u540e\u4f1a\u6bcf\u5929\u5907\u4efd\u5e93\u5b58\uff09",o.a.createElement("br",null),"3\uff0c\u8d4e\u56de\u8f66\u8f86\u6570\u91cf\u3001\u9500\u552e\u603b\u6570\u91cf\u3001\u4e8c\u7f51\u9500\u91cf \u53d6\u7edf\u8ba1\u65f6\u95f4\u6bb5\u5b9e\u9645\u6570\u636e",o.a.createElement("br",null))},o.a.createElement(k.a,{type:"exclamation-circle",style:{color:"red"}}))),o.a.createElement("div",{className:Um.a.wrapper},o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:r})),o.a.createElement(z.a,{visible:this.state.showModal,onCancel:this.onCancel,footer:null,width:1100,title:"\u67e5\u770b\u660e\u7ec6",destroyOnClose:!0},o.a.createElement(ae,{loading:this.props.loading,data:this.props.detailList,regionName:this.props.regionName,columns:l||[],paging:this.props.detailPaging,onChange:this.handleDetailPageChange,onPageChange:this.handleDetailPageChange,scroll:{x:800},rowKey:c})))}}]),t}(i.Component);var Hm=Object(h.b)(function(e){return{loading:e.carFactoryManagement.loading,list:e.carFactoryManagement.carMoving.list,paging:e.carFactoryManagement.carMoving.paging,query:e.carFactoryManagement.carMoving.query,rinkType:"carMoving",rowKey:function(e){return"".concat(e.bankId,",").concat(e.fldserialname,",").concat(e.distributorId)}}},function(e){return{fetch:function(t,a){return e(Sm(t,a))},updateQuery:function(t){return e(Nm(t))},exportData:function(t){return e(jm(t,"carMoving"))}}})(Fm);var Km=Object(h.b)(function(e){return{loading:e.carFactoryManagement.loading,list:e.carFactoryManagement.checkedDetail.list,paging:e.carFactoryManagement.checkedDetail.paging,query:e.carFactoryManagement.checkedDetail.query}},function(e){return{fetch:function(t,a){return e(Im(t,a))},updateQuery:function(t){return e(Mm(t))},exportData:function(t){return e(jm(t,"checkedDetail"))},rowKey:"chassis"}})(Fm),qm=[{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName",align:"center"},{title:"\u5927\u533a\u540d\u79f0",dataIndex:"regionName",align:"center"},{title:"\u5c0f\u533a\u540d\u79f0",dataIndex:"regionSubName",align:"center"},{title:"\u7701\u4efd",dataIndex:"provinceName",align:"center"},{title:"\u57ce\u5e02",dataIndex:"cityName",align:"center"},{title:"\u5730\u533a",dataIndex:"countyName",align:"center"},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldserialname",align:"center"},{title:"\u8f66\u578b\u540d\u79f0",dataIndex:"fldTrimInfo",align:"center"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",align:"center"},{title:"\u9500\u552e\u65f6\u95f4",dataIndex:"showtime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}}],Bm=[{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName",align:"center"},{title:"\u5927\u533a\u540d\u79f0",dataIndex:"regionName",align:"center"},{title:"\u5c0f\u533a\u540d\u79f0",dataIndex:"regionSubName",align:"center"},{title:"\u7701\u4efd",dataIndex:"provinceName",align:"center"},{title:"\u57ce\u5e02",dataIndex:"cityName",align:"center"},{title:"\u5730\u533a",dataIndex:"countyName",align:"center"},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldserialname",align:"center"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName",align:"center"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName",align:"center"},{title:"\u4e8c\u7f51\u6240\u5728\u5730\u533a",dataIndex:"ewLocation",align:"center"},{title:"\u8f66\u7cfb",dataIndex:"fldModel",align:"center"},{title:"\u8f66\u578b\u540d\u79f0",dataIndex:"fldTrimInfo",align:"center"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",align:"center"},{title:"\u9500\u552e\u65f6\u95f4",dataIndex:"showtime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}}],Vm=[{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName",align:"center"},{title:"\u7ecf\u9500\u5546\u6240\u5728\u5730\u533a",dataIndex:"distributorLocation",align:"center"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName",align:"center"},{title:"\u4e8c\u7f51\u6240\u5728\u5730\u533a",dataIndex:"ewLocation",align:"center"},{title:"\u9500\u91cf",dataIndex:"mainStoresalesNum",align:"center"}];var Qm=Object(h.b)(function(e){return{loading:e.carFactoryManagement.loading,list:e.carFactoryManagement.ewSaleRink.list,detailList:e.carFactoryManagement.ewSaleRinkDetail.list,paging:e.carFactoryManagement.ewSaleRink.paging,detailPaging:e.carFactoryManagement.ewSaleRinkDetail.paging,query:e.carFactoryManagement.ewSaleRink.query,rinkType:"ew",detailColumns:qm,rowKey:function(e){return"".concat(e.bankId,",").concat(e.fldserialname,",").concat(e.distributorId,",").concat(e.ewId)},detailRowKey:"chassis"}},function(e){return{fetch:function(t,a){return e(km(t,a))},handleSearchDetail:function(t,a){return e(wm(t,a))},updateQuery:function(t){return e(Dm(t))},exportData:function(t){return e(jm(t,"ewSaleRink"))}}})(Fm);var zm,Wm,Gm=Object(h.b)(function(e){return{loading:e.carFactoryManagement.loading,list:e.carFactoryManagement.dealerSaleRink.list,detailList:e.carFactoryManagement.dealerSaleRinkDetail.list,paging:e.carFactoryManagement.dealerSaleRink.paging,detailPaging:e.carFactoryManagement.dealerSaleRinkDetail.paging,query:e.carFactoryManagement.dealerSaleRink.query,regionName:e.carFactoryManagement.dealerSaleRink.list.regionName,rinkType:"dealer",detailColumns:Bm,rowKey:function(e){return"".concat(e.bankId,",").concat(e.fldSerialid,",").concat(e.distributorId)},detailRowKey:"chassis"}},function(e){return{fetch:function(t,a){return e(Tm(t,a))},handleSearchDetail:function(t,a){return e(Am(t,a))},updateQuery:function(t){return e(xm(t))},exportData:function(t){return e(jm(t,"dealerSaleRink"))}}})(Fm),Xm=(a(611),a(319)),Jm=a(315),Zm=a.n(Jm),$m=a(313),eh=a.n($m),th=Object(Y.a)((zm={},Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_FACTORY_BRAND",{next:function(e,t){return Object(E.a)({},e,{brandList:t.payload.data.autoMakerOption||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_FACTORY_LIST",{next:function(e,t){return Object(E.a)({},e,{list:t.payload.data.list||[]})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_REGION_LOG_LIST",{next:function(e,t){return Object(E.a)({},e,{logList:t.payload.data.list||[]})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_MANAGER_LIST",{next:function(e,t){return Object(E.a)({},e,{managerList:t.payload.data.list||[]})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_REGION_LIST",{next:function(e,t){return Object(E.a)({},e,{regionData:Object(E.a)({},e.regionData,Object(U.a)({},e.factoryId,t.payload.data.list||[]))})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/FETCH_SUBREGION_LIST",{next:function(e,t){return Object(E.a)({},e,{subRegionData:Object(E.a)({},e.subRegionData,Object(U.a)({},e.regionId,t.payload.data.list||[]))})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/SPECIFY_FACTORY_ID",{next:function(e,t){return Object(E.a)({},e,{factoryId:t.payload||""})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/SPECIFY_REGION_ID",{next:function(e,t){return Object(E.a)({},e,{regionId:t.payload||""})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/UPDATE_QUERY",{next:function(e,t){return Object(E.a)({},e,{query:t.payload})}}),Object(U.a)(zm,"YICHAKU/REGIONMANAGEMENT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),zm),{loading:!0,query:{},paging:{current:1,pageSize:10,total:10},brandList:[],list:[],managerList:[],factoryId:"",regionId:"",regionData:{},subRegionData:{},logList:[]}),ah=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_FACTORY_BRAND",function(e){return H.e.formSubmit("AutomakerRegionAction_searchAutomakerfldOption","",e)}),nh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/UPDATE_FACTORY_BRAND",function(e){return H.e.formSubmit("AutomakerRegionAction_executeSaveAutomaker","abQuery",e)}),rh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_FACTORY_LIST",function(e){return H.e.formSubmit("AutomakerRegionAction_searchAutomakerList","abQuery",e)}),ih=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_REGION_LIST",function(e){return H.e.formSubmit("AutomakerRegionAction_searchRegionList","arQuery",e)}),oh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_SUBREGION_LIST",function(e){return H.e.formSubmit("AutomakerRegionAction_searchRegionSubList","arQuery",e)}),lh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/UPDATE_REGION",function(e){return H.e.formSubmit("AutomakerRegionAction_executeSaveRegionInfo","arQuery",e)}),ch=Object(F.a)("YICHAKU/REGIONMANAGEMENT/UPDATE_SUBREGION",function(e){return H.e.formSubmit("AutomakerRegionAction_executeSaveRegionSubInfo","arsQuery",e)}),sh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/DELETE_REGION",function(e){return H.e.formSubmit("AutomakerRegionAction_executeDeleteRegionInfo","arQuery",e)}),dh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/DELETE_SUBREGION",function(e){return H.e.formSubmit("AutomakerRegionAction_executeDeleteRegionSubInfo","arsQuery",e)}),uh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/SPECIFY_FACTORY_ID"),ph=Object(F.a)("YICHAKU/REGIONMANAGEMENT/SPECIFY_REGION_ID"),mh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/UPDATE_QUERY"),hh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_REGION_LOG_LIST",function(e){return H.e.formSubmit("AutomakerRegionAction_searchOperationRecordList","abrQuery",e)}),gh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/FETCH_MANAGER_LIST",function(e){return H.e.formSubmit("AutomakerRegionAction_searchRegionRMList","arsQuery",e)}),fh=Object(F.a)("YICHAKU/REGIONMANAGEMENT/UPDATE_MANAGER",function(e){return H.e.formSubmit("AutomakerRegionAction_executeSaveRegionRM","arsQuery",e)}),bh=th,Eh=a(281),yh=a.n(Eh),vh=ie.a.Item,Oh=oe.a.Option,Sh=ie.a.create()(Wm=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={factoryValue:"",brandValue:"",brandList:[]},a.handleSearch=function(e){e.preventDefault(),e.stopPropagation();var t=a.state,n=t.factoryValue,r=t.brandValue;a.props.updateQuery({factoryValue:n,brandValue:r}),a.forceUpdate(a.props.onSearch)},a.handleFactoryChange=function(e){var t=a.props,n=t.form,r=t.list,i=[],o="";i=""===e?[{label:"\u5168\u90e8\u54c1\u724c",value:""}].concat(Object(pe.a)(Ch(r))):Ch(r.filter(function(t){return t.value===e})),yh()(i)&&(o=yh()(i).value),a.setState({factoryValue:e,brandValue:o,brandList:i}),n.setFieldsValue({brand:o})},a.handleBrandChange=function(e){a.setState({brandValue:e})},a.handleFormReset=function(){a.props.form.resetFields()},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.list,r=a.state.brandList;return o.a.createElement(ie.a,{onSubmit:a.handleSearch,layout:"inline"},o.a.createElement(N.a,{gutter:8},o.a.createElement(L.a,{md:6,sm:24,key:"factory"},o.a.createElement(vh,{label:"\u6c7d\u8f66\u5382\u5546"},t("factory",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u6c7d\u8f66\u5382\u5546",onChange:a.handleFactoryChange},o.a.createElement(Oh,{value:"",key:"-1"},"\u5168\u90e8\u5382\u5546"),n.map(function(e,t){return o.a.createElement(Oh,{value:e.value,key:t},e.label)}))))),o.a.createElement(L.a,{md:6,sm:24,key:"brand"},o.a.createElement(vh,{label:"\u54c1\u724c"},t("brand",{initialValue:""})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",onChange:a.handleBrandChange},r.map(function(e,t){return o.a.createElement(Oh,{value:e.value,key:t},e.label)}))))),o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24},key:"toggleForm"},o.a.createElement(re.a,{icon:"search",htmlType:"submit"},"\u67e5\u8be2"),a.props.children)))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.query,a=t.factoryValue,n=t.brandValue;this.props.fetch().then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(t){var r=[],i="";r=[{label:"\u5168\u90e8\u54c1\u724c",value:""}].concat(Object(pe.a)(Ch(t.data.autoMakerOption))),i=n&&r.find(function(e){return e.value===n})||"",e.setState({factoryValue:a,brandValue:i,brandList:r}),e.props.form.setFields({factory:{value:a||""},brand:{value:n||""}})}})}},{key:"render",value:function(){return o.a.createElement("div",{className:eh.a.tableListForm},this.renderForm())}}]),t}(i.PureComponent))||Wm,Ih=Object(h.b)(function(e){return{list:e.regionManagement.brandList,query:e.regionManagement.query}},function(e){return{fetch:function(){return e(ah())},updateQuery:function(t){return e(mh(t))}}})(Sh);function Ch(e){var t=new Map;return e.map(function(e){return e.list}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!t.has(e.value)&&t.set(e.value,1)})}a(1286);var _h,Th,Ah=a(529),kh=Ah.a.TreeNode,wh=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalLoading:!1,editMode:!1,subRegionName:a.props.subRegion&&a.props.subRegion.regionSubName||"",checkedKeys:a.props.subRegion&&a.props.subRegion.cityId&&a.props.subRegion.cityId.split(",")||[]},a.handleEditClick=function(){a.setState({editMode:!0})},a.handleOk=function(){var e=a.state,t=e.subRegionName,n=e.checkedKeys,r=e.editMode;if(!a.props.readOnly||r)if(t)if(0!=n.length){var i=a.props,o=i.subRegion,l=i.regionId,c={type:o?"upDate":"add",id:o?o.id:l,regionSubName:t,provinceId:Object(pe.a)(new Set(n.map(function(e){return e.slice(0,2)}))).join(),cityId:n.filter(function(e){return 4==e.length}).join()};a.props.updateSubRegion(c).then(function(e){var t=e.payload;if(!t.data||"0"!=t.data.result)return Promise.reject(t.data.msg);S.a.success("\u66f4\u65b0\u5c0f\u533a\u6210\u529f"),a.props.handleCancel(!0)}).catch(function(e){S.a.error(e||"\u66f4\u65b0\u5c0f\u533a\u5931\u8d25")})}else S.a.warning("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u57ce\u5e02");else S.a.warning("\u8bf7\u8f93\u5165\u5c0f\u533a\u540d\u79f0");else a.props.handleCancel()},a.handleCancel=function(){a.props.handleCancel()},a.onCheck=function(e){console.log("checkedKeys",e),a.setState({checkedKeys:e})},a.handleNameChange=function(e){a.setState({subRegionName:e.target.value})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.rawRegionList,a=e.factoryId,n=e.readOnly,r=e.subRegion,i=void 0===r?{}:r,l=e.regionData,c=e.subRegionData,s=i.cityId&&i.cityId.split(",")||[],d=a&&l[a]||[],u=[];try{u=d.map(function(e){return c[e.id]}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!!e&&(!i||e.id!==i.id)}).map(function(e){return e.cityId}).join().split(",")}catch(p){console.error("\u533a\u57df\u6570\u636e\u5f02\u5e38",p.message)}return o.a.createElement(z.a,{title:"\u5c0f\u533a\u8bbe\u7f6e",visible:this.props.showModal,onOk:this.handlelOk,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading,footer:[n&&!this.state.editMode?o.a.createElement(re.a,{key:"edit",type:"danger",onClick:this.handleEditClick,style:{float:"left"}},"\u4fee\u6539\u5c0f\u533a"):null,o.a.createElement(re.a,{key:"back",onClick:this.handleCancel},"\u53d6\u6d88"),o.a.createElement(re.a,{key:"submit",type:"primary",loading:this.state.modalLoading,onClick:this.handleOk},"\u786e\u5b9a")],destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(N.a,{gutter:8},o.a.createElement(L.a,{span:4},o.a.createElement("label",{htmlFor:"subRegionName",style:{lineHeight:"32px"}},"\u5c0f\u533a\u540d\u79f0")),o.a.createElement(L.a,{span:10},o.a.createElement(he.a,{id:"subRegionName",onChange:this.handleNameChange,defaultValue:this.state.subRegionName,disabled:n&&!this.state.editMode}))),o.a.createElement("div",{className:eh.a.regionContent},o.a.createElement(Ah.a,{checkable:!0,onSelect:this.onSelect,onCheck:this.onCheck,defaultCheckedKeys:s,defaultExpandedKeys:s,disabled:n&&!this.state.editMode},t.map(function(e){return o.a.createElement(kh,{title:e.label,key:e.value,disableCheckbox:e.list.every(function(e){return u.includes(String(e.value))})},e.list.map(function(e){return o.a.createElement(kh,{title:e.label,key:e.value,disableCheckbox:u.includes(String(e.value))})}))})))))}}]),t}(i.Component),jh={updateSubRegion:function(e){return ch(e)}},xh=Object(h.b)(function(e){return{rawRegionList:e.session.regionList,regionData:e.regionManagement.regionData,subRegionData:e.regionManagement.subRegionData}},jh)(wh),Dh=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.handleCancel(!1)},a.handleSubmit=function(e){if(e&&e.regionName){var t=a.props,n=t.factoryId,r=t.region,i=void 0===r?{}:r,o={type:i.id?"upDate":"add",id:i.id||n,regionName:e.regionName};a.props.updateRegion(o).then(function(e){var t=e.payload;if(!t.data||"0"!=t.data.result)return Promise.reject(t.data.msg||"\u5927\u533a\u4fdd\u5b58\u5931\u8d25");a.props.handleCancel(!0),S.a.success("\u5927\u533a\u4fdd\u5b58\u6210\u529f")}).catch(function(e){S.a.error(e)})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.region,n=t.loading;return o.a.createElement(z.a,{title:a?"\u4fee\u6539\u5927\u533a":"\u65b0\u589e\u5927\u533a",visible:this.props.showModal,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:n},o.a.createElement(Rh,{regionName:a&&a.regionName||"",wrappedComponentRef:function(t){return e.form=t},modalHandleOk:this.handleSubmit}))}}]),t}(i.Component),Mh=Object(h.b)(function(e){return{loading:e.regionManagement.loading}},function(e){return{updateRegion:function(t){return e(lh(t))}}})(Dh),Nh=ie.a.Item,Lh={labelCol:{span:6},wrapperCol:{span:14}},Rh=ie.a.create()(_h=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.form.validateFields(function(e,t){e||(console.log("no error",t),a.props.modalHandleOk(t))})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.regionName;return o.a.createElement(ie.a,{onSubmit:this.handleSubmit,layout:"horizontal"},o.a.createElement(Nh,Object.assign({label:"\u5927\u533a\u540d\u5b57"},Lh),t("regionName",{initialValue:a,rules:[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\u5927\u533a\u540d\u79f0"},{max:20,message:"\u5927\u533a\u540d\u79f0\u4e0d\u80fd\u8d85\u8fc720\u4e2a\u5b57\u7b26"}]})(o.a.createElement(he.a,null))))}}]),t}(i.Component))||_h,Ph=ie.a.Item,Uh=oe.a.Option,Yh=ie.a.create()(Th=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={factory:{},brand:{},brandList:[]},a.config={rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u6c7d\u8f66\u5382\u5546"}]},a.brandConfig={rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u54c1\u724c"}]},a.handleSubmit=function(){a.props.form.validateFields(function(e){if(!e){var t={type:a.props.factory.id?"upDate":"add",id:a.props.factory.id||void 0,automakerId:a.state.factory.value,automakerName:a.state.factory.label,fldSerialid:a.state.brand.value,fldserialname:a.state.brand.label};t&&a.props.updateFactory(t).then(function(e){var t=e.payload;if(!t||!t.data||0!=t.data.result)return Promise.reject(t.data.msg);S.a.success(t.data.msg),a.props.handleCancel(!0)}).catch(function(e){S.a.error(e||(a.props.factory.id?"\u4fdd\u5b58\u5382\u5546\u5931\u8d25":"\u65b0\u589e\u5382\u5546\u5931\u8d25"))})}})},a.handleCancel=function(){a.props.handleCancel()},a.handleFactoryChange=function(e){var t=a.props,n=t.form,r=t.list,i=[],o=r.find(function(t){return t.value===e}),l={};i=""===e?Object(pe.a)(Hh(r)):Hh(r.filter(function(t){return t.value===e})),yh()(i)&&(l=yh()(i)),a.setState({factory:o,brand:l,brandList:i}),n.setFieldsValue({brandName:l.value})},a.handleBrandChange=function(e){var t=a.state.brandList.find(function(t){return t.value===e});a.setState({brand:t})},a.handleFormReset=function(){a.props.form.resetFields()},a.toggleForm=function(e){return function(t){t.preventDefault(),a.props.onUpdateQuery({expandForm:e})}},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.list,r={labelCol:{span:6},wrapperCol:{span:16}},i=a.state.brandList;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(Ph,Object.assign({label:"\u6c7d\u8f66\u5382\u5546"},r),t("factoryName",a.config)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u6c7d\u8f66\u5382\u5546",onChange:a.handleFactoryChange},n.map(function(e){return o.a.createElement(Uh,{value:e.value,key:e.value},e.label)})))),o.a.createElement(Ph,Object.assign({label:"\u54c1\u724c"},r),t("brandName",a.brandConfig)(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",onChange:a.handleBrandChange},i.map(function(e){return o.a.createElement(Uh,{value:e.value,key:e.value},e.label)})))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.form,a=e.list,n=e.factory,r=[],i=n&&a.find(function(e){return e.value===n.automakerId})||{},o={};o=i.value&&(r=i.list).find(function(e){return e.value===n.fldSerialid})||{},this.setState({factory:i,brand:o,brandList:r}),t.setFieldsValue({factoryName:i.value,brandName:o.value})}},{key:"render",value:function(){return o.a.createElement(z.a,{title:this.props.factory.automakerId?"\u7f16\u8f91\u5382\u5546":"\u65b0\u589e\u5382\u5546",visible:this.props.showModal,onOk:this.handleSubmit,onCancel:this.handleCancel,confirmLoading:this.state.modalLoading,destroyOnClose:!0},this.props.showModal&&this.renderForm())}}]),t}(i.PureComponent))||Th,Fh=Object(h.b)(function(e){return{list:e.regionManagement.brandList}},function(e){return{updateFactory:function(t){return e(nh(t))}}})(Yh);function Hh(e){var t=new Map;return e.map(function(e){return e.list}).reduce(function(e,t){return e.concat(t)},[]).filter(function(e){return!t.has(e.value)&&t.set(e.value,1)})}var Kh=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalLoading:!1},a.columns=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"createTime",align:"center",width:200,render:function(e){return e&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",width:100,dataIndex:"opUserName"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"opTypeStr",render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e)}}],a.handleCancel=function(){a.props.handleCancel()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.factory;e.automakerId&&this.props.fetch({automakerId:e.automakerId})}},{key:"render",value:function(){return o.a.createElement(z.a,{title:"\u64cd\u4f5c\u65e5\u5fd7",visible:this.props.showModal,onCancel:this.handleCancel,footer:null,width:800,destroyOnClose:!0},o.a.createElement(Z.a,{dataSource:this.props.list||[],columns:this.columns,scroll:{y:500},rowKey:"id",pagination:!1}))}}]),t}(i.Component),qh={fetch:function(e){return hh(e)}},Bh=Object(h.b)(function(e){return{list:e.regionManagement.logList}},qh)(Kh),Vh=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalLoading:!1,selectedRowKeys:a.props.subRegion.subRmUserId&&a.props.subRegion.subRmUserId.split(",").map(function(e){return Number(e)}).filter(function(e){return e})||[]},a.handleOk=function(){var e=a.state.selectedRowKeys,t=a.props.subRegion.id;t&&a.props.updateManager({id:t,subRmUserId:e.join()}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(!e||!e.data||0!=e.data.result)return Promise.reject(e.data.msg);S.a.success("\u66f4\u65b0\u533a\u57df\u7ecf\u7406\u6210\u529f!"),a.props.onCancel(!0)}).catch(function(e){S.a.error(e||"\u66f4\u65b0\u533a\u57df\u7ecf\u7406\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5")})},a.handleCancel=function(){a.props.onCancel(!1)},a.handleRowSelectChange=function(e){a.setState({selectedRowKeys:e})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchList({id:this.props.subRegion.id})}},{key:"render",value:function(){var e=this.state.selectedRowKeys;return o.a.createElement(z.a,{title:"\u533a\u57df\u7ecf\u7406\u8bbe\u7f6e",visible:this.props.showModal,onOk:this.handleOk,onCancel:this.handleCancel,width:1100,destroyOnClose:!0},o.a.createElement("span",{style:{position:"absolute",top:"17px",left:"150px"}},"\u5c0f\u533a\u540d\u79f0\uff1a",this.props.subRegion.regionSubName),o.a.createElement(Z.a,{dataSource:this.props.list,columns:Wh,pagination:!1,size:"small",rowKey:"id",rowSelection:{selectedRowKeys:e,onChange:this.handleRowSelectChange}}))}}]),t}(i.Component),Qh={fetchList:function(e){return gh(e)},updateManager:function(e){return fh(e)}},zh=Object(h.b)(function(e){return{list:e.regionManagement.managerList}},Qh)(Vh),Wh=[{title:"\u5458\u5de5\u540d\u79f0",dataIndex:"employeename",key:"employeename",width:250},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid",key:"accid",width:250},{title:"\u5458\u5de5\u7c7b\u578b",dataIndex:"employeeName",key:"employeeName",width:250},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"departname",key:"departname",width:250},{title:"\u79fb\u52a8\u7535\u8bdd",dataIndex:"mobile",key:"mobile",width:250},{title:"\u7535\u5b50\u90ae\u4ef6",dataIndex:"email",key:"email",width:250},{title:"\u72b6\u6001",dataIndex:"statusName",key:"statusName",width:250}],Gh=z.a.confirm,Xh=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showRegionEditModal:!1,showManagerModal:!1,showFacModal:!1,showLogModal:!1,modalLoading:!1,expandedRow:[],expandedSubRow:{},factory:{},region:{},subRegion:{},readOnly:!1},a.columns=[{title:"\u6c7d\u8f66\u5382\u5546\u540d\u79f0",dataIndex:"automakerName",key:"automakerName",width:250},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"fldserialname",key:"fldserialname",width:250},{title:"\u5927\u533a\u6570\u91cf",dataIndex:"regionNum",key:"regionNum"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",align:"right",width:250,render:function(e,t){return o.a.createElement("div",null,o.a.createElement("a",{href:"#",key:"new",onClick:a.handleFactoryClick(t,!0)},o.a.createElement(G.a,{title:"\u65b0\u589e"},o.a.createElement(k.a,{type:"plus"}))),o.a.createElement(W.a,{type:"vertical",key:"Divider1"}),o.a.createElement("a",{href:"#",key:"modify",onClick:a.handleUpdateFactory(t)},o.a.createElement(G.a,{title:"\u4fee\u6539"},o.a.createElement(k.a,{type:"edit"}))),o.a.createElement(W.a,{type:"vertical",key:"Divider2"}),o.a.createElement("a",{href:"#",key:"log",onClick:a.handleLogModal(t)},o.a.createElement(G.a,{title:"\u64cd\u4f5c\u65e5\u5fd7"},o.a.createElement(k.a,{type:"project",style:{color:"rgba(0, 0, 0, 0.65)"}}))))}}],a.handleFactoryClick=function(e,t,n){return function(t){t.preventDefault(),t.stopPropagation(),a.setState({showRegionEditModal:!0,factory:e,region:n})}},a.handleSubRegionClick=function(e,t,n){return function(r){r.preventDefault(),r.stopPropagation(),n||a.handleSubExpand(e.masterId)(!0,e),a.setState({showModal:!0,subRegion:n,readOnly:t,region:e})}},a.handleManager=function(e){return function(t){t.preventDefault(),t.stopPropagation(),a.setState({showManagerModal:!0,subRegion:e})}},a.handleExpand=function(e,t){var n=a.state,r=n.expandedRow,i=n.expandedSubRow,o=t.id;e?(a.props.specifyFactoryId(o),!r.includes(t.id)&&r.push(t.id),a.setState({factory:t,expandedRow:r,expandedSubRow:Object(E.a)({},i,Object(U.a)({},o,[]))}),a.props.fetchRegionList({id:o})):a.setState({expandedRow:Zm()(r,t.id),expandedSubRow:Object(E.a)({},i,Object(U.a)({},o,[]))})},a.handleSubExpand=function(e){return function(t,n){if(e){var r=a.state.expandedSubRow;if(t){var i=n.id;a.props.specifyRegionId(i),Array.isArray(r[e])&&!r[e].includes(n.id)?r[e].push(n.id):r[e]=[n.id],a.setState({region:n,expandedSubRow:r}),a.props.fetchSubRegionList({id:i})}else Array.isArray(r[e])&&r[e].includes(n.id)&&a.setState({expandedSubRow:Object(E.a)({},r,Object(U.a)({},e,Zm()(r[e],n.id)))})}}},a.handleSearch=function(e,t){var n=a.props.query;return a.props.fetchList({automakerId:n.factoryValue,fldSerialid:n.brandValue},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.handleInitSearch=function(){a.handleSearch().then(function(){a.setState({expandedRow:[]})})},a.handleUpdateFactory=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(t){t.preventDefault(),t.stopPropagation(),a.setState({factory:e,showFacModal:!0})}},a.handleDeleteRegion=function(e,t){return function(n){if(n.preventDefault(),n.stopPropagation(),e){var r=Object(Oc.a)(Object(Oc.a)(a)),i=t.id;Gh({title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u5927\u533a\u5417\uff1f",onOk:function(){r.props.deleteRegion({id:e}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(!e.data||0!=e.data.result)return Promise.reject(e.data.msg);S.a.success(e.data.msg||"\u5220\u9664\u6210\u529f"),r.handleSearch(),r.props.fetchRegionList({id:i})}).catch(function(e){S.a.error(e||"\u5220\u9664\u5931\u8d25")})}})}}},a.handleDeleteSubRegion=function(e,t){return function(n){if(n.preventDefault(),n.stopPropagation(),t){var r=Object(Oc.a)(Object(Oc.a)(a));Gh({title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u5c0f\u533a\u5417\uff1f",onOk:function(){r.props.deleteSubRegion({id:t.id}).then(function(){var t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;if(!t.data||0!=t.data.result)return Promise.reject(t.data.msg);S.a.success(t.data.msg||"\u5220\u9664\u6210\u529f"),r.props.fetchSubRegionList({id:e}),r.props.fetchRegionList({id:r.state.region.masterId})}).catch(function(e){S.a.error(e||"\u5220\u9664\u5931\u8d25")})}})}}},a.handleModalOk=function(){a.setState({showModal:!1})},a.handleLogModal=function(e){return function(t){t.preventDefault(),t.stopPropagation(),a.setState({showLogModal:!0,factory:e})}},a.handleCancel=function(e){a.setState({showModal:!1,showManagerModal:!1,showRegionEditModal:!1}),e&&a.handleExpand(!0,a.state.factory),e&&a.handleSearch()},a.handleSubRegionCancel=function(e){a.setState({showModal:!1,showManagerModal:!1,showRegionEditModal:!1}),e&&a.props.fetchRegionList({id:a.state.region.masterId}),e&&a.props.fetchSubRegionList({id:a.state.region.id})},a.handleFacCancel=function(e){a.setState({showFacModal:!1}),e&&a.handleSearch()},a.handleLogCancel=function(){a.setState({showLogModal:!1})},a.expandedRegionRender=function(e){var t=[{title:"\u5927\u533a\u540d\u79f0",dataIndex:"regionName",key:"regionName",width:250},{title:"\u7701\u4efd\u6570\u91cf",dataIndex:"provinceNum",key:"provinceNum",width:250},{title:"\u57ce\u5e02\u6570\u91cf",dataIndex:"cityNum",key:"cityNum"},{title:"\u64cd\u4f5c",key:"state",align:"right",width:250,render:function(t,n){return o.a.createElement("div",null,o.a.createElement("a",{href:"#",key:"new",onClick:a.handleSubRegionClick(n,!1)},o.a.createElement(G.a,{title:"\u65b0\u589e"},o.a.createElement(k.a,{type:"plus"}))),o.a.createElement(W.a,{type:"vertical",key:"divider1"}),o.a.createElement("a",{href:"#",key:"modify",onClick:a.handleFactoryClick(e,!1,n)},o.a.createElement(G.a,{title:"\u4fee\u6539"},o.a.createElement(k.a,{type:"edit"}))),o.a.createElement(W.a,{type:"vertical",key:"divider2"}),o.a.createElement("a",{href:"#",key:"delete",onClick:a.handleDeleteRegion(n.id,e)},o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}],n=e.id,r=a.props.regionData[n]||[];return o.a.createElement("div",{style:{marginBottom:"5px",marginLeft:"-15px",marginRight:"-15px"}},o.a.createElement(Z.a,{columns:t,dataSource:r,pagination:!1,loading:a.props.loading&&n===a.state.factory.id,expandRowByClick:!0,expandedRowRender:a.expandedSubRegionRender,expandedRowKeys:a.state.expandedSubRow[n]||[],onExpand:a.handleSubExpand(n),rowClassName:function(e){return 0===e.provinceNum||0===e.cityNum?"noExpand":""},rowKey:"id",indentSize:0,size:"small"}))},a.expandedSubRegionRender=function(e){if(!e||0!==e.provinceNum&&0!==e.cityNum){var t=[{title:"\u5c0f\u533a\u540d\u79f0",dataIndex:"regionSubName",key:"regionSubName",width:250},{title:"\u7701\u4efd",dataIndex:"provinceName",key:"provinceName",width:250,render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e.split(",").map(function(e,t){return o.a.createElement(Xm.a,{key:t},e.toUpperCase())}))}},{title:"\u57ce\u5e02",dataIndex:"cityName",key:"cityName",width:350,render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e.split(",").map(function(e,t){return o.a.createElement(Xm.a,{key:t},e.toUpperCase())}))}},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"subRmUserName",key:"subRmUserName"},{title:"\u64cd\u4f5c",key:"state",align:"right",width:250,render:function(t,n){return o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",key:"user",onClick:a.handleManager(n)},o.a.createElement(G.a,{title:"\u533a\u57df\u7ecf\u7406"},o.a.createElement(k.a,{type:"user"}))),o.a.createElement(W.a,{type:"vertical",key:"divider0"}),o.a.createElement("a",{href:"javascript:;",key:"view",onClick:a.handleSubRegionClick(e,!0,n)},o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement(k.a,{type:"search"}))),o.a.createElement(W.a,{type:"vertical",key:"divider1"}),o.a.createElement("a",{href:"#",key:"modify",onClick:a.handleSubRegionClick(e,!1,n)},o.a.createElement(G.a,{title:"\u4fee\u6539"},o.a.createElement(k.a,{type:"edit"}))),o.a.createElement(W.a,{type:"vertical",key:"divider2"}),o.a.createElement("a",{href:"#",key:"delete",onClick:a.handleDeleteSubRegion(e.id,n)},o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}],n=e.id||"",r=a.props.subRegionData[n]||[];return o.a.createElement("div",{style:{marginBottom:"5px",marginLeft:"-15px",marginRight:"-15px"}},o.a.createElement(Z.a,{columns:t,dataSource:r,pagination:!1,rowKey:"id",indentSize:0,size:"small"}))}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:Um.a.ledger},o.a.createElement("div",{className:Um.a.formArea},o.a.createElement(Ih,{onSearch:this.handleInitSearch,onUpdateQuery:function(){},wrappedComponentRef:function(t){return e.form=t}},o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:this.handleUpdateFactory()},"\u65b0\u589e"))),o.a.createElement("div",{className:Um.a.wrapper},o.a.createElement(Z.a,{columns:this.columns,dataSource:this.props.list,expandedRowRender:this.expandedRegionRender,expandedRowKeys:this.state.expandedRow,expandRowByClick:!0,paging:null,onExpand:this.handleExpand,onChange:this.handleSearch,onPageChange:this.handleSearch,rowKey:"id",indentSize:0})),this.state.showModal&&o.a.createElement(xh,{showModal:this.state.showModal,handleCancel:this.handleSubRegionCancel,factoryId:this.state.region&&this.state.region.masterId,regionId:this.state.region&&this.state.region.id,readOnly:this.state.readOnly,subRegion:this.state.subRegion}),this.state.showRegionEditModal&&o.a.createElement(Mh,{showModal:this.state.showRegionEditModal,handleCancel:this.handleCancel,factoryId:this.state.factory&&this.state.factory.id,readOnly:this.state.readOnly,region:this.state.region}),this.state.showFacModal&&o.a.createElement(Fh,{showModal:this.state.showFacModal,handleCancel:this.handleFacCancel,factory:this.state.factory}),this.state.showManagerModal&&o.a.createElement(zh,{showModal:this.state.showManagerModal,subRegion:this.state.subRegion,onCancel:this.handleSubRegionCancel}),this.state.showLogModal&&o.a.createElement(Bh,{showModal:this.state.showLogModal,handleCancel:this.handleLogCancel,factory:this.state.factory}))}}]),t}(i.Component),Jh={specifyFactoryId:function(e){return uh(e)},specifyRegionId:function(e){return ph(e)},fetchList:function(e,t){return rh(e,t)},fetchRegionList:function(e){return ih(e)},fetchSubRegionList:function(e){return oh(e)},deleteRegion:function(e){return sh(e)},deleteSubRegion:function(e){return dh(e)}},Zh=Object(h.b)(function(e){return{list:e.regionManagement.list,query:e.regionManagement.query,paging:e.regionManagement.paging,regionData:e.regionManagement.regionData,subRegionData:e.regionManagement.subRegionData,loading:e.regionManagement.loading}},Jh)(Xh);var $h,eg=Object(h.b)(function(e){return{loading:e.carFactoryManagement.loading,list:e.carFactoryManagement.carSales.list,detailList:e.carFactoryManagement.carSalesDetail.list,paging:e.carFactoryManagement.carSales.paging,detailPaging:e.carFactoryManagement.carSalesDetail.paging,query:e.carFactoryManagement.carSales.query,rinkType:"CarSales",detailColumns:Vm,rowKey:"fldTrimid",detailRowKey:function(e){return"".concat(e.distributorName,",").concat(e.ewName)}}},function(e){return{fetch:function(t,a){return e(Cm(t,a))},handleSearchDetail:function(t,a){return e(_m(t,a))},updateQuery:function(t){return e(Lm(t))},exportData:function(t){return e(jm(t,"carSales"))}}})(Fm),tg="YYYY-MM-DD",ag=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,isExporting:!1,userId:"",type:""},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e),i=e.taskStartTimeRange;if(i){var o=Object(y.a)(i,2),l=o[0],c=o[1];r.beginDate=l&&l.format(tg),r.endDate=c&&c.format(tg),delete r.taskStartTimeRange}a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}),a.props.fetchSummary&&a.props.fetchSummary(r)},a.handleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var t=a.props.query.value,n=t.taskStartTimeRange;if(n){var r=Object(y.a)(n,2),i=r[0],o=r[1];t.beginDate=i&&i.format(tg),t.endDate=o&&o.format(tg),delete t.taskStartTimeRange}a.props.exportData(t).then(function(e){var t=on(e.payload);t&&S.a.warning(t,2.5)}).catch(function(e){console.error(e.message)}).then(function(){a.setState({isExporting:!1}),e()})},a.renderSummaryList=function(){var e=a.props,t=e.summaryList,n=e.summaryData;return Array.isArray(t)&&t.map(function(e){return{label:e.label,value:n[e.value]||"-"}})},a.handleSearchDetail=function(e,t,n,r){var i=a.props.query.value,o=i.taskStartTimeRange;if(o){var l=Object(y.a)(o,2),c=l[0],s=l[1];i.beginDate=c&&c.format(tg),i.endDate=s&&s.format(tg),delete i.taskStartTimeRange}return e&&t&&a.props.handleSearchDetail(Object(E.a)({userId:e,type:t},i),{pageNum:n||a.props.detailPaging.current,pageSize:r||a.props.detailPaging.pageSize})},a.handleDetailPageChange=function(e,t){a.handleSearchDetail(a.state.userId,a.state.type,e,t)},a.selectRow=function(e,t){e&&t&&a.handleSearchDetail(e,t,1,10).then(function(){a.setState({showModal:!0,userId:e,type:t})})},a.onCancel=function(){a.setState({showModal:!1})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.columns,r=e.list,i=e.rowKey,l=e.detailColumns;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,enableExport:!0,isExporting:this.state.isExporting,onExport:this.handleExport,onUpdateQuery:this.props.updateQuery})),o.a.createElement(ql,null,o.a.createElement(Jc,{list:this.renderSummaryList()})),o.a.createElement("div",null,o.a.createElement(ae,{columns:n(this.selectRow),loading:this.props.loading&&!this.state.showModal,data:r,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:i,bordered:!0})),o.a.createElement(z.a,{title:"\u62bd\u67e5\u4efb\u52a1\u660e\u7ec6",visible:this.state.showModal,onCancel:this.onCancel,footer:null,width:1024},o.a.createElement(ae,{loading:this.props.loading,data:this.props.detailList,columns:l,paging:this.props.detailPaging,onChange:this.handleDetailPageChange,onPageChange:this.handleDetailPageChange,scroll:{x:800},rowKey:function(e){return"".concat(e.spottestId,",").concat(e.chassis)}})))}}]),t}(i.Component),ng=Object(Y.a)(($h={},Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_PLATFORM",{next:function(e,t){return Object(E.a)({},e,{platformData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_PLATFORM_DETAIL",{next:function(e,t){return Object(E.a)({},e,{platformDataDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/UPDATEQUERY_PLATFORM",{next:function(e,t){return Object(E.a)({},e,{platformQuery:Object(E.a)({},e.platformQuery,t.payload)})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_RISK",{next:function(e,t){return Object(E.a)({},e,{riskData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_RISK_SUMMARY",{next:function(e,t){return Object(E.a)({},e,{riskSummary:{total:t.payload.data.total,auto:t.payload.data.auto,manual:t.payload.data.manual}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_RISK_DETAIL",{next:function(e,t){return Object(E.a)({},e,{riskDataDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/UPDATEQUERY_RISK",{next:function(e,t){return Object(E.a)({},e,{riskQuery:Object(E.a)({},e.riskQuery,t.payload)})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER",{next:function(e,t){return Object(E.a)({},e,{customerData:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER_SUMMARY",{next:function(e,t){return Object(E.a)({},e,{customerSummary:{total:t.payload.data.total,auto:t.payload.data.auto,manual:t.payload.data.manual}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER_DETAIL",{next:function(e,t){return Object(E.a)({},e,{customerDataDetail:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/UPDATEQUERY_CUSTOMER",{next:function(e,t){return Object(E.a)({},e,{customerQuery:Object(E.a)({},e.customerQuery,t.payload)})}}),Object(U.a)($h,"YICHAKU/TASKSUMMARY/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),$h),{platformData:{list:[],paging:{current:1,pageSize:10,total:10}},platformQuery:{value:{},expandForm:!1},platformDataDetail:{list:[],paging:{current:1,pageSize:10,total:10}},riskData:{list:[],paging:{current:1,pageSize:10,total:10}},riskSummary:{total:0,auto:0,manual:0},riskQuery:{value:{},expandForm:!1},riskDataDetail:{list:[],paging:{current:1,pageSize:10,total:10}},customerData:{list:[],paging:{current:1,pageSize:10,total:10}},customerSummary:{total:0,auto:0,manual:0},customerQuery:{value:{},expandForm:!1},customerDataDetail:{list:[],paging:{current:1,pageSize:10,total:10}},loading:!0}),rg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_PLATFORM",function(e,t){return H.e.formSubmit("/TaskStatAction_searchPlatformTaskList","query",e,t)}),ig=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_PLATFORM_DETAIL",function(e,t){return H.e.formSubmit("/TaskStatAction_searchPlatformTaskInfo","query",e,t)}),og=Object(F.a)("YICHAKU/TASKSUMMARY/UPDATEQUERY_PLATFORM"),lg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_RISK",function(e,t){return H.e.formSubmit("/TaskStatAction_searchRiskControlTaskList","",e,t)}),cg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_RISK_SUMMARY",function(e){return H.e.formSubmit("/TaskStatAction_searchRiskControlTaskCount","",e)}),sg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_RISK_DETAIL",function(e,t){return H.e.formSubmit("/TaskStatAction_searchRiskControlTaskInfo","",e,t)}),dg=Object(F.a)("YICHAKU/TASKSUMMARY/UPDATEQUERY_RISK"),ug=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER",function(e,t){return H.e.formSubmit("/TaskStatAction_searchAMTaskList","",e,t)}),pg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER_SUMMARY",function(e){return H.e.formSubmit("/TaskStatAction_searchAMTaskCount","",e)}),mg=Object(F.a)("YICHAKU/TASKSUMMARY/FETCHDATA_CUSTOMER_DETAIL",function(e,t){return H.e.formSubmit("/TaskStatAction_searchAMTaskInfo","",e,t)}),hg=Object(F.a)("YICHAKU/TASKSUMMARY/UPDATEQUERY_CUSTOMER"),gg=Object(F.a)("YICHAKU/TASKSUMMARY/EXPORT_DATA",function(e,t){var a="",n="";switch(t){case"platform":a="TaskStatAction_exportPlatformTaskInfo",n="query";break;case"risk":a="TaskStatAction_exportRiskControlTaskList";break;case"customer":a="TaskStatAction_exportAMTaskList"}return a&&H.b.formSubmit(a,n,e)}),fg=function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)},bg=[{title:"\u62bd\u67e5\u4efb\u52a1\u7f16\u53f7",dataIndex:"spottestId",align:"center"},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName",align:"center"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName",align:"center"},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"brandName",align:"center"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName",align:"center"},{title:"\u662f\u5426\u76f4\u8425\u5e97",dataIndex:"trIsDirectSaleStore",align:"center"},{title:"\u62bd\u67e5\u65b9\u5f0f",dataIndex:"trSpotTestType",align:"center"},{title:"\u62bd\u67e5\u8f66\u8f86\u8f66\u67b6\u53f7",dataIndex:"chassis",align:"center"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"taskSendTime",align:"center"},{title:"\u62bd\u67e5\u786e\u8ba4\u65f6\u95f4",dataIndex:"spotConfirmTime",align:"center"},{title:"\u662f\u5426\u6539\u7ea6\u62cd\u7167\u65f6\u95f4",dataIndex:"trIsChangePhotoTime",align:"center"},{title:"\u62bd\u67e5\u786e\u8ba4\u9009\u62e9\u7684\u65f6\u95f4",dataIndex:"spotConfirmSelTime",align:"center"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4",dataIndex:"seeChassisTime",align:"center"},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"photoTime",align:"center"},{title:"\u62bd\u67e5\u7528\u65f6",dataIndex:"spotConsumTime",align:"center"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u62cd\u7167\u7528\u65f6",dataIndex:"seeChassisConsumTime",align:"center"},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"trTaskStatus",align:"center"},{title:"\u62bd\u67e5\u662f\u5426\u8d85\u65f6",dataIndex:"trIsSpotTimeout",align:"center"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u62cd\u7167\u662f\u5426\u8d85\u65f6",dataIndex:"trIsSeeChassisTimeout",align:"center"},{title:"\u662f\u5426\u9000\u56de\u91cd\u62cd",dataIndex:"trIsUntreadRetake",align:"center"},{title:"\u62bd\u67e5\u5ba1\u6838\u7ed3\u679c",dataIndex:"trAuditingResult",align:"center"},{title:"\u4e8c\u7f51\u53cd\u9988\u5f02\u5e38\u7c7b\u578b",dataIndex:"trEwExcepType",align:"center"},{title:"\u5907\u6ce8",dataIndex:"ewExcepTypeRemark"},{title:"\u5e73\u53f0\u6700\u7ec8\u786e\u8ba4\u5f02\u5e38\u7c7b\u578b",dataIndex:"trPlatformExcepType",align:"center"},{title:"\u5f02\u5e38\u4efb\u52a1\u8ddf\u8e2a\u5907\u6ce8(\u5e73\u53f0)",dataIndex:"platformExcepRemark",align:"center"},{title:"\u4e8c\u7f51\u8054\u7cfb\u4eba",dataIndex:"ewContactor",align:"center"},{title:"\u4e8c\u7f51\u8054\u7cfb\u7535\u8bdd",dataIndex:"ewMobile",align:"center"},{title:"\u62e8\u6253\u65f6\u95f4",dataIndex:"ewCalltime",align:"center"},{title:"\u662f\u5426\u63a5\u901a",dataIndex:"trEwGetcall",align:"center"},{title:"\u63a5\u901a\u6b21\u6570",dataIndex:"ewGetcalltimes",align:"right"},{title:"\u672a\u63a5\u901a\u6b21\u6570",dataIndex:"ewNogetcalltimes",align:"right"},{title:"4S\u5e97\u8054\u7cfb\u7ed3\u679c",dataIndex:"trDistReply"},{title:"\u4e8c\u7f51\u53cd\u9988\u7ed3\u679c",dataIndex:"trEwReply"},{title:"\u91cd\u65b0\u4e0b\u53d1",dataIndex:"resendRemark"}],Eg=function(e){return[{title:"\u5458\u5de5\u540d\u79f0",dataIndex:"employeeName"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"departType"},{title:"\u5904\u7406\uff08\u5907\u6ce8\uff09\u603b\u6570",dataIndex:"totalNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"3")}}},render:fg},{title:"\u6d41\u8f6c\u56de\u6613\u67e5\u5e93\u6570",dataIndex:"toYckNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"1")}}},render:fg},{title:"\u6d41\u8f6c\u81f3\u5ba2\u6237\u7ecf\u7406\u6570",dataIndex:"toManagerNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"2")}}},render:fg}]},yg=function(e){return[{title:"\u5458\u5de5\u540d\u79f0",dataIndex:"employeeName"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"departType"},{title:"\u8d1f\u8d23\u7684\u4efb\u52a1\u6570",dataIndex:"totalNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"5")}}},render:fg},{title:"\u5904\u7406\uff08\u5907\u6ce8\uff09\u603b\u6570",dataIndex:"doneNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"10")}}},render:fg},{title:"\u6d41\u8f6c\u56de\u6613\u67e5\u5e93\u6570",dataIndex:"toYckNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"4")}}},render:fg},{title:"\u6d41\u8f6c\u81f3\u98ce\u63a7\u4e13\u5458",dataIndex:"toRiskNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.userId,"6")}}},render:fg}]},vg=[{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u4efb\u52a1\u7f16\u53f7",dataIndex:"spottestId",align:"center"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",align:"center",render:function(e,t){return t.carVO.chassis}},{title:"\u54c1\u724c",dataIndex:"fld_serial",render:function(e,t){return t.carVO.fld_serial}},{title:"\u8f66\u578b",dataIndex:"fld_model",render:function(e,t){return t.carVO.fld_model}},{title:"\u8f66\u7cfb",dataIndex:"fld_trim",render:function(e,t){return t.carVO.fld_trim}},{title:"\u8f66\u8f86\u4ef7\u683c",dataIndex:"carprice",align:"right",render:function(e,t){return t.carVO.carprice}},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTimeStr",align:"center"},{title:"\u62bd\u67e5\u786e\u8ba4\u65f6\u95f4",dataIndex:"spotConfirmTimeStr",align:"center"},{title:"\u6539\u7ea6\u65f6\u95f4",dataIndex:"appointmentTimeStr",align:"center"},{title:"\u6d41\u8f6c\u65b9\u5f0f",dataIndex:"turnTypeName",align:"center"},{title:"\u6d41\u8f6c\u65f6\u95f4",dataIndex:"turnTimeStr",align:"center"},{title:"\u662f\u5426\u63a5\u901a",dataIndex:"ewGetcallName",align:"center"},{title:"\u62bd\u67e5\u5ba1\u6838\u5458\u5907\u6ce8",dataIndex:"ptRemarkExc"},{title:"\u98ce\u63a7\u5904\u7406",dataIndex:"fkzyHandleName"},{title:"\u5ba2\u6237\u7ecf\u7406\u5904\u7406",dataIndex:"khjjHandleName"},{title:"\u98ce\u63a7\u5907\u6ce8",dataIndex:"fkzyRemark"},{title:"\u5ba2\u6237\u7ecf\u7406\u5907\u6ce8",dataIndex:"khjjRemark"}],Og=[{label:"\u6d41\u8f6c\u4efb\u52a1\u603b\u6570",value:"total"},{label:"\u4eba\u5de5\u6d41\u8f6c\u6570",value:"manual"},{label:"\u81ea\u52a8\u6d41\u8f6c\u6570",value:"auto"}],Sg=[{label:"\u6d41\u8f6c\u81f3\u5ba2\u6237\u7ecf\u7406\u4efb\u52a1\u603b\u6570",value:"total"}],Ig=function(e){return[{title:"\u5458\u5de5\u540d\u79f0",dataIndex:"opUserName",fixed:"left"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},{title:"\u62bd\u67e5\u4efb\u52a1\u8ddf\u8e2a",children:[{title:"\u5ba1\u6838\u4efb\u52a1\u6570",dataIndex:"auditNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"1")}}},render:fg},{title:"\u6d89\u53ca4s\u5e97\u6570",dataIndex:"distributorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"2")}}},render:fg},{title:"\u6d89\u53ca\u4e8c\u7f51\u6570",dataIndex:"ewNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"3")}}},render:fg},{title:"\u8054\u7cfb\u8fc7\u4e8c\u7f51\u7684\u4efb\u52a1\u6570",dataIndex:"contactEwNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"4")}}},render:fg},{title:"\u8054\u7cfb\u8fc74s\u5e97\u7684\u4efb\u52a1\u6570",dataIndex:"contactDistributorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"5")}}},render:fg},{title:"\u5ba1\u6838\u901a\u8fc7\u6570",dataIndex:"auditPassNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"6")}}},render:fg},{title:"\u6807\u8bb0\u5f02\u5e38\u6570",dataIndex:"errorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"7")}}},render:fg},{title:"\u7ec8\u6b62\u4efb\u52a1\u6570",dataIndex:"taskEndNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"8")}}},render:fg},{title:"\u9000\u56de\u91cd\u62cd\u6570",dataIndex:"returnRephotoNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"9")}}},render:fg}]},{title:"\u79fb\u52a8\u4efb\u52a1\u8ddf\u8e2a",children:[{title:"\u5ba1\u6838\u4efb\u52a1\u6570",dataIndex:"moveAuditNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"10")}}},render:fg},{title:"\u6d89\u53ca4s\u5e97\u6570",dataIndex:"moveDistributorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"11")}}},render:fg},{title:"\u6d89\u53ca\u4e8c\u7f51\u6570",dataIndex:"moveEwNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"12")}}},render:fg},{title:"\u8054\u7cfb\u8fc7\u4e8c\u7f51\u7684\u4efb\u52a1\u6570",dataIndex:"moveContactEwNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"13")}}},render:fg},{title:"\u8054\u7cfb\u8fc74s\u5e97\u7684\u4efb\u52a1\u6570",dataIndex:"moveContactDistributorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"14")}}},render:fg},{title:"\u5ba1\u6838\u901a\u8fc7\u6570",dataIndex:"moveAuditPassNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"15")}}},render:fg},{title:"\u6807\u8bb0\u5f02\u5e38\u6570",dataIndex:"moveErrorNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"16")}}},render:fg},{title:"\u7ec8\u6b62\u4efb\u52a1\u6570",dataIndex:"moveTaskEndNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"17")}}},render:fg},{title:"\u9000\u56de\u91cd\u62cd\u6570",dataIndex:"moveReturnRephotoNum",align:"right",onCell:function(t,a){return{onClick:function(){return e(t.opUserId,"18")}}},render:fg}]}]};var Cg=Object(h.b)(function(e){return{loading:e.taskSummary.loading,list:e.taskSummary.platformData.list,detailList:e.taskSummary.platformDataDetail.list,paging:e.taskSummary.platformData.paging,detailPaging:e.taskSummary.platformDataDetail.paging,query:e.taskSummary.platformQuery,columns:Ig,detailColumns:bg,rowKey:"accid"}},function(e){return{fetch:function(t,a){return e(rg({opUserName:t.opUserName,accid:t.accid,beginTime:t.beginDate,endTime:t.endDate},a))},handleSearchDetail:function(t,a){return e(ig({opUserId:t.userId,beginTime:t.beginDate,endTime:t.endDate,type:t.type},a))},updateQuery:function(t){return e(og(t))},exportData:function(t){return e(gg({opUserName:t.opUserName,accid:t.accid,beginTime:t.beginDate,endTime:t.endDate},"platform"))}}})(ag);var _g=Object(h.b)(function(e){return{loading:e.taskSummary.loading,list:e.taskSummary.riskData.list,detailList:e.taskSummary.riskDataDetail.list,summaryData:e.taskSummary.riskSummary,paging:e.taskSummary.riskData.paging,detailPaging:e.taskSummary.riskDataDetail.paging,query:e.taskSummary.riskQuery,columns:Eg,summaryList:Og,detailColumns:vg,rowKey:"accid"}},function(e){return{fetch:function(t,a){return e(lg(t,a))},fetchSummary:function(t){return e(cg(t))},handleSearchDetail:function(t,a){return e(sg(t,a))},updateQuery:function(t){return e(dg(t))},exportData:function(t){return e(gg(t,"risk"))}}})(ag);var Tg=Object(h.b)(function(e){return{loading:e.taskSummary.loading,list:e.taskSummary.customerData.list,detailList:e.taskSummary.customerDataDetail.list,summaryData:e.taskSummary.customerSummary,paging:e.taskSummary.customerData.paging,detailPaging:e.taskSummary.customerDataDetail.paging,query:e.taskSummary.customerQuery,columns:yg,summaryList:Sg,detailColumns:vg,rowKey:"accid"}},function(e){return{fetch:function(t,a){return e(ug(t,a))},fetchSummary:function(t){return e(pg(t))},handleSearchDetail:function(t,a){return e(mg(t,a))},updateQuery:function(t){return e(hg(t))},exportData:function(t){return e(gg(t,"customer"))}}})(ag);function Ag(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/taskSummary/platformManager",component:Cg}),o.a.createElement(b.a,{exact:!0,path:"/taskSummary/riskManager",component:_g}),o.a.createElement(b.a,{exact:!0,path:"/taskSummary/customerManager",component:Tg}),o.a.createElement(Q.a,{from:"/taskSummary",to:"/taskSummary/platformManager"}))}a(457);var kg,wg,jg,xg,Dg=a(279),Mg=(a(352),a(118)),Ng=[{title:"\u4efb\u52a1\u53f7",dataIndex:"spottestId"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName"},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"brandName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"spotTestTypeName"},{title:"\u5f02\u5e38\u539f\u56e0_\u4e8c\u7f51",dataIndex:"ewNotPassFlagName"},{title:"\u5f02\u5e38\u5907\u6ce8_\u4e8c\u7f51",dataIndex:"ewRemarkExc"},{title:"\u5f02\u5e38\u539f\u56e0_\u5e73\u53f0",dataIndex:"ptNotPassFlagName"},{title:"\u5f02\u5e38\u5907\u6ce8_\u5e73\u53f0",dataIndex:"ptRemarkExc"},{title:"\u5f02\u5e38\u5907\u6ce8_\u6700\u7ec8",dataIndex:"bankExcRemark"},{title:"\u4e8c\u6b21\u786e\u8ba4\u79c1\u552e",dataIndex:"secondSoldFlag",align:"center",render:function(e){return e&&1===e?"\u662f":"\u5426"}},{title:"\u4e0a\u7ebf\u72b6\u6001",dataIndex:"liveStatusName"},{title:"\u8d85\u65f6\u8865\u62cd\u60c5\u51b5",dataIndex:"reshootTypeName"},{title:"\u5f02\u5e38\u65f6\u95f4",dataIndex:"excTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u5f02\u5e38\u5929\u6570",dataIndex:"excDateCount"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u9884\u7ea6\u62cd\u7167\u65f6\u95f4",dataIndex:"modifyBookTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u4efb\u52a1\u7533\u8bf7\u65f6\u95f4",dataIndex:"moveApplyTime",align:"center",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u4e8c\u7f51\u8054\u7cfb\u4eba",dataIndex:"ewOperatorName"},{title:"\u4e8c\u7f51\u8054\u7cfb\u7535\u8bdd",dataIndex:"ewOperatorTel"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"detailAuditStatusName",align:"center",render:function(e,t){var a=Lg(t).tooltip,n=void 0===a?"":a;return o.a.createElement("span",null,e,n&&o.a.createElement(G.a,{title:n},o.a.createElement(k.a,{type:"info-circle",style:{marginLeft:"3px",fontSize:"12px"}})))}},{title:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8",dataIndex:"bankExcReseaonName",align:"center",fixed:"right"}],Lg=function(e){return e&&0===e.endFlag?1===e.secondSoldFlag?{className:"secondSoldFlag",tooltip:5===e.spotTestType||6===e.spotTestType?"\u79c1\u552e\u4efb\u52a1":"\u4e8c\u6b21\u79c1\u552e\u4efb\u52a1"}:1===e.noLive6DaysMark?{className:"noLive6DaysMark",tooltip:"\u8d85\u8fc76\u65e5\u672a\u4e0a\u7ebf\u4efb\u52a1"}:1===e.noLive3DaysMark?{className:"noLive3DaysMark",tooltip:"\u8d85\u8fc73\u65e5\u672a\u4e0a\u7ebf\u4efb\u52a1"}:"":""},Rg=Ng,Pg=function(e){return function(t){return H.e.formSubmit(e,"",t)}},Ug={adcTitle:"\u9000\u56de",adcConfig:["bookTime2","remark"],endSkill:function(e,t){var a={remark:e.remark,parentSpotId:t.spottestId,parentSpotDetailId:t.spotdetailId};return"nextDay"===e.bookTime2&&(a.bookTime=je()().add(1,"d").hour(9).minute(30).second(0).format("YYYY-MM-DD hh:mm:ss")),Pg("ExceptionTraceAction_retreat")(a)}},Yg={adcTitle:"\u4e8c\u6b21\u786e\u8ba4\u79c1\u552e",adcConfig:["payDateTime","remark"],endSkill:function(e,t){var a={payDateTime:cn(e.payDateTime),remark:e.remark};return Pg("ExceptionTraceAction_secondConfirmRepayment")(Object(E.a)({},a,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Fg={adcTitle:"\u786e\u8ba4\u8fd8\u6b3e",adcConfig:[{label:"\u8d28\u62bc\u8f66\u786e\u8ba4\u8fd8\u6b3e\uff0c\u5173\u95ed\u4efb\u52a1"},"payDateTime","remark"],endSkill:function(e,t){var a={payDateTime:cn(e.payDateTime),remark:e.remark};return Pg("ExceptionTraceAction_confirmRepayment")(Object(E.a)({},a,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Hg={adcTitle:"\u8d85\u65f6\u786e\u8ba4\u8fd8\u6b3e",adcConfig:[{label:"\u8d28\u62bc\u8f66\u8d85\u65f6\u8fd8\u6b3e\u786e\u8ba4,\u5173\u95ed\u4efb\u52a1"},"payDateTime","remark"],endSkill:function(e,t){var a={payDateTime:cn(e.payDateTime),remark:e.remark};return Pg("ExceptionTraceAction_timeoutConfirmRepayment")(Object(E.a)({},a,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Kg={adcTitle:"\u5206\u5e97\u4e0a\u7ebf",adcConfig:[{label:"\u8be5\u5206\u5e97\u9700\u8981\u4e0a\u7ebf\uff0c\u901a\u77e5\u6613\u67e5\u5e93\u57f9\u8bad\u4e13\u54583\u65e5\u5185\u5b8c\u6210\u4e0a\u7ebf"},"remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_goLive")(Object(E.a)({},e,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},qg={adcTitle:"\u6682\u4e0d\u4e0a\u7ebf",adcConfig:[{label:"\u8be5\u5206\u5e97\u6682\u4e0d\u4e0a\u7ebf\uff0c\u901a\u77e5\u94f6\u884c\u4e8c\u7f51\u4e13\u5458\uff08\u62bd\u67e5\u5458)\u53d1\u8d77\u65b0\u62bd\u67e5\u786e\u8ba4\u8f66\u8f86\u79fb\u56de\u4e8c\u7f51"},"remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_suspendLive")(Object(E.a)({},e,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Bg={adcTitle:"\u4e0a\u7ebf\u5b8c\u6210",adcConfig:[{label:"\u8be5\u5206\u5e97\u5df2\u7ecf\u4e0a\u7ebf\uff0c\u901a\u77e5\u94f6\u884c\u4e8c\u7f51\u4e13\u5458\uff08\u62bd\u67e5\u5458)\u4e0b\u53d1\u8f66\u8f86\u79fb\u52a8\u4efb\u52a1\u544a\u77e5\u7ecf\u9500\u5546\u786e\u8ba4"},"remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_completeLive")(Object(E.a)({},e,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Vg={adcTitle:"\u53d1\u8d77\u79fb\u52a8",adcConfig:[{label:"\u8f66\u67b6\u53f7",key:"chassis"},{label:"\u8f66\u578b",key:"fldTrimName"},{label:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8",key:"bankExcReseaonName"},"moveInEw","remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_addMoveCarTask")({carId:t.carId,operRemark:e.remark,moveInEw:1===t.bankExcReseaon?t.distributorId:e.moveInEw,parentSpotId:t.spottestId,parentSpotdetailId:t.spotdetailId})}},Qg={adcTitle:"\u53d1\u8d77\u65b0\u62bd\u67e5",adcConfig:[{label:"\u8f66\u67b6\u53f7",key:"chassis"},{label:"\u8f66\u578b",key:"fldTrimName"},"bookTime","appointmentTime","remark"],endSkill:function(e,t){var a={remark:e.remark,parentSpotId:t.spottestId,parentSpotDetailId:t.spotdetailId};return"appointmenttime"===e.bookTime&&(a.bookTime=e.appointmentTime&&e.appointmentTime.format("YYYY-MM-DD HH:mm:ss")),Pg("ExceptionTraceAction_addSubSpottest")(a)}},zg={adcTitle:"\u53d1\u8d77\u8f66\u5c55\u7533\u8bf7",adcConfig:[{label:"\u7ecf\u9500\u5546\u540d\u79f0",key:"distributorName"},{label:"\u94f6\u884c\u540d\u79f0",key:"bankName"},{label:"\u54c1\u724c\u540d\u79f0",key:"brandName"},{label:"\u4e8c\u7f51\u540d\u79f0",key:"ewName"},{label:"\u53c2\u5c55\u8f66\u8f86\u8f66\u67b6\u53f7",key:"chassis"},"exhibitor","rangePicker","showName","showAddress","remark"],endSkill:function(e,t){var a=t.distributorId,n=t.distributorName,r=t.bankId,i=t.bankName,o=t.brandId,l=t.brandName,c=t.ewId,s=t.ewName,d=t.carId,u=Object(y.a)(e.rangePicker,2),p=u[0],m=u[1],h={exhibitor:e.exhibitor,remark:e.remark,showName:e.showName,showAddress:e.showAddress,distributorId:a,distributorName:n,bankId:r,bankName:i,brandId:o,brandName:l,ewId:e.ewId||c,ewName:e.ewName||s,carId:d,startTime:p&&p.format("YYYY-MM-DD"),endTime:m&&m.format("YYYY-MM-DD"),parentSpotId:t.spottestId,parentSpotDetailId:t.spotdetailId};return Pg("ExceptionTraceAction_addCarShow")(h)}},Wg={adcTitle:"\u66f4\u6539\u5f02\u5e38\u7c7b\u578b",adcConfig:["bankExcReseaon","remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_updateExceptionType")(Object(E.a)({},e,{spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Gg={adcTitle:"\u5ef6\u957f\u65f6\u95f4\u5904\u7406",adcConfig:["deferNum","remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_deferExpiryDate")(Object(E.a)({},e,{deferNum:parseInt(e.deferNum),spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Xg={adcTitle:"\u5173\u95ed\u4efb\u52a1",adcConfig:["unshootType","remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_endExceptionTrace")(Object(E.a)({},e,{actionFrom:2,spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},Jg={adcTitle:"\u7ec8\u6b62\u4efb\u52a1",adcConfig:["remark-required"],endSkill:function(e,t){return Pg("ExceptionTraceAction_terminateExceptionTask")(Object(E.a)({},e,{spotdetailId:t.spotdetailId}))}},Zg={adcTitle:"\u786e\u5b9a\u8981\u7ec8\u6b62\u4efb\u52a1\u5417?",adcConfig:["remark"],endSkill:function(e,t){return Pg("SpotTestTaskAction_stopTask")({detail_remark:e.remark,detail_id:t.id})}},$g={adcTitle:"\u5173\u95ed",adcConfig:["unShootType","remark"],endSkill:function(e,t){return Pg("ExceptionTraceAction_endExceptionTrace")(Object(E.a)({},e,{actionFrom:2,spottestId:t.spottestId,spotdetailId:t.spotdetailId}))}},ef=oe.a.Option,tf=oe.a.OptGroup,af=ie.a.Item,nf=he.a.TextArea,rf=ge.a.RangePicker,of=ie.a.create()((jg=wg=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ifShowAppointmentTime:!1,ewList:[],ewListForCarShow:[]},a.componentDidMount=function(){if(!a.props.configList.some(function(e){return"moveInEw"===e})||2!==a.props.record.bankExcReseaon&&5!==a.props.record.bankExcReseaon||a.props.record.carId&&H.e.formSubmit("/MoveCarAppAction_sureMoveEw","",{carId:a.props.record.carId},{current:1,pageSize:100,total:100}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!=n.result)return Promise.reject(n.msg||"\u83b7\u53d6\u4e8c\u7f51\u5217\u8868\u5931\u8d25");a.setState({ewList:n.list})}).catch(function(e){S.a.error(e.message||e,0)}),a.props.configList.some(function(e){return"exhibitor"===e})&&a.props.record.carId){var e=a.props.record.carId;H.e.formSubmit("/ExceptionTraceAction_getEwList","",{carId:e}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!==n.result)return Promise.reject(n.msg||"\u6570\u636e\u5f02\u5e38\uff0c\u83b7\u53d6\u8f66\u5c55\u76f8\u5173\u4e8c\u7f51\u6570\u636e\u5931\u8d25");var r=n.ewList;a.setState({ewListForCarShow:r})}).catch(function(e){S.a.error(e.message||e),a.setState({ewListForCarShow:[]})})}},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){if(!e){if(a.props.configList.some(function(e){return"exhibitor"===e}))try{var n=t.exhibitor;if(n&&3!=n){var r=a.state.ewListForCarShow.find(function(e){return e.ewId===n});t=Object(E.a)({},t,{ewId:r.ewId,ewName:r.ewName,exhibitor:2})}}catch(e){}a.props.onSubmit(t)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.configList,r=e.record,i=[{groupName:"\u4e3b\u5e97",list:[{name:"\u4e3b\u5e97\uff08\u7ecf\u9500\u5546\uff09",value:"3"}]},{groupName:"\u4e8c\u7f51",list:a.state.ewListForCarShow.map(function(e){return{name:e.ewName,value:e.ewId}})}];return n.map(function(e,n){return"object"===typeof e?"function"===typeof e.render?o.a.createElement(af,{label:e.label,key:e.key},t(e.key)(e.render(r))):e.key?o.a.createElement(af,{label:e.label,key:e.key},t(e.key)(o.a.createElement("span",null,r[e.key]))):o.a.createElement("p",{key:"tips"},o.a.createElement(k.a,{type:"info-circle",style:{marginRight:"10px"}}),o.a.createElement("span",{key:"tips"},e.label)):"bookTime2"===e?o.a.createElement(af,{label:"\u4e0b\u53d1\u65f6\u95f4",key:n},t("bookTime2",{initialValue:"now"})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:"now"},"\u7acb\u5373\u4e0b\u53d1"),o.a.createElement(ts.a,{value:"nextDay"},"\u6b21\u65e59:30")))):"bookTime"===e?o.a.createElement(af,{label:"\u4e0b\u53d1\u65f6\u95f4",key:n},t("bookTime",{initialValue:"now"})(o.a.createElement(ts.a.Group,{onChange:function(e){"appointmenttime"===e.target.value?a.setState({ifShowAppointmentTime:!0}):a.setState({ifShowAppointmentTime:!1})}},o.a.createElement(ts.a,{value:"now"},"\u7acb\u5373\u4e0b\u53d1"),o.a.createElement(ts.a,{value:"appointmenttime"},"\u9884\u7ea6\u65f6\u95f4")))):"appointmentTime"===e&&a.state.ifShowAppointmentTime?o.a.createElement(af,{label:"\u9884\u7ea6\u65f6\u95f4",key:n},t("appointmentTime",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9884\u7ea6\u65f6\u95f4"}]})(o.a.createElement(ge.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))):"payDateTime"===e?o.a.createElement(af,{label:"\u8fd8\u6b3e\u65f6\u95f4",key:n},t("payDateTime",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8fd8\u6b3e\u65f6\u95f4"}]})(o.a.createElement(ge.a,{showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))):"repayStatus"===e?o.a.createElement(af,{label:"\u8fd8\u6b3e\u60c5\u51b5",key:n},t("repayType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8fd8\u6b3e\u60c5\u51b5"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:"0"},"\u786e\u8ba4\u8fd8\u6b3e"),o.a.createElement(ts.a,{value:"1"},"\u8d85\u65f6\u786e\u8ba4\u8fd8\u6b3e")))):"exhibitor"===e?o.a.createElement(af,{label:"\u53c2\u5c55\u65b9",key:n},t("exhibitor",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53c2\u5c55\u65b9"}]})(o.a.createElement(oe.a,{showSearch:!0,filterOption:function(e,t){return String(t.props.children).includes(e.toLowerCase())}},i.map(function(e){return o.a.createElement(tf,{label:e.groupName,key:e.groupName},e.list.map(function(e){return o.a.createElement(ef,{value:e.value,key:e.value},e.name)}))})))):"unshootType"===e?o.a.createElement(af,{label:"\u8fdd\u89c4\u8bb0\u5f55",key:n},t("unshootType",{initialValue:10})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:10},"\u4e0d\u8bb0\u5f55\u8fdd\u89c4"),o.a.createElement(ts.a,{value:11},"\u5f02\u5e38\u8d85\u65f6"),o.a.createElement(ts.a,{value:12},"\u4e25\u91cd\u8d85\u65f6")))):"rangePicker"===e?o.a.createElement(af,{label:"\u8f66\u5c55\u8d77\u6b62\u65e5\u671f",key:n},t("rangePicker",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8f66\u5c55\u8d77\u6b62\u65e5\u671f"},{validator:function(e,t,a){t&&t[0]>=je()().endOf("day")&&a("\u8f66\u5c55\u5f00\u59cb\u65f6\u95f4\u4e0d\u80fd\u665a\u4e8e\u4eca\u5929!"),a()}}]})(o.a.createElement(rf,null))):"bankExcReseaon"===e?o.a.createElement(af,{label:"\u66f4\u6539\u5f02\u5e38\u7c7b\u578b",key:n},t("bankExcReseaon",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u66f4\u6539\u5f02\u5e38\u7c7b\u578b"}]})(o.a.createElement(oe.a,null,Ee.filter(function(e){return 5===r.spotTestType||6===r.spotTestType?[3,5,12].includes(e.value):[1,2,3,5,11,12].includes(e.value)}).filter(function(e){return e.value!==r.bankExcReseaon}).map(function(e){return o.a.createElement(ef,{value:e.value,key:e.value},e.name)})))):"moveInEw"===e?1===a.props.record.bankExcReseaon?o.a.createElement(af,{label:"\u79fb\u5165\u4f4d\u7f6e",key:n},t("moveInEw")(o.a.createElement("span",null,r.distributorName))):o.a.createElement(af,{label:"\u79fb\u5165\u4f4d\u7f6e",key:n},t("moveInEw",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u79fb\u5165\u4f4d\u7f6e"}]})(o.a.createElement(oe.a,{disabled:0===a.state.ewList.length,showSearch:!0,filterOption:function(e,t){return t.props.children.toLowerCase().includes(e.toLowerCase())}},a.state.ewList.map(function(e){return o.a.createElement(ef,{value:e.ew_id,key:e.ew_id},e.ew_name)})))):"deferNum"===e?o.a.createElement(af,{label:"\u5ef6\u957f\u5904\u7406\u65f6\u95f4",key:n},t("deferNum",{rules:[{validator:function(e,t,a){t<=r.deferNum&&a("\u5ef6\u957f\u65f6\u95f4\u5fc5\u987b\u5927\u4e8e\u73b0\u5728\u5ef6\u957f\u5904\u7406\u5929\u6570"),a()}}],initialValue:r.deferNum})(o.a.createElement(as.a,{min:r.deferNum,formatter:function(e){return"".concat(Number.parseInt(e))},type:"number"})),o.a.createElement("span",null,"\u5929")):"unShootType"===e?o.a.createElement(af,{label:"\u5173\u95ed\u539f\u56e0",key:n},t("unshootType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5173\u95ed\u539f\u56e0"}]})(o.a.createElement(oe.a,null,Oe.map(function(e){return o.a.createElement(ef,{value:e.value,key:e.value},e.name)})))):"remark"===e?o.a.createElement(af,{label:"\u5907\u6ce8",key:n},t("remark")(o.a.createElement(nf,{row:3}))):"remark-required"===e?o.a.createElement(af,{label:"\u5907\u6ce8",key:n},t("remark",{rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5907\u6ce8"}]})(o.a.createElement(nf,{row:3}))):"showName"===e?o.a.createElement(af,{label:"\u8f66\u5c55\u540d\u79f0",key:n},t("showName",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f66\u5c55\u540d\u79f0"}]})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u5c55\u540d\u79f0"}))):"showAddress"===e?o.a.createElement(af,{label:"\u8f66\u5c55\u5730\u5740",key:n},t("showAddress",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8f66\u5c55\u5730\u5740"}]})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8f66\u5c55\u5730\u5740"}))):null})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),this.renderForm())}}]),t}(i.Component),wg.defaultProps={configList:[]},kg=jg))||kg,lf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.onCancel(),S.a.destroy()},a.submit=function(e){var t=Object(E.a)({},e);a.setState({loading:!0}),a.props.onSubmit(t,a.props.record).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.data||0!==e.data.result)return Promise.reject(e.data&&e.data.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success(e.data.msg||"\u64cd\u4f5c\u6210\u529f"),a.setState({loading:!1}),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.title,r=t.configList,i=t.record;return o.a.createElement(z.a,{title:n,visible:a,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:this.state.loading,destroyOnClose:!0,width:700},o.a.createElement(of,{configList:r,wrappedComponentRef:function(t){return e.form=t},onSubmit:this.submit,record:i}))}}]),t}(i.Component),cf=Object(Y.a)((xg={},Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_LOG_LIST",{next:function(e,t){return Object(E.a)({},e,{logList:t.payload.data.list||[]})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_TODO_LIST ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:Array.isArray(t.payload.data.list)&&t.payload.data.list.map(function(e){return 1==e.hasSubTasks?Object(E.a)({},e,{children:[]}):e})||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_DONE_LIST ",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{list:Array.isArray(t.payload.data.list)&&t.payload.data.list.map(function(e){return 1==e.hasSubTasks?Object(E.a)({},e,{children:[]}):e})||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_TODO_SUB_LIST ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:e.todo.list.map(function(a){return a.spotdetailId===e.parentId?Object(E.a)({},a,{children:t.payload.data.list||[]}):a})})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_DONE_SUB_LIST ",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{list:e.done.list.map(function(a){return a.spotdetailId===e.parentId?Object(E.a)({},a,{children:t.payload.data.list||[]}):a})})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/UPDATE_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/UPDATE_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{query:Object(E.a)({},e.done.query,t.payload)})})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/SPECIFY_PARENT_TASK_ID",{next:function(e,t){return Object(E.a)({},e,{parentId:t.payload||""})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/FETCH_UN_INFO",{next:function(e,t){var a=t.payload.data,n=a.detail,r=a.recordList,i=a.customManagerList,o=a.checkerList,l=a.trainerList,c=a.riskManagerList,s=a.releaseManagerList;return Object(E.a)({},e,{detailData:{detail:n,recordList:r,customManagerList:i,checkerList:o,trainerList:l,riskManagerList:c,releaseManagerList:s}})}}),Object(U.a)(xg,"YICHAKU/SPOTTEST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),xg),{todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},subData:{},parentId:"",done:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},detailData:{},loading:!0,logList:[]}),sf=Object(F.a)("YICHAKU/SPOTTEST/FETCH_TODO_LIST ",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getSpotExceptionTraceList","",e,t)}),df=Object(F.a)("YICHAKU/SPOTTEST/FETCH_DONE_LIST ",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getSpotExceptionTraceList","",e,t)}),uf=function(e){return Object(F.a)("todo"===e?"YICHAKU/SPOTTEST/FETCH_TODO_SUB_LIST ":"YICHAKU/SPOTTEST/FETCH_DONE_SUB_LIST ",function(e){return H.e.formSubmit("/ExceptionTraceAction_getSubSpotExceptionTraceList","",e)})},pf=Object(F.a)("YICHAKU/SPOTTEST/FETCH_UN_INFO",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getExceptionTraceDetail","",e,t)}),mf=Object(F.a)("YICHAKU/SPOTTEST/FETCH_LOG_LIST",function(e){return H.e.formSubmit("ExceptionTraceAction_searchExceptionTraceRecord","",e)}),hf=Object(F.a)("YICHAKU/SPOTTEST/SPECIFY_PARENT_TASK_ID"),gf=Object(F.a)("YICHAKU/SPOTTEST/UPDATE_TODO_QUERY"),ff=Object(F.a)("YICHAKU/SPOTTEST/UPDATE_DONE_QUERY"),bf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalLoading:!1},a.columns=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"operTime",align:"center",width:200},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operName"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"operText",className:"wrap",render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e)}},{title:"\u63cf\u8ff0",width:200,className:"wrap",dataIndex:"description"},{title:"\u5907\u6ce8",className:"wrap",dataIndex:"remark"}],a.handleCancel=function(){a.props.handleCancel()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.record;this.props.fetch({spotdetailId:e.spotdetailId})}},{key:"render",value:function(){return o.a.createElement(z.a,{title:"\u64cd\u4f5c\u65e5\u5fd7",visible:this.props.showModal,onCancel:this.handleCancel,footer:null,width:1e3,destroyOnClose:!0},o.a.createElement(Z.a,{dataSource:this.props.list||[],columns:this.columns,scroll:{y:500},rowKey:"id",pagination:!1}))}}]),t}(i.Component),Ef={fetch:function(e){return mf(e)}},yf=Object(h.b)(function(e){return{list:e.exceptionManagement.logList}},Ef)(bf),vf=a(766),Of=a.n(vf);function Sf(e){var t=e.isMoving,a=[].concat(t?Cf:If);return o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},a.map(function(e,t){return o.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:10},key:t},o.a.createElement("div",{style:{width:30,height:20,backgroundColor:e.color,borderRadius:5,marginRight:5}}),o.a.createElement("span",{style:{fontSize:12}},e.name))}))}var If=[{color:"#f71735",name:"\u4e8c\u6b21\u79c1\u552e\u4efb\u52a1"},{color:"#2791cd",name:"\u8d85\u8fc73\u65e5\u672a\u4e0a\u7ebf\u4efb\u52a1"}],Cf=[{color:"#f71735",name:"\u79c1\u552e\u4efb\u52a1"},{color:"#2791cd",name:"\u8d85\u8fc73\u65e5\u672a\u4e0a\u7ebf\u4efb\u52a1"}],_f=Mg.a.Item,Tf="YYYY-MM-DD",Af=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={record:{},adcType:{},expandedRowKeys:[],modalShowing:!1,showLogModal:!1,modalLoading:!1,isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(a.reformatValue(e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}).then(function(){a.setState({expandedRowKeys:[]})})},a.handleExpand=function(e,t){var n=a.state.expandedRowKeys,r=t.spottestId,i=t.spotdetailId;e?(a.props.specifyParentId(i),!n.includes(t.spotdetailId)&&n.push(t.spotdetailId),a.setState({factory:t,expandedRowKeys:n}),a.props.fetchSubList({parentSpotId:r,parentSpotDetailId:i})):a.setState({expandedRowKeys:Zm()(n,t.spotdetailId)})},a.handleExpandRows=function(e){a.setState({expandedRowKeys:e})},a.handleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0}),a.props.exportData(a.reformatValue(a.props.query.value)).then(function(e){try{var t=on(e);t&&S.a.warning(t,2.5)}catch(a){return Promise.reject(a)}}).catch(function(e){return S.a.error(e||"\u6279\u91cf\u5bfc\u51fa\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5",2.5)}).then(function(){e(),a.setState({isExporting:!1})})},a.reformatValue=function(e){var t=Object(E.a)({},e);try{var a=e.bookTime;if(a){var n=Object(y.a)(a,2),r=n[0],i=n[1];t.startTime=r&&r.format(Tf),t.endTime=i&&i.format(Tf),delete t.bookTime}}catch(o){console.error(o)}return t},a.showModal=function(e,t){return function(n){e&&a.setState({record:e,adcType:t,modalShowing:!0})}},a.logModal=function(e){return function(t){e&&a.setState({showLogModal:!0,record:e})}},a.handleModalOk=function(){a.setState({modalShowing:!1}),a.handleSearch(a.props.query.value)},a.handleCancel=function(){a.setState({modalShowing:!1})},a.handleLogCancel=function(){a.setState({showLogModal:!1})},a.renderColumn=function(){var e=Object(pe.a)(Rg),t=a.props.match,n=Object(J.a)(t.path,{path:"/:menuId/:subMenuId/:tab"}).params,r=(n=void 0===n?{}:n).menuId,i=n.subMenuId,l=n.tab;return"movingException"===r&&(e=e.filter(function(e){return"ewNotPassFlagName"!==e.dataIndex&&"ewRemarkExc"!==e.dataIndex&&"secondSoldFlag"!==e.dataIndex&&"modifyBookTime"!==e.dataIndex})),e.push({title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",align:"center",fixed:"right",width:"todo"===l?170:105,render:function(e,t){var n=t.btnSecondSoldFlag,c=t.btnMoveFlag,s=t.btnReturnFlag,d=t.btnConfirmRepaymentFlag,u=t.btnTimeOutConfirmRepaymentFlag,p=t.btnNewCarShowFlag,m=t.btnNewSpotFlag,h=t.btnBranchStoreFlag,g=t.btnLiveCompletionFlag,f=t.btnNotLiveFlag,b=t.btnHandleEndFlag,E=[];return 1===s&&E.push(o.a.createElement(_f,{key:"\u9000\u56de"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Ug)},o.a.createElement("span",null,"\u9000\u56de")))),1===n&&E.push(o.a.createElement(_f,{key:"\u4e8c\u7f51\u786e\u8ba4\u79c1\u552e1"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Yg)},o.a.createElement("span",null,"\u4e8c\u6b21\u786e\u8ba4\u79c1\u552e")))),1===d&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u786e\u8ba4\u8fd8\u6b3e1"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Fg)},o.a.createElement("span",null,"\u786e\u8ba4\u8fd8\u6b3e")))),1===u&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u8d85\u65f6\u786e\u8ba4\u8fd8\u6b3e"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Hg)},o.a.createElement("span",null,"\u8d85\u65f6\u786e\u8ba4\u8fd8\u6b3e")))),1===h&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u5206\u5e97\u4e0a\u7ebf"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Kg)},o.a.createElement("span",null,"\u5206\u5e97\u4e0a\u7ebf")))),1===f&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u6682\u4e0d\u4e0a\u7ebf"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,qg)},o.a.createElement("span",null,"\u6682\u4e0d\u4e0a\u7ebf")))),1===g&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u4e0a\u7ebf\u5b8c\u6210"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Bg)},o.a.createElement("span",null,"\u4e0a\u7ebf\u5b8c\u6210")))),1===c&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u53d1\u8d77\u79fb\u52a8"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Vg)},o.a.createElement("span",null,"\u53d1\u8d77\u79fb\u52a8")))),1===m&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u53d1\u8d77\u65b0\u62bd\u67e5"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,Qg)},o.a.createElement("span",null,"\u53d1\u8d77\u65b0\u62bd\u67e5")))),1===p&&E.push(o.a.createElement(_f,{type:"vertical",key:"\u53d1\u8d77\u8f66\u5c55\u7533\u8bf7"},o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,zg)},o.a.createElement("span",null,"\u53d1\u8d77\u8f66\u5c55\u7533\u8bf7")))),o.a.createElement("div",null,0===t.parentSpotDetailId&&o.a.createElement(X.a,{to:{pathname:"/".concat(r,"/detail/").concat(t.spotdetailId),search:"".concat("list"===i?"?tab=".concat(l):"")}},o.a.createElement("span",null,"\u67e5\u770b")),"todo"===l&&0===t.parentSpotDetailId&&[o.a.createElement(W.a,{type:"vertical",key:"Divider"}),o.a.createElement(Dg.a,{overlay:o.a.createElement(Mg.a,null,E),trigger:["click"],key:"Dropdown",disabled:0===E.length},o.a.createElement("a",{className:"ant-dropdown-link",href:"#"},"\u64cd\u4f5c ",o.a.createElement(k.a,{type:"down"})))],0!==t.parentSpotDetailId&&1===b&&0===t.endFlag&&[o.a.createElement("a",{href:"javascript:;",onClick:a.showModal(t,$g),key:"close"},"\u5173\u95ed"),o.a.createElement(W.a,{type:"vertical",key:"Divider"})],0===t.parentSpotDetailId&&o.a.createElement(W.a,{type:"vertical",key:"Divider"}),o.a.createElement("a",{href:"javascript:;",onClick:a.logModal(t)},"\u65e5\u5fd7"))}}),e},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=Object(J.a)(a.path,{path:"/:menuId/:subMenuId/:tab"}).params,i="movingException"===(r=void 0===r?{}:r).menuId;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,query:n,path:a.path,onUpdateQuery:this.props.updateQuery,enableExport:!0,onExport:this.handleExport,isExporting:this.state.isExporting,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",{className:Of.a.exceptionListView},o.a.createElement(Z.a,{columns:this.renderColumn(),loading:this.props.loading,dataSource:this.props.list,pagination:Object(E.a)({},this.props.paging,{pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.handlePageChange,onShowSizeChange:this.handlePageChange,showTotal:function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")}}),indentSize:20,scroll:{x:!0},rowClassName:function(e){return Lg(e).className||""},expandedRowKeys:this.state.expandedRowKeys,onExpand:this.handleExpand,onExpandedRowsChange:this.handleExpandRows,rowKey:"spotdetailId"}),o.a.createElement(Sf,{isMoving:i})),this.state.modalShowing&&o.a.createElement(lf,{title:this.state.adcType.adcTitle,visible:this.state.modalShowing,onOk:this.handleModalOk,onCancel:this.handleCancel,configList:this.state.adcType.adcConfig,onSubmit:this.state.adcType.endSkill,record:this.state.record,destroyOnClose:!0}),this.state.showLogModal&&o.a.createElement(yf,{showModal:this.state.showLogModal,handleCancel:this.handleLogCancel,record:this.state.record}))}}]),t}(i.Component);var kf=Object(h.b)(function(e){return{loading:e.exceptionManagement.loading,list:e.exceptionManagement.todo.list,paging:e.exceptionManagement.todo.paging,query:e.exceptionManagement.todo.query,subData:e.exceptionManagement.subData}},function(e){return{fetch:function(t,a){return e(sf(Object(E.a)({},t,{endFlag:0}),a))},specifyParentId:function(t){return e(hf(t))},updateQuery:function(t){return e(gf(t))},fetchSubList:function(t){return e(uf("todo")(t))},exportData:function(e){return H.b.formSubmit("/ExceptionTraceAction_exportSpotExceptionTraceList","",Object(E.a)({},e,{endFlag:0}))}}})(Af);var wf=Object(h.b)(function(e){return{loading:e.exceptionManagement.loading,list:e.exceptionManagement.done.list,paging:e.exceptionManagement.done.paging,query:e.exceptionManagement.done.query,subData:e.exceptionManagement.subData}},function(e){return{fetch:function(t,a){return e(df(Object(E.a)({},t,{endFlag:1}),a))},specifyParentId:function(t){return e(hf(t))},updateQuery:function(t){return e(ff(t))},fetchSubList:function(t){return e(uf("done")(t))},exportData:function(e){return H.b.formSubmit("/ExceptionTraceAction_exportSpotExceptionTraceList","",Object(E.a)({},e,{endFlag:1}))}}})(Af),jf=(a(218),a(94)),xf=jf.a.TabPane,Df=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={adcType:{},modalShowing:!1,recodeModalShowing:!1},a.goBack=function(){var e=a.props.location,t=e.search,n="/spotException";e.pathname.startsWith("/movingException")&&(n="/movingException"),"?tab=done"===t?a.props.history.push("".concat(n,"/list/done")):a.props.history.push("".concat(n,"/list/todo"))},a.handleSearch=function(){var e={spotdetailId:a.props.match.params.spottestId};a.props.fetch(e)},a.modalShow=function(e){return function(t){a.setState({adcType:e,modalShowing:!0})}},a.handleOk=function(){a.setState({modalShowing:!1}),"\u5173\u95ed\u4efb\u52a1"===a.state.adcType.adcTitle||"\u66f4\u6539\u5f02\u5e38\u7c7b\u578b"===a.state.adcType.adcTitle?a.goBack():a.handleSearch()},a.handleRecordModalOk=function(){a.setState({modalShowing:!1,recodeModalShowing:!1},a.handleSearch)},a.handleCancel=function(){a.setState({modalShowing:!1,recodeModalShowing:!1})},a.handleRecordSubmit=function(e){var t=(a.props.detailData.detail||{}).spotdetailId;return t?H.e.formSubmit("/ExceptionTraceAction_addExceptionTraceRecord","",Object(E.a)({spotdetailId:t},e)):Promise.reject("\u6570\u636e\u5f02\u5e38\uff0c\u65e0\u6cd5\u6dfb\u52a0\u5904\u7406\u8bb0\u5f55")},a.renderBasicInfo=function(){var e=a.props.location.pathname.startsWith("/movingException"),t=a.props.detailData.detail,n=void 0===t?{}:t,r=[{label:"\u4efb\u52a1\u53f7",value:n.spottestId},{label:"\u5b50\u4efb\u52a1\u53f7",value:n.subSpotIdStr},{label:"\u7ecf\u9500\u5546\u540d\u79f0",value:n.distributorName},{label:"\u94f6\u884c\u540d\u79f0",value:n.bankName},{label:"\u54c1\u724c\u540d\u79f0",value:n.brandName},{label:"\u4e8c\u7f51\u540d\u79f0",value:n.ewName},{label:"\u8f66\u67b6\u53f7",value:n.chassis},{label:"\u8d85\u65f6\u8865\u62cd\u60c5\u51b5",value:n.reshootTypeName},{label:"\u5f02\u5e38\u65f6\u95f4",value:n.excTime},{label:"\u5f02\u5e38\u5929\u6570",value:n.excDateCount},{label:"\u4e0a\u7ebf\u72b6\u6001",value:n.liveStatusName},{label:"\u9884\u7ea6\u62cd\u7167\u65f6\u95f4",value:n.modifyBookTime},{label:"\u4efb\u52a1\u7c7b\u578b",value:n.spotTestTypeName},{label:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",value:n.bookTime},{label:"\u5ef6\u957f\u5904\u7406\u5929\u6570",value:n.deferNum},{label:"\u4e8c\u7f51\u8054\u7cfb\u4eba",value:n.ewOperatorName},{label:"\u4e8c\u7f51\u8054\u7cfb\u4eba\u7535\u8bdd",value:n.ewOperatorTel}];return e&&r.splice(11,1,{label:"\u4efb\u52a1\u7533\u8bf7\u65f6\u95f4",value:n.moveApplyTime}),r},a.renderReasonInfo=function(){var e=a.props.location.pathname.startsWith("/movingException"),t=a.props.detailData.detail,n=void 0===t?{}:t,r=[{label:"\u5f02\u5e38\u539f\u56e0_\u4e8c\u7f51",value:n.ewNotPassFlagName},{label:"\u5f02\u5e38\u539f\u56e0_\u5e73\u53f0",value:n.ptNotPassFlagName},{label:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8",value:n.bankExcReseaonName},{label:"\u5f02\u5e38\u5907\u6ce8_\u4e8c\u7f51",value:n.ewRemarkExc},{label:"\u5f02\u5e38\u5907\u6ce8_\u5e73\u53f0",value:n.ptRemarkExc},{label:"\u5f02\u5e38\u5907\u6ce8_\u6700\u7ec8",value:n.bankExcRemark}],i=[{label:"\u5f02\u5e38\u539f\u56e0_\u5e73\u53f0",value:n.ptNotPassFlagName},{label:"\u5f02\u5e38\u539f\u56e0_\u6700\u7ec8",value:n.bankExcReseaonName},{label:"\u5f02\u5e38\u5907\u6ce8_\u5e73\u53f0",value:n.ptRemarkExc},{label:"\u5f02\u5e38\u5907\u6ce8_\u6700\u7ec8",value:n.bankExcRemark}];return e?i:r},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.detailData,a=t.recordList,n=void 0===a?[]:a,r=t.customManagerList,i=void 0===r?[]:r,l=t.checkerList,c=void 0===l?[]:l,s=t.trainerList,d=void 0===s?[]:s,u=t.riskManagerList,p=void 0===u?[]:u,m=t.releaseManagerList,h=void 0===m?[]:m,g=t.detail,f=void 0===g?{}:g,b=this.props.loading,E=this.props.location.pathname.startsWith("/movingException");return o.a.createElement(vc.a,{spinning:b},o.a.createElement(Wc,{title:"\u4efb\u52a1\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderBasicInfo()}),o.a.createElement("div",{style:{border:"1px solid #e8e8e8",marginTop:"10px"}},o.a.createElement("div",{style:{height:"48px",backgroundColor:"#fafafa",padding:"0 20px",borderBottom:"1px solid #e8e8e8"}},o.a.createElement("span",{style:{color:"rgba(0,0,0,.85)",height:"48px",lineHeight:"48px"}},"\u5f02\u5e38\u539f\u56e0")),o.a.createElement("div",{style:{padding:"20px 0 0 0"}},o.a.createElement(Jc,{list:this.renderReasonInfo(),layout:"vertical",col:E?2:3})))),o.a.createElement(Wc,null,o.a.createElement(re.a,{icon:"plus",onClick:function(){e.setState({recodeModalShowing:!0})},style:{marginBottom:"10px"}},"\u65b0\u589e\u5904\u7406\u8bb0\u5f55"),o.a.createElement(jf.a,{defaultActiveKey:"1"},o.a.createElement(xf,{tab:"\u64cd\u4f5c\u8bb0\u5f55",key:"1"},o.a.createElement(Z.a,{dataSource:n,columns:Mf,pagination:!1,rowKey:"id",size:"small"})),o.a.createElement(xf,{tab:"\u62bd\u67e5\u5458\u5904\u7406\u8bb0\u5f55",key:"2"},o.a.createElement(Z.a,{dataSource:c,columns:Mf,pagination:!1,rowKey:"id",size:"small"})),o.a.createElement(xf,{tab:"\u57f9\u8bad\u4e13\u5458\u5904\u7406\u8bb0\u5f55",key:"3"},o.a.createElement(Z.a,{dataSource:d,columns:Mf,pagination:!1,rowKey:"id",size:"small"})),o.a.createElement(xf,{tab:"\u4e8c\u7f51\u4e13\u5458\u5904\u7406\u8bb0\u5f55",key:"4"},o.a.createElement(Z.a,{dataSource:p,columns:Mf,pagination:!1,rowKey:"id",size:"small"})),o.a.createElement(xf,{tab:"\u653e\u8f66\u4e13\u5458\u5904\u7406\u8bb0\u5f55",key:"5"},o.a.createElement(Z.a,{dataSource:h,columns:Mf,pagination:!1,rowKey:"id",size:"small"})),o.a.createElement(xf,{tab:"\u5ba2\u6237\u7ecf\u7406\u5904\u7406\u8bb0\u5f55",key:"6"},o.a.createElement(Z.a,{dataSource:i,columns:Mf,pagination:!1,rowKey:"id",size:"small"})))),o.a.createElement(lf,{title:this.state.adcType.adcTitle,visible:this.state.modalShowing,onOk:this.handleOk,onCancel:this.handleCancel,configList:this.state.adcType.adcConfig,onSubmit:this.state.adcType.endSkill,record:this.props.detailData.detail,destroyOnClose:!0}),this.state.recodeModalShowing&&o.a.createElement(ls,{title:"\u65b0\u589e\u5904\u7406\u8bb0\u5f55",onOk:this.handleRecordModalOk,onCancel:this.handleCancel,onSubmit:this.handleRecordSubmit,configList:[{label:"\u5904\u7406\u8bb0\u5f55",key:"remark",type:"textArea",required:!0}]}),o.a.createElement(Ic.a,null,!Is()(f)&&!b&&1!==f.endFlag&&1===f.btnHandleChangeTypeFlag&&o.a.createElement(re.a,{type:"primary",onClick:this.modalShow(Wg)},"\u66f4\u6539\u5f02\u5e38\u7c7b\u578b"),!Is()(f)&&!b&&1!==f.endFlag&&3!==f.bankExcReseaon&&1===f.btnHandleDeferTimeFlag&&o.a.createElement(re.a,{type:"primary",onClick:this.modalShow(Gg)},"\u5ef6\u957f\u5904\u7406\u65f6\u95f4"),!Is()(f)&&!b&&1!==f.endFlag&&1===f.btnHandleEndFlag&&o.a.createElement(re.a,{type:"danger",icon:"close",onClick:this.modalShow(Xg)},"\u5173\u95ed\u4efb\u52a1"),!Is()(f)&&!b&&1!==f.endFlag&&1===f.btnTerminateFlg&&o.a.createElement(re.a,{type:"danger",icon:"stop",onClick:this.modalShow(Jg)},"\u7ec8\u6b62"),o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de")))}}]),t}(i.Component),Mf=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"operTime",align:"center",width:200},{title:"\u64cd\u4f5c\u4eba",width:100,dataIndex:"operName"},{title:"\u64cd\u4f5c\u4eba\u89d2\u8272",width:100,dataIndex:"usergroupname"},{title:"\u64cd\u4f5c\u5185\u5bb9",width:150,dataIndex:"operText"},{title:"\u63cf\u8ff0",dataIndex:"description",render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e)}},{title:"\u5907\u6ce8",width:150,dataIndex:"remark",render:function(e){return o.a.createElement("span",{style:{whiteSpace:"normal"}},e)}}];var Nf,Lf=Object(h.b)(function(e){return{loading:e.exceptionManagement.loading,detailData:e.exceptionManagement.detailData}},function(e){return{fetch:function(t){return e(pf(t))}}})(Df),Rf=Object(Y.a)((Nf={},Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_LOG_LIST",{next:function(e,t){return Object(E.a)({},e,{logList:t.payload.data.list||[]})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_TODO_LIST ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:Array.isArray(t.payload.data.list)&&t.payload.data.list.map(function(e){return 1==e.hasSubTasks?Object(E.a)({},e,{children:[]}):e})||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_DONE_LIST ",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{list:Array.isArray(t.payload.data.list)&&t.payload.data.list.map(function(e){return 1==e.hasSubTasks?Object(E.a)({},e,{children:[]}):e})||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_TODO_SUB_LIST ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:e.todo.list.map(function(a){return a.spotdetailId===e.parentId?Object(E.a)({},a,{children:t.payload.data.list||[]}):a})})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_DONE_SUB_LIST ",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{list:e.done.list.map(function(a){return a.spotdetailId===e.parentId?Object(E.a)({},a,{children:t.payload.data.list||[]}):a})})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/UPDATE_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/UPDATE_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{done:Object(E.a)({},e.done,{query:Object(E.a)({},e.done.query,t.payload)})})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/SPECIFY_PARENT_TASK_ID",{next:function(e,t){return Object(E.a)({},e,{parentId:t.payload||""})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/FETCH_UN_INFO",{next:function(e,t){var a=t.payload.data,n=a.detail,r=a.recordList,i=a.customManagerList,o=a.checkerList,l=a.trainerList,c=a.riskManagerList,s=a.releaseManagerList;return Object(E.a)({},e,{detailData:{detail:n,recordList:r,customManagerList:i,checkerList:o,trainerList:l,riskManagerList:c,releaseManagerList:s}})}}),Object(U.a)(Nf,"YICHAKU/MOVINGTASK/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Nf),{todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},subData:{},parentId:"",done:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},detailData:{},loading:!0,logList:[]}),Pf=Object(F.a)("YICHAKU/MOVINGTASK/FETCH_TODO_LIST ",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getMoveExceptionTraceList","",e,t)}),Uf=Object(F.a)("YICHAKU/MOVINGTASK/FETCH_DONE_LIST ",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getMoveExceptionTraceList","",e,t)}),Yf=function(e){return Object(F.a)("todo"===e?"YICHAKU/MOVINGTASK/FETCH_TODO_SUB_LIST ":"YICHAKU/MOVINGTASK/FETCH_DONE_SUB_LIST ",function(e){return H.e.formSubmit("/ExceptionTraceAction_getSubSpotExceptionTraceList","",e)})},Ff=(Object(F.a)("YICHAKU/MOVINGTASK/FETCH_UN_INFO",function(e,t){return H.e.formSubmit("/ExceptionTraceAction_getExceptionTraceDetail","",e,t)}),Object(F.a)("YICHAKU/MOVINGTASK/FETCH_LOG_LIST",function(e){return H.e.formSubmit("ExceptionTraceAction_searchExceptionTraceRecord","",e)}),Object(F.a)("YICHAKU/MOVINGTASK/SPECIFY_PARENT_TASK_ID")),Hf=Object(F.a)("YICHAKU/MOVINGTASK/UPDATE_TODO_QUERY"),Kf=Object(F.a)("YICHAKU/MOVINGTASK/UPDATE_DONE_QUERY");var qf=Object(h.b)(function(e){return{loading:e.exceptionMovingManagement.loading,list:e.exceptionMovingManagement.todo.list,paging:e.exceptionMovingManagement.todo.paging,query:e.exceptionMovingManagement.todo.query,subData:e.exceptionMovingManagement.subData}},function(e){return{fetch:function(t,a){return e(Pf(Object(E.a)({},t,{endFlag:0}),a))},specifyParentId:function(t){return e(Ff(t))},updateQuery:function(t){return e(Hf(t))},fetchSubList:function(t){return e(Yf("todo")(t))},exportData:function(e){return H.b.formSubmit("/ExceptionTraceAction_exportMoveExceptionTraceList","",Object(E.a)({},e,{endFlag:0}))}}})(Af);var Bf,Vf=Object(h.b)(function(e){return{loading:e.exceptionMovingManagement.loading,list:e.exceptionMovingManagement.done.list,paging:e.exceptionMovingManagement.done.paging,query:e.exceptionMovingManagement.done.query,subData:e.exceptionMovingManagement.subData}},function(e){return{fetch:function(t,a){return e(Uf(Object(E.a)({},t,{endFlag:1}),a))},specifyParentId:function(t){return e(Ff(t))},updateQuery:function(t){return e(Kf(t))},fetchSubList:function(t){return e(Yf("done")(t))},exportData:function(e){return H.b.formSubmit("/ExceptionTraceAction_exportMoveExceptionTraceList","",Object(E.a)({},e,{endFlag:1}))}}})(Af);function Qf(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/todo"),component:qf}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/done"),component:Vf}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/:spottestId"),component:Lf}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list/todo")}))}function zf(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/todo"),component:kf}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/done"),component:wf}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/:spottestId"),component:Lf}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list/todo")}))}var Wf,Gf=ie.a.create()(Bf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSearch=function(){a.props.onSearch(a.props.query)},a.handleSubmit=function(e){e.preventDefault(),a.updateQuery(),a.forceUpdate(a.handleSearch)},a.updateQuery=function(){a.props.form.validateFields(function(e,t){e||a.props.onUpdateQuery(t)})},a.handleFormReset=function(){a.props.form.resetFields(),a.updateQuery()},a.renderOperFormItem=function(){return o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24},key:"toggleForm"},o.a.createElement(re.a,{type:"primary",htmlType:"submit"},"\u67e5\u8be2"),o.a.createElement(re.a,{style:{marginLeft:8},onClick:a.handleFormReset},"\u91cd\u7f6e"))},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.formItemList,r=void 0===n?[]:n;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit,layout:"inline"},o.a.createElement(N.a,{gutter:8},r.map(function(e){return e(t)}),a.renderOperFormItem()))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.query;this.props.form.setFieldsValue(e)}},{key:"render",value:function(){return o.a.createElement("div",{className:de.a.tableListForm},this.renderForm())}}]),t}(i.PureComponent))||Bf,Xf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],selectedRowKeys:a.props.record?["".concat(a.props.record.id)]:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.handleRowSelectChange=function(e,t){var n=Object(y.a)(t,1)[0];a.setState({selectedRowKeys:e}),n&&a.props.onSelectRow(n)},a.selectRow=function(e){a.handleRowSelectChange(["".concat(e.id)],[e])},a.handleSearch=function(e,t,n){H.e.formSubmit("/SpotTestTaskAction_getSpotCarShows","",e,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}).then(function(e){var t=e.data;0==t.result&&(a.setState({list:t.list}),a.props.updateQuery(a.props.query,{current:t.page&&t.page.pageNum,pageSize:t.page&&t.page.pageSize,total:t.page&&t.page.total}))})},a.showTotal=function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query)}},{key:"render",value:function(){var e=this,t=this.props,a=t.query,n=t.updateQuery,r=t.paging,i=this.state.selectedRowKeys;return o.a.createElement("div",null,o.a.createElement(Gf,{formItemList:[Xe,Ze],query:a,onUpdateQuery:function(e){return n(e,r)},onSearch:this.handleSearch}),o.a.createElement(ae,{columns:[In,{title:"\u8f66\u5c55\u540d\u79f0",dataIndex:"showName",align:"center"},{title:"\u8f66\u5c55\u5730\u5740",dataIndex:"showAddress",align:"center"},{title:"\u5f00\u59cb\u65f6\u95f4",dataIndex:"startTime",align:"center"},{title:"\u7ed3\u675f\u65f6\u95f4",dataIndex:"endTime",align:"center"},{title:"\u62bd\u67e5\u9891\u7387",dataIndex:"spottestFeqName",align:"center"},{title:"\u8f66\u8f86\u6570\u91cf",dataIndex:"car_num",align:"center"}],onChange:this.handlePageChange,onPageChange:this.handlePageChange,data:this.state.list,paging:Object(E.a)({},r,{pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.props.onChange,onShowSizeChange:this.props.onPageChange,showTotal:this.showTotal}),size:"small",bordered:!1,scroll:{x:"max-content"},rowSelection:{selectedRowKeys:i,onChange:this.handleRowSelectChange,type:"radio"},onRow:function(t){return{onClick:function(){e.selectRow(t)}}},rowKey:"id"}))}}]),t}(i.PureComponent),Jf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],selectedRowKeys:a.props.record?["".concat(a.props.record.bankId,",").concat(a.props.record.distributorId,",").concat(a.props.record.brandId)]:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.handleRowSelectChange=function(e,t){var n=Object(y.a)(t,1)[0];a.setState({selectedRowKeys:e}),n&&a.props.onSelectRow(n)},a.handleSearch=function(e,t,n){H.e.formSubmit("/SpotTestTaskAction_getSpotDistributors","",e,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}).then(function(e){var t=e.data;0==t.result&&(a.setState({list:t.list}),a.props.updateQuery(a.props.query,{current:t.page&&t.page.pageNum,pageSize:t.page&&t.page.pageSize,total:t.page&&t.page.total}))})},a.showTotal=function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query)}},{key:"render",value:function(){var e=this.props,t=e.query,a=e.updateQuery,n=e.paging,r=this.state.selectedRowKeys;return o.a.createElement("div",null,o.a.createElement(Gf,{formItemList:[rt,Xe,ft],query:t,onUpdateQuery:function(e){return a(e,n)},onSearch:this.handleSearch}),o.a.createElement(ae,{columns:[kn,In,xn],onChange:this.handlePageChange,onPageChange:this.handlePageChange,data:this.state.list,paging:Object(E.a)({},n,{pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.props.onChange,onShowSizeChange:this.props.onPageChange,showTotal:this.showTotal}),size:"small",bordered:!1,scroll:{x:"max-content"},rowSelection:{selectedRowKeys:r,onChange:this.handleRowSelectChange,type:"radio"},rowKey:function(e){return"".concat(e.bankId,",").concat(e.distributorId,",").concat(e.brandId)}}))}}]),t}(i.PureComponent),Zf=a(401),$f=a.n(Zf),eb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,list:[],blackList:[],selectedRowKeys:Array.isArray(a.props.record)?a.props.record.map(function(e){return e.id}):[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.handleRowSelectChange=function(e,t){a.setState({selectedRowKeys:e}),a.props.onSelectRow(e,t)},a.handleSearch=function(e,t,n){var r=a.props,i=r.firstStepRecord,o=i.bankId,l=i.distributorId,c=i.brandId,s=i.id,d=r.isCarShow,u=Object(E.a)({},e,d?{showId:s}:{bankId:o,distributorId:l,fldSerialid:c});a.setState({loading:!0}),H.e.formSubmit(d?"/SpotTestTaskAction_getSpotCarsInCarShow":"/SpotTestTaskAction_getSpotCarsInDistributor","",u,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}).then(function(e){var t=e.data;if(0!=t.result)return Promise.reject(t.msg);if(a.setState({list:t.list||[],loading:Array.isArray(t.list)&&t.list.length>0}),Array.isArray(t.list)&&t.list.length>0){var n=t.list.map(function(e){return e.id}).join();H.e.formSubmit("/SpotTestTaskAction_checkSpot","",{cars:n}).then(function(e){var t=e.data;1==t.result?a.setState({blackList:Object(pe.a)(new Set(t.list)),loading:!1}):a.setState({blackList:[],loading:!1})}).catch(function(e){return Promise.reject(e)})}a.props.updateQuery(a.props.query,{current:t.page&&t.page.pageNum,pageSize:t.page&&t.page.pageSize,total:t.page&&t.page.total})}).catch(function(e){S.a.error(e.message||e),a.setState({list:[],loading:!1})})},a.showTotal=function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query)}},{key:"render",value:function(){var e=this.props,t=e.query,a=e.updateQuery,n=e.paging,r=e.isCarShow,i=this.state,l=i.selectedRowKeys,c=i.blackList,s=void 0===c?[]:c;return o.a.createElement("div",{className:$f.a.carSelectionView},o.a.createElement(Gf,{formItemList:r?[qe]:[Be,qe,nb],query:t,onUpdateQuery:function(e){return a(e,n)},onSearch:this.handleSearch}),o.a.createElement(ae,{columns:[Wr,Qr,{title:"\u6240\u5728\u7f51\u70b9",dataIndex:"locationName",align:"center"},{title:"\u8f66\u8f86\u72b6\u6001",dataIndex:"locationStatus",align:"center"},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"carstatus",align:"center"},{title:"\u62bd\u67e5\u6b21\u6570",dataIndex:"spotnum",align:"center"}],onChange:this.handlePageChange,onPageChange:this.handlePageChange,data:this.state.list,paging:Object(E.a)({},n,{pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.props.onChange,onShowSizeChange:this.props.onPageChange,showTotal:this.showTotal}),size:"small",scroll:{x:"max-content"},bordered:!1,rowSelection:{selectedRowKeys:l,onChange:this.handleRowSelectChange,getCheckboxProps:function(e){return{disabled:s.includes(e.chassis)}}},rowClassName:function(e){return s.includes(e.chassis)?"hasTaskCar":""},rowKey:"id",loading:this.state.loading}),s.length>0&&o.a.createElement("span",{style:{color:"red",position:"absolute",bottom:"20px",left:"50px"}},"*\u6807\u7ea2\u7684\u8f66\u8f86\u8868\u660e\u6709\u62bd\u67e5\u4efb\u52a1\uff0c\u4e0d\u53ef\u4e0b\u53d1\u65b0\u4efb\u52a1"))}}]),t}(i.PureComponent),tb=ie.a.Item,ab=oe.a.Option,nb=function(e){return o.a.createElement(L.a,{md:8,sm:24,key:"carLocationStatus"},o.a.createElement(tb,{label:"\u4f4d\u7f6e\u72b6\u6001"},e("carLocationStatus")(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"},mode:"multiple"},ve.filter(function(e){return[0,1,4,5,7,20].includes(e.value)}).map(function(e){return o.a.createElement(ab,{value:e.value,key:e.value},e.name)})))))},rb=a(402),ib=a.n(rb),ob=ie.a.Item,lb=ts.a.Group,cb=ie.a.create()(Wf=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={orderType:a.props.record.orderType||null,bookTime:a.props.record.bookTime||null},a.onTypeChange=function(e){e&&e.target&&a.setState({orderType:e.target.value},a.updateQuery)},a.onDateChange=function(e){a.setState({bookTime:e},a.updateQuery)},a.updateQuery=function(){var e=a.state,t=e.orderType,n=e.bookTime;a.props.onChange(t,n)},a.disabledTime=function(e){if(e&&e.isSame(je()(),"day"))return{disabledHours:function(){return ib()(0,je()().hour()+1)}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(ie.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{onSubmit:this.handleSubmit,style:{width:"400px"}}),o.a.createElement(ob,{label:"\u4e0b\u53d1\u65b9\u5f0f",key:"orderType"},e("orderType",{initialValue:this.state.orderType,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0b\u53d1\u65b9\u5f0f"}]})(o.a.createElement(lb,{onChange:this.onTypeChange},o.a.createElement(ts.a,{value:1},"\u7acb\u5373\u4e0b\u53d1"),o.a.createElement(ts.a,{value:2},"\u9884\u7ea6\u4e0b\u53d1")))),2===this.state.orderType&&o.a.createElement(ob,{label:"\u4e0b\u53d1\u65e5\u671f",key:"bookTime"},e("bookTime",{initialValue:this.state.bookTime,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0b\u53d1\u65e5\u671f"}]})(o.a.createElement(ge.a,{onChange:this.onDateChange,showTime:{defaultValue:je()("09:30:00","HH:mm:ss")},format:"YYYY-MM-DD HH:mm:ss",showToday:!1,disabledDate:function(e){return e&&e<je()().subtract(1,"d").endOf("day")},disabledTime:this.disabledTime})))))}}]),t}(i.Component))||Wf,sb=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.ifSuccess;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"160px"}},o.a.createElement("div",{style:{marginBottom:"24px",fontSize:"72px",lineHeight:"72px",color:e?"#52c41a":"#f5222d"}},o.a.createElement(k.a,{type:e?"check-circle":"close-circle"})),o.a.createElement("p",{style:{marginBottom:"24px",fontSize:"24px",lineHeight:"22px",color:"rgba(0,0,0,.45)"}},e?"\u4efb\u52a1\u4e0b\u53d1\u6210\u529f":"\u4efb\u52a1\u4e0b\u53d1\u5931\u8d25"),!e&&o.a.createElement("p",{style:{marginBottom:"16px",fontSize:"14px",lineHeight:"32px",color:"rgba(0,0,0,.45)"}},"\u8bf7\u6838\u5bf9\u9009\u62e9\u7684\u8f66\u8f86\u4fe1\u606f\uff0c\u518d\u91cd\u65b0\u4e0b\u53d1\u4efb\u52a1"))}}]),t}(i.Component),db=Sc.a.Step,ub=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={step:0,firstStepRecord:{},firstStepQuery:{},carRecordList:[],orderRecord:{},carQuery:{},ifSuccess:!1,isLoading:!1,firstStepPaging:{current:1,pageSize:10,total:10},carPaging:{current:1,pageSize:10,total:10}},a.handleCancel=function(){a.resetQuery(),a.props.onCancel()},a.renderFooter=function(){var e=a.state,t=e.step,n=e.firstStepRecord,r=e.carRecordList,i=e.orderRecord,l=e.ifSuccess,c=e.isLoading;return o.a.createElement("div",null,0!==t&&(3!==t||!l)&&o.a.createElement(re.a,{key:"back",icon:"left",onClick:function(){return a.setState({step:Math.max(0,a.state.step-1)})}},"\u4e0a\u4e00\u6b65"),o.a.createElement(re.a,{key:"next",icon:t>=2?"check":"right",type:t>=2?"primary":"",loading:2===t&&c,disabled:0===t&&Is()(n)||1===t&&(!Array.isArray(r)||0===r.length)||2===t&&(!i.orderType||2===i.orderType&&!i.bookTime),onClick:function(){t<2?a.setState({step:Math.min(3,a.state.step+1)}):2===t?a.handleSubmit():3===t&&l&&a.props.onOk()}},3===t?"\u5b8c\u6210":2===t?"\u63d0\u4ea4":"\u4e0b\u4e00\u6b65"))},a.handleSubmit=function(){var e=a.props.isCarShow,t=a.state,n=t.firstStepRecord,r=t.carRecordList,i=t.orderRecord;try{var o=JSON.stringify(r.map(function(e){return{ewId:e.locationId,carId:e.id}})),l={bankId:n.bankId,bankName:n.bankName,distributorId:n.distributorId,distributorName:n.distributorName,brandId:n.brandId,brandName:n.brandName,taskId:e?n.id:void 0,bookTime:2===i.orderType?i.bookTime.format("YYYY-MM-DD HH:mm:ss"):null,carList:o};return a.setState({isLoading:!0}),H.e.formSubmit(e?"SpotTestTaskAction_createCarShowSpotTask":"/SpotTestTaskAction_createPlatSpotTask","",l).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!=n.result)return Promise.reject(n.msg);a.setState({step:3,ifSuccess:!0,isLoading:!1})}).catch(function(e){a.setState({step:3,ifSuccess:!1,isLoading:!1}),S.a.error(e.message||e)})}catch(c){S.a.error(c.message)}},a.handleFirstStepSelectRow=function(e){a.setState({firstStepRecord:e,carRecordList:[]})},a.handleCarSelectRow=function(e,t){var n=a.state.carRecordList,r=Object(pe.a)(n).concat(t.filter(function(e){return!n.map(function(e){return e.id}).includes(e.id)})).filter(function(t){return e.includes(t.id)});a.setState({carRecordList:r})},a.handleOrderChange=function(e,t){a.setState({orderRecord:Object(E.a)({},a.state.orderRecord,{orderType:e,bookTime:t})})},a.updateFirstStepQuery=function(e,t){a.setState({firstStepQuery:e,firstStepPaging:t})},a.updateCarQuery=function(e,t){a.setState({carQuery:e,carPaging:t})},a.resetQuery=function(){a.setState({firstStepQuery:{},carQuery:{}})},a.submit=function(e){var t=a.props.record,n=(t=void 0===t?{}:t).id,r=Object(E.a)({},e,{id:n});H.e.formSubmit("/SpotTestTaskAction_auditNotPass","",r).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.data||0!==e.data.result)return Promise.reject(e.data&&e.data.msg||"\u6807\u8bb0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success("\u6807\u8bb0\u6210\u529f"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e)})},a.renderCarDesc=function(){var e=a.state.carRecordList;if(0===e.length)return null;if(1===e.length)return e[0].chassis;var t=o.a.createElement("span",null,"\u8f66\u67b6\u53f7\u5217\u8868\uff1a",o.a.createElement("br",null),e.map(function(e){return o.a.createElement("span",{key:e.id},e.chassis," ",o.a.createElement("br",null))}));return o.a.createElement(G.a,{title:t,placement:"right"},"\u5df2\u9009\u62e9".concat(e.length,"\u8f86\u8f66 "),o.a.createElement(k.a,{type:"info-circle"}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.isCarShow,n=this.state,r=n.step,i=n.firstStepRecord,l=n.carRecordList,c=n.orderRecord,s=n.ifSuccess;return o.a.createElement(z.a,{title:a?"\u4e0b\u53d1\u8f66\u5c55\u624b\u52a8\u62bd\u67e5":"\u4e0b\u53d1\u624b\u52a8\u62bd\u67e5",visible:t,style:{top:20},onCancel:this.handleCancel,footer:this.renderFooter(),width:1100,height:800,destroyOnClose:!0},o.a.createElement("div",{style:{marginBottom:"10px",minHeight:"65px"}},o.a.createElement(Sc.a,{size:"small",current:r},a?o.a.createElement(db,{title:"\u9009\u62e9\u8f66\u5c55",description:Is()(i)?"":"\u8f66\u5c55\u540d\u79f0\uff1a".concat(i.showName)}):o.a.createElement(db,{title:"\u9009\u62e9\u7ecf\u9500\u5546",description:i&&i.distributorName||""}),o.a.createElement(db,{title:"\u9009\u62e9\u8f66\u8f86",description:this.renderCarDesc()}),o.a.createElement(db,{title:"\u9009\u62e9\u9884\u7ea6\u65b9\u5f0f"}),o.a.createElement(db,{title:"\u5b8c\u6210"}))),o.a.createElement("div",{style:{padding:"20px 10px",border:"1px dashed #e9e9e9",borderRadius:"6px",backgroundColor:"#fafafa",minHeight:"200px"}},0===r&&!a&&o.a.createElement(Jf,{query:this.state.firstStepQuery,paging:this.state.firstStepPaging,updateQuery:this.updateFirstStepQuery,onSelectRow:this.handleFirstStepSelectRow,record:i}),0===r&&a&&o.a.createElement(Xf,{query:this.state.firstStepQuery,paging:this.state.firstStepPaging,updateQuery:this.updateFirstStepQuery,onSelectRow:this.handleFirstStepSelectRow,record:i}),1===r&&i&&o.a.createElement(eb,{query:this.state.carQuery,paging:this.state.carPaging,updateQuery:this.updateCarQuery,onSelectRow:this.handleCarSelectRow,record:l,firstStepRecord:i,isCarShow:a}),2===r&&o.a.createElement(cb,{record:c,onChange:this.handleOrderChange}),3===r&&o.a.createElement(sb,{ifSuccess:s})))}}]),t}(i.Component),pb=a(524),mb=a.n(pb),hb=a(767),gb=a.n(hb),fb=a(768),bb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,report:{},list:[]},a.handleSearch=function(){var e=a.props.record.id;return H.e.formSubmit("/SpotTestTaskAction_getAuditReport","",{id:e}).then(function(e){var t=e.data;if(0!==t.result)return Promise.reject(t.reject(t.msg));var n=t.report,r=void 0===n?{}:n,i=t.list,o=void 0===i?[]:i;a.setState({report:r,list:o})}).catch(function(e){S.a.error(e.message||e)})},a.savePdf=function(){a.setState({loading:!0});try{var e=document.getElementById("pdfContainer"),t=new fb({orientation:"p",unit:"pt",format:[e.offsetWidth+40,e.offsetHeight+40]});gb()(document.getElementById("pdfContainer")).then(function(n){document.getElementById("editor").append(n);var r=n.toDataURL("image/jpeg,1.0");t.addImage(r,"JPEG",20,20,e.offsetWidth,e.offsetHeight),t.save("".concat(je.a.now(),".pdf")),a.setState({loading:!1})})}catch(n){a.setState({loading:!1})}},a.renderFooter=function(){return o.a.createElement("div",null,o.a.createElement(re.a,{type:"primary",icon:"download",onClick:a.savePdf,loading:a.state.loading},"\u4e0b\u8f7dPDF"),o.a.createElement(re.a,{onClick:function(){return a.props.onCancel()}},"\u53d6\u6d88"))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props.record,t=this.state,a=t.report,n=t.list;return o.a.createElement(z.a,{title:"\u751f\u6210\u62a5\u544a",visible:!0,onOk:this.props.onCancel,onCancel:this.props.onCancel,width:1200,footer:this.renderFooter()},o.a.createElement("div",{style:{display:"none"},className:mb.a.reportModal,id:"editor"}),!Is()(a)&&o.a.createElement("div",{className:mb.a.reportModal,id:"pdfContainer"},o.a.createElement("div",{className:"box"},o.a.createElement("h1",{className:"title"},"\u62b5/\u8d28\u62bc\u8f66\u8f86\u62bd\u67e5\u5ba1\u6838\u62a5\u544a"),o.a.createElement("h3",{className:"titleH3"},"\u4e00\u3001\u59d4\u6258\u4fe1\u606f"),o.a.createElement("table",{className:"tableBox01"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{className:"odd"},"\u59d4\u6258\u65b9\u540d\u79f0\uff1a"),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.bankName)}))),o.a.createElement("td",{className:"odd"},"\u53d7\u6258\u65b9\u540d\u79f0\uff1a"),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},"\u5317\u4eac\u8f66\u8f66\u7f51\u7edc\u6280\u672f\u6709\u9650\u516c\u53f8"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"odd"},"\u59d4\u6258\u65b9\u5730\u5740\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.bankAddress)}))),o.a.createElement("td",{className:"odd"},"\u53d7\u6258\u65b9\u5730\u5740\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},"\u5317\u4eac\u5e02\u671d\u9633\u533a\u91d1\u8749\u897f\u8def\u75321\u53f7F223"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"odd"},"\u8054\u7cfb\u4eba\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.bankContacts)}))),o.a.createElement("td",{className:"odd"},"\u8054\u7cfb\u4eba\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},"\u725b\u4e66\u4eae"))),o.a.createElement("tr",null,o.a.createElement("td",{className:"odd"},"\u8054\u7cfb\u7535\u8bdd\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.bankTel)}))),o.a.createElement("td",{className:"odd"},"\u8054\u7cfb\u7535\u8bdd\uff1a "),o.a.createElement("td",{className:"even"},o.a.createElement("font",{className:"blue"},"18811451155"))))),o.a.createElement("h3",{className:"titleH3"},"\u4e8c\u3001\u62bd\u67e5\u5bf9\u8c61"),o.a.createElement("table",{className:"tableBox"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",{width:"350"},"\u7ecf\u9500\u5546\u540d\u79f0\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.distributorName)}))),o.a.createElement("td",{width:"350"},"\u54c1\u724c\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.brandName)})))),o.a.createElement("tr",null,o.a.createElement("td",{colSpan:"2"},"\u7ecf\u9500\u5546\u5730\u5740\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.dealerAddress)})))),o.a.createElement("tr",null,o.a.createElement("td",null,"\u8054\u7cfb\u4eba\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.dealerContacts)}))),o.a.createElement("td",null,"\u8054\u7cfb\u7535\u8bdd\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.dealerTel)})))))),o.a.createElement("h3",{className:"titleH3"},"\u4e09\u3001\u62bd\u67e5\u65f6\u95f4"),o.a.createElement("table",{className:"tableBox"},o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("td",null,"\u62bd\u67e5\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u4e3a\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(yb(e.bookTime))})))),o.a.createElement("tr",null,o.a.createElement("td",null,"\u62a5\u544a\u751f\u6210\u65e5\u671f\u4e3a\uff1a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(yb(a.nowTime))})))))),o.a.createElement("h3",{className:"titleH3"},"\u56db\u3001\u62bd\u67e5\u76ee\u7684"),o.a.createElement("p",null,"\u4e3a\u786e\u4fdd\u94f6\u884c\u62b5/\u8d28\u62bc\u8f66\u8f86\u8d44\u4ea7\u5b89\u5168\uff0c\u5bf9\u7ecf\u9500\u5546\u7684\u5728\u5e93\u53ca\u4e8c\u7f51\u62b5/\u8d28\u62bc\u8f66\u8f86\u8fdb\u884c\u62bd\u67e5\u3002"),o.a.createElement("h3",{className:"titleH3"},"\u4e94\u3001\u62bd\u67e5\u65b9\u5f0f\u53ca\u5185\u5bb9"),o.a.createElement("p",null,"\u9488\u5bf9\u7ecf\u9500\u5546\u5728\u5e93\u8f66\u8f86\u8fdb\u884c\u68b3\u7406\uff0c\u4f7f\u7528\u53d7\u6258\u65b9\u63d0\u4f9b\u7684\u300a\u62b5/\u8d28\u62bc\u8f66\u8f86\u62bd\u67e5\u300b\u8f6f\u4ef6\u7cfb\u7edf\uff0c\u5b9e\u73b0\u5728\u7ebf\u62bd\u67e5\u3001\u5ba1\u6838\u5e76\u751f\u6210\u300a\u62b5/\u8d28\u62bc\u8f66\u8f86\u62bd\u67e5\u62a5\u544a\u300b\u3002\u62bd\u67e5\u5185\u5bb9\u5305\u62ec\u8f66\u8f86\u5408\u683c\u8bc1\uff08\u5173\u5355\u5546\u68c0\u5355\uff09\u3001\u8f66\u8f86\u94a5\u5319\u3001\u8f66\u8f86\u7167\u7247\u53ca\u89c6\u9891\u3001\u62bd\u67e5\u65f6\u95f4\u3001\u8f66\u8f86\u6240\u5728\u5730\u4f4d\u7f6e\u5750\u6807\u7b49\u3002\u9488\u5bf9\u72b6\u6001\u5f02\u5e38\u8f66\u8f86\u505a\u51fa\u8bf4\u660e\u3002"),o.a.createElement("h3",{className:"titleH3"},"\u516d\u3001\u62bd\u67e5\u7ed3\u8bba"),o.a.createElement("p",null,"\u672c\u6b21\u62bd\u67e5\u4efb\u52a1\u7f16\u53f7\u4e3a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.id)})),"\uff1b\u62bd\u67e5\u8f66\u8f86\u603b\u6570\u4e3a",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.totalNum)})),"\u8f86\uff1b\u5176\u4e2d\u6b63\u5e38\u72b6\u6001\u8f66\u8f86",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(a.normalNum)})),"\u8f86\uff1b\u5f02\u5e38\u72b6\u6001\u8f66\u8f86",o.a.createElement("font",{className:"blue"},o.a.createElement(Eb,{value:"".concat(e.unnormalNum)})),"\u8f86\u3002"),o.a.createElement("h3",{className:"titleH3"},"\u4e03\u3001\u62b5/\u8d28\u62bc\u8f66\u8f86\u62bd\u67e5\u62a5\u544a\u660e\u7ec6"),o.a.createElement("table",{className:"listTalbe",style:{textAlign:"center",width:"100%",textIndent:0}},o.a.createElement("thead",null,o.a.createElement("tr",{className:"listHead"},o.a.createElement("td",{width:"3%"},"\u5e8f\u53f7"),o.a.createElement("td",{width:"10%"},"\u4e8c\u7f51\u540d\u79f0"),o.a.createElement("td",{width:"10%"},"\u54c1\u724c\u8f66\u7cfb"),o.a.createElement("td",{width:"12%"},"\u8f66\u67b6\u53f7"),o.a.createElement("td",{width:"6%"},"\u53d1\u52a8\u673a\u53f7"),o.a.createElement("td",{width:"6%"},"\u62cd\u7167\u65f6\u95f4"),o.a.createElement("td",{width:"8%"},"\u62cd\u7167\u5730\u70b9"),o.a.createElement("td",{width:"6%"},"\u5e97\u9762\u4e0e\u8f66\u8f86\u76f8\u8ddd(\u7c73)"),o.a.createElement("td",{width:"3%"},"\u62bd\u67e5\u6b21\u6570"),o.a.createElement("td",{width:"6%"},"\u8f66\u8f86\u72b6\u6001"),o.a.createElement("td",{width:"6%"},"\u5ba1\u6838\u72b6\u6001"),o.a.createElement("td",{width:"10%"},"\u5f02\u5e38\u72b6\u6001\u63cf\u8ff0"))),o.a.createElement("tbody",null,n.map(function(e,t){return o.a.createElement("tr",{className:"listTr_a",key:t},o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(t+1)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.ewName)})),o.a.createElement("td",{align:"center"},o.a.createElement("p",{style:{width:"100%",textAlign:"center"}},o.a.createElement(Eb,{value:"".concat(e.carVO.fld_serial)}),"\xa0",o.a.createElement(Eb,{value:"".concat(e.carVO.fld_model)}),"\xa0",o.a.createElement(Eb,{value:"".concat(e.carVO.fld_trim)}))),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.carVO.chassis)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.carVO.engine)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(yb(e.pzsj))})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.pzdd)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.distance)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.carVO.spotnum)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.carStatus)})),o.a.createElement("td",{align:"center"},o.a.createElement(Eb,{value:"".concat(e.aduitState)})),o.a.createElement("td",{align:"center"},o.a.createElement("p",{style:{width:"100%",textAlign:"center"}},o.a.createElement(Eb,{value:"".concat(e.aduitRemark)}))))}))))))}}]),t}(i.PureComponent);function Eb(e){return o.a.createElement("span",null,e.value)}function yb(e){return e&&e.time?je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss"):"-"}function vb(){var e=Sb;return o.a.createElement("div",{style:{display:"flex",alignItems:"center"}},e.map(function(e,t){return o.a.createElement("div",{style:{display:"flex",alignItems:"center",marginRight:10},key:t},o.a.createElement("div",{style:{width:30,height:20,backgroundColor:e.color,borderRadius:5,marginRight:5}}),o.a.createElement("span",{style:{fontSize:12}},e.name))}))}var Ob,Sb=[{color:"#1da02b",name:"\u8868\u73b0\u826f\u597d\u4e8c\u7f51"},{color:"#cfb53b",name:"\u53d1\u52a8\u673a\u8231\u62bd\u67e5"},{color:"#007fff",name:"B\u67f1\u8f66\u67b6\u53f7\u62bd\u67e5"}],Ib=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showManuSpotModal:!1,showCarShowSpotModal:!1,showReportModal:!1,record:{}},a.handleCancle=function(){a.setState({showManuSpotModal:!1,showCarShowSpotModal:!1})},a.handleOk=function(){a.setState({showManuSpotModal:!1,showCarShowSpotModal:!1}),a.handleSearch(a.props.query.value)},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(e,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumn=function(){var e=a.props,t=(e.location,e.match),n=Object(J.a)(t.path,{path:"/:menuId/:subMenuId/:tab"}).params,r=(n=void 0===n?{}:n).menuId,i=n.subMenuId,l=n.tab,c=_l("/spottestAudit/".concat(i,"/").concat(l));return c.push({title:"\u603b\u6570",dataIndex:"totalNum",fixed:"right",align:"center"},{title:"\u672a\u4e0a\u4f20",dataIndex:"unuploadNum",fixed:"right",align:"center"},{title:"\u5df2\u4e0a\u4f20",dataIndex:"uploadNum",fixed:"right",align:"center"},{title:"\u672a\u5ba1\u6838",dataIndex:"unapproveNum",fixed:"right",align:"center"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",fixed:"right",align:"center",render:function(e,t){return o.a.createElement("div",null,o.a.createElement(X.a,{to:{pathname:"/".concat(r,"/detail/carInfo/").concat(t.id),search:"".concat("list"===i?"?tab=".concat(l):"")}},o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))),"todoComplete"===l&&[o.a.createElement(W.a,{type:"vertical",key:"Divider"}),o.a.createElement(G.a,{title:"\u67e5\u770b\u62a5\u544a",key:"\u67e5\u770b\u62a5\u544a"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.setState({showReportModal:!0,record:t})}},o.a.createElement(k.a,{type:"file-pdf",style:{color:"rgba(0, 0, 0, 0.65)"}})))])}}),c},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.paging,i=(this.props.match.path,Object(J.a)(a.path,{path:"/:menuId/:subMenuId/:tab"}).params),l=(i=void 0===i?{}:i).menuId,c=i.subMenuId,s=i.tab;return o.a.createElement(Hl,{className:$f.a.spottestView},o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:"/spottestAudit/".concat(c,"/").concat(s),onUpdateQuery:this.props.updateQuery,query:n})),o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:r,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowClassName:function(e){return 1===e.isCredit?"niceEw":102===e.chassisType?"engine":103===e.chassisType?"spottestBzhu":""}}),("spotTask"===s||"timeOut"===s)&&o.a.createElement(vb,null),this.state.showManuSpotModal&&o.a.createElement(ub,{visible:this.state.showManuSpotModal,onOk:this.handleOk,onCancel:this.handleCancle}),this.state.showCarShowSpotModal&&o.a.createElement(ub,{visible:this.state.showCarShowSpotModal,onOk:this.handleOk,onCancel:this.handleCancle,isCarShow:!0}),this.state.showReportModal&&o.a.createElement(bb,{onCancel:function(){return e.setState({showReportModal:!1})},record:this.state.record}),"spottestAudit"===l&&"spotTask"===s&&o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){return e.setState({showManuSpotModal:!0})}},"\u624b\u52a8\u62bd\u67e5"),o.a.createElement(re.a,{type:"primary",icon:"car",onClick:function(){return e.setState({showCarShowSpotModal:!0})}},"\u8f66\u5c55\u624b\u52a8\u62bd\u67e5")))}}]),t}(i.Component),Cb=Object(Y.a)((Ob={},Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/FETCH_SPOTTEST_LIST ",{next:function(e,t){return Object(E.a)({},e,{spottest:Object(E.a)({},e.spottest,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/FETCH_MOVETASK_LIST ",{next:function(e,t){return Object(E.a)({},e,{movetask:Object(E.a)({},e.movetask,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/FETCH_TIMEOUT_LIST ",{next:function(e,t){return Object(E.a)({},e,{timeout:Object(E.a)({},e.timeout,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/FETCH_TODOCOMPLETE_LIST ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/ACTION_FETCH_DETAIL_CARINFO ",{next:function(e,t){return Object(E.a)({},e,{carInfo:{list:t.payload.data.list,ewInfo:t.payload.data.ew,disInfo:t.payload.data.dis,paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/ACTION_UPDATE_SPOTTEST_QUERY ",{next:function(e,t){return Object(E.a)({},e,{spottest:Object(E.a)({},e.spottest,{query:Object(E.a)({},e.spottest.query,t.payload)})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/ACTION_UPDATE_MOVETASK_QUERY ",{next:function(e,t){return Object(E.a)({},e,{movetask:Object(E.a)({},e.movetask,{query:Object(E.a)({},e.movetask.query,t.payload)})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/ACTION_UPDATE_TIMEOUT_QUERY ",{next:function(e,t){return Object(E.a)({},e,{timeout:Object(E.a)({},e.timeout,{query:Object(E.a)({},e.timeout.query,t.payload)})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/ACTION_UPDATE_TODOCOMPLETE_QUERY ",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(Ob,"YICHAKU/EWSPOTTEST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Ob),{spottest:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},movetask:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},timeout:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1}},carInfo:{list:[],ewInfo:{},disInfo:{},paging:{current:1,pageSize:10,total:10}},loading:!0}),_b=Object(F.a)("YICHAKU/EWSPOTTEST/FETCH_SPOTTEST_LIST ",function(e,t){return H.e.formSubmit("/SpotTestTaskAction_getUnauditedSpotTaskList","",e,t)}),Tb=Object(F.a)("YICHAKU/EWSPOTTEST/FETCH_MOVETASK_LIST ",function(e,t){return H.e.formSubmit("/SpotTestTaskAction_getUnauditedSpotTaskList","",e,t)}),Ab=Object(F.a)("YICHAKU/EWSPOTTEST/FETCH_TIMEOUT_LIST ",function(e,t){return H.e.formSubmit("/SpotTestTaskAction_getUnauditedSpotTaskList","",e,t)}),kb=Object(F.a)("YICHAKU/EWSPOTTEST/FETCH_TODOCOMPLETE_LIST ",function(e,t){return H.e.formSubmit("/SpotTestTaskAction_getAuditedSpotTaskList","",e,t)}),wb=Object(F.a)("YICHAKU/EWSPOTTEST/ACTION_FETCH_DETAIL_CARINFO ",function(e,t){return H.e.formSubmit("/SpotTestTaskAction_getSpotCars","",e,t)}),jb=Object(F.a)("YICHAKU/EWSPOTTEST/ACTION_UPDATE_SPOTTEST_QUERY "),xb=Object(F.a)("YICHAKU/EWSPOTTEST/ACTION_UPDATE_MOVETASK_QUERY "),Db=Object(F.a)("YICHAKU/EWSPOTTEST/ACTION_UPDATE_TIMEOUT_QUERY "),Mb=Object(F.a)("YICHAKU/EWSPOTTEST/ACTION_UPDATE_TODOCOMPLETE_QUERY ");var Nb=Object(h.b)(function(e){return{loading:e.spottest.loading,list:e.spottest.spottest.list,paging:e.spottest.spottest.paging,query:e.spottest.spottest.query}},function(e){return{fetch:function(t,a){return e(_b(Object(E.a)({},t,{taskType:0}),a))},updateQuery:function(t){return e(jb(t))}}})(Ib);var Lb=Object(h.b)(function(e){return{loading:e.spottest.loading,list:e.spottest.movetask.list,paging:e.spottest.movetask.paging,query:e.spottest.movetask.query}},function(e){return{fetch:function(t,a){return e(Tb(Object(E.a)({},t,{taskType:1}),a))},updateQuery:function(t){return e(xb(t))}}})(Ib);var Rb=Object(h.b)(function(e){return{loading:e.spottest.loading,list:e.spottest.timeout.list,paging:e.spottest.timeout.paging,query:e.spottest.timeout.query}},function(e){return{fetch:function(t,a){return e(Ab(Object(E.a)({},t,{taskType:2}),a))},updateQuery:function(t){return e(Db(t))}}})(Ib);var Pb,Ub,Yb=Object(h.b)(function(e){return{loading:e.spottest.loading,list:e.spottest.todo.list,paging:e.spottest.todo.paging,query:e.spottest.todo.query}},function(e){return{fetch:function(t,a){return e(kb(t,a))},updateQuery:function(t){return e(Mb(t))}}})(Ib),Fb=a(242),Hb=a.n(Fb),Kb=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("operation-root-menu");this.props&&this.props.center?e.className.includes("operationCenter")||(e.className=""===e.className?"operationCenter":e.className+" operationCenter"):e.className.includes("operationCenter")&&(e.className=""),e.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById("operation-root-menu").removeChild(this.el)}},{key:"render",value:function(){return c.a.createPortal(this.props.children,this.el)}}]),t}(i.PureComponent),qb=(a(637),a(152)),Bb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={list:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.onSearch&&this.props.onSearch().then(function(t){e.setState({list:t})})}},{key:"render",value:function(){var e=this.props,t=e.title,a=void 0===t?"\u67e5\u770b":t,n=e.width,r=e.onOk,i=e.onCancel,l=e.onSearch,c=e.columns,s=void 0===c?[]:c,d=e.data,u=void 0===d?[]:d,p=e.style,m=e.rowIndex,h=void 0===m?"id":m;return o.a.createElement(z.a,{title:a,width:n,onOk:r,onCancel:i,style:p,visible:!0,destroyOnClose:!0},o.a.createElement(ae,{columns:s,data:l?this.state.list:u,pagination:!1,rowIndex:h,scroll:{x:"max-content"}}))}}]),t}(i.PureComponent),Vb=ie.a.Item,Qb=ie.a.create()(Pb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.answeredTime,n=e.notAnsweredTime;return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),o.a.createElement(Vb,{label:"\u6253\u901a\u6b21\u6570",key:"at"},t("answeredTime",{initialValue:a,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u6253\u901a\u6b21\u6570"}]})(o.a.createElement(as.a,{max:100,min:0,style:{width:"50%"}}))),o.a.createElement(Vb,{label:"\u672a\u6253\u901a\u6b21\u6570",key:"nat"},t("notAnsweredTime",{initialValue:n,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u672a\u6253\u901a\u6b21\u6570"}]})(o.a.createElement(as.a,{max:100,min:0,style:{width:"50%"}}))))}}]),t}(i.Component))||Pb,zb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.onSubmit=function(e){a.setState({loading:!0});var t=a.props,n=t.isEw,r={id:t.spottestId};return r=n?Object(E.a)({},r,{ewGetcalltimes:e.answeredTime,ewNogetcalltimes:e.notAnsweredTime}):Object(E.a)({},r,{distGetcalltimes:e.answeredTime,distNogetcalltimes:e.notAnsweredTime}),H.e.formSubmit(n?"SpotTestTaskAction_modifyEwCallTimes":"SpotTestTaskAction_modifyDisCallTimes","",r).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t=void 0===e?{}:e;if(0!==t.result)return Promise.reject(t.msg);S.a.success("\u66f4\u65b0\u6b21\u6570\u6210\u529f"),a.props.hideModal(!0)}).catch(function(e){a.setState({loading:!1}),S.a.error(e.message||e)})},a.handleOk=function(){a.form&&a.form.handleSubmit()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.answeredTime,n=t.notAnsweredTime;return o.a.createElement(z.a,{title:"\u6b21\u6570\u4fee\u6539",visible:!0,onOk:this.handleOk,onCancel:function(){return e.props.hideModal()},confirmLoading:this.state.loading,destroyOnClose:!0},o.a.createElement(Qb,Object.assign({answeredTime:a,notAnsweredTime:n},{onSubmit:this.onSubmit,wrappedComponentRef:function(t){return e.form=t}})))}}]),t}(i.Component),Wb=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.onSubmit=function(e){var t=a.props,n=t.isEw,r=t.id,i=t.departId,o={},l=je()().format("YYYY-MM-DD HH:mm:ss");return o=n?{spottestId:r,ewId:i,ewGetCall:e.ifAnswer,ewReply:e.feedbackType,ewReplyContent:e.feedbackContent,ewReplyReason:e.reason,remark:e.remark,ewCallTime:l}:{spottestId:r,distributorId:i,distGetCall:e.ifAnswer,distReply:e.feedbackType,distReplyContent:e.feedbackContent,distReplyReason:e.reason,remark:e.remark,distCallTime:l},a.setState({loading:!0}),H.e.formSubmit(n?"SpotTestTaskAction_addEwTraceRecord":"SpotTestTaskAction_addDisTraceRecord","",o).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!==n.result)return Promise.reject(n.msg);S.a.success("\u6dfb\u52a0\u8ddf\u8e2a\u8bb0\u5f55\u6210\u529f\uff01"),a.setState({loading:!1}),a.props.hideModal(!0)}).catch(function(e){a.setState({loading:!1}),S.a.error(e.message||e)})},a.handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.hideModal()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isEw,n=t.visible;return o.a.createElement(z.a,{title:a?"\u65b0\u589e\u4e8c\u7f51\u8ddf\u8e2a\u8bb0\u5f55":"\u65b0\u589e\u7ecf\u9500\u5546\u8ddf\u8e2a\u8bb0\u5f55",visible:n,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:this.state.loading,width:600,destroyOnClose:!0},o.a.createElement(Zb,{isEw:a,onSubmit:this.onSubmit,wrappedComponentRef:function(t){return e.form=t}}))}}]),t}(i.Component),Gb=ie.a.Item,Xb=oe.a.Option,Jb=he.a.TextArea,Zb=ie.a.create()(Ub=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ifAnswer:null,fdType:0,fdContent:0,reason:0,fdContentList:[],reasonList:[]},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.onIfAnswerChange=function(e){a.setState({ifAnswer:e.target.value})},a.onFdTypeChange=function(e){a.setState({fdType:e.target.value},function(){a.calcFdContent()})},a.onFdContentChange=function(e){a.setState({fdContent:e},a.calcReason)},a.onReasonChange=function(e){a.setState({reason:e})},a.calcFdContent=function(){var e=a.state.fdType,t=[];try{t=aE.find(function(t){return t.value===e}).contentList||[]}catch(n){console.error(n.message)}a.setState({fdContentList:t,reasonList:[]},function(){var e=a.props.form.setFieldsValue;t.length>0&&e({feedbackContent:null,reason:null})})},a.calcReason=function(){var e=a.state,t=e.fdContentList,n=e.fdContent,r=[];try{r=t.find(function(e){return e.value===n}).reasonList||[]}catch(i){console.error(i.message)}a.setState({reasonList:r})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.isEw,n=this.state,r=n.ifAnswer,i=n.fdType,l=n.fdContentList,c=n.reasonList,s=n.reason;return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),o.a.createElement(Gb,{label:"\u662f\u5426\u6253\u901a",key:"ifAnswer"},t("ifAnswer",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u662f\u5426\u6253\u901a"}]})(o.a.createElement(ts.a.Group,{onChange:this.onIfAnswerChange},o.a.createElement(ts.a,{value:$b},"\u662f"),o.a.createElement(ts.a,{value:eE},"\u5426")))),r===eE&&o.a.createElement(Gb,{label:"\u53cd\u9988\u5185\u5bb9",key:"feedbackContent"},t("feedbackContent",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53cd\u9988\u5185\u5bb9"}]})(o.a.createElement(ts.a.Group,null,tE.map(function(e){return o.a.createElement(ts.a,{value:e.value,key:e.value},e.label)})))),r===$b&&o.a.createElement(Gb,{label:"\u53cd\u9988\u7c7b\u578b",key:"feedbackType"},t("feedbackType",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53cd\u9988\u7c7b\u578b"}]})(o.a.createElement(ts.a.Group,{onChange:this.onFdTypeChange},aE.slice(0,a?4:5).map(function(e){return o.a.createElement(ts.a,{value:e.value,key:e.value},e.label)})))),r===$b&&l.length>0&&o.a.createElement(Gb,{label:"\u53cd\u9988\u5185\u5bb9",key:"feedbackContent"},t("feedbackContent",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u53cd\u9988\u5185\u5bb9"}]})(o.a.createElement(oe.a,{onChange:this.onFdContentChange},l.map(function(e){return o.a.createElement(Xb,{value:e.value,key:e.value},e.label)})))),r===$b&&c.length>0&&o.a.createElement(Gb,{label:"\u5177\u4f53\u539f\u56e0",key:"reason"},t("reason",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5177\u4f53\u539f\u56e0"}]})(o.a.createElement(oe.a,{onChange:this.onReasonChange},c.map(function(e){return o.a.createElement(Xb,{value:e.value,key:e.value},e.label)})))),o.a.createElement(Gb,{label:"\u5907\u6ce8",key:"remark"},t("remark",{rules:[{required:nE.includes(s)||24===i,message:"\u8bf7\u586b\u5199\u5907\u6ce8"},{max:200,message:"\u5907\u6ce8\u6700\u5927\u53ef\u8f93\u5165200\u4e2a\u5b57\u7b26"}]})(o.a.createElement(Jb,{row:5}))))}}]),t}(i.Component))||Ub,$b=11,eE=10,tE=[{label:"\u5173\u673a",value:1020300},{label:"\u62d2\u63a5",value:1020301},{label:"\u65e0\u4eba\u63a5\u542c",value:1020302}],aE=[{label:"\u80fd\u62cd",value:21,contentList:[{label:"\u9a6c\u4e0a\u62cd",value:1121310},{label:"\u5728\u5fd9\uff0c\u7a0d\u540e\u62cd",value:1121311},{label:"\u4e0d\u5728\u5e97\uff0c\u8054\u7cfb\u540c\u4e8b\u62cd",value:1121312},{label:"\u4e0d\u65b9\u4fbf\uff0c\u5ef6\u65f6\u62cd",value:1121313}]},{label:"\u62cd\u4e0d\u4e86",value:22,contentList:[{label:"\u8f66\u8f86\u5df2\u552e",value:1122320,reasonList:[{label:"\u4e3b\u5e97\u51fa\u552e",value:1122320400},{label:"\u4e8c\u7f51\u51fa\u552e",value:1122320401}]},{label:"\u7cfb\u7edf\u95ee\u9898",value:1122321,reasonList:[{label:"\u7167\u7247\u89c6\u9891\u65e0\u6cd5\u4e0a\u4f20",value:1122321410}]},{label:"\u5929\u6c14\u539f\u56e0",value:1122322,reasonList:[{label:"\u5929\u6c14\u6076\u52a3\uff0c\u65e0\u6cd5\u62cd\u7167",value:1122322420}]},{label:"\u53d6\u6d88\u5408\u4f5c",value:1122323,reasonList:[{label:"\u6709\u8f66\u5728\u5e97",value:1122323430},{label:"\u65e0\u8f66\u5728\u5e97",value:1122323431}]},{label:"\u4eba\u4e0d\u5728\u5e97",value:1122324,reasonList:[{label:"\u65e0\u4eba\u53ef\u4ee3\u62cd",value:1122324440}]},{label:"\u8f66\u4e0d\u5728\u5e97",value:1122325,reasonList:[{label:"\u5728\u5de1\u5c55",value:1122325450},{label:"\u5728\u8f66\u5c55",value:1122325451},{label:"\u79fb\u56de\u4e3b\u5e97\uff08\u9488\u5bf9\u62bd\u67e5\u4efb\u52a1\uff09",value:1122325452},{label:"\u5c1a\u672a\u5230\u5e97\uff08\u9488\u5bf9\u62bd\u67e5\u4efb\u52a1\uff09",value:1122325453},{label:"\u79fb\u52a8\u5230\u5176\u4ed6\u4e8c\u7f51",value:1122325454},{label:"\u79fb\u52a8\u5230\u4e09\u7f51\u6216\u5206\u5e97",value:1122325455},{label:"\u5728\u5e93\u623f",value:1122325456}]}]},{label:"\u62cd\u5b8c\u5f02\u5e38",value:23,contentList:[{label:"\u8f66\u8f86\u5df2\u552e",value:1123330,reasonList:[{label:"\u4e3b\u5e97\u51fa\u552e",value:1123330460},{label:"\u4e8c\u7f51\u51fa\u552e",value:1123330461}]},{label:"\u5b9a\u4f4d\u5f02\u5e38",value:1123331,reasonList:[{label:"\u5728\u8f66\u5c55",value:1123330470},{label:"\u5728\u5de1\u5c55",value:1123330471},{label:"\u79fb\u56de\u4e3b\u5e97",value:1123330472},{label:"\u5728\u5176\u4ed6\u4e8c\u7f51",value:1123330473},{label:"\u5728\u4e09\u7f51\u6216\u5206\u5e97",value:1123330474},{label:"\u5728\u5e93\u623f",value:1123330475},{label:"\u7f51\u7edc\u539f\u56e0",value:1123330476}]}]},{label:"\u4e0d\u914d\u5408",value:24},{label:"\u5e2e\u5fd9\u8054\u7cfb",value:25}],nE=[1122325455,1122325456],rE=a(525),iE=a.n(rE),oE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1},a._onClick=function(){if(a.props.data){var e=window.parent.localStorage.getItem("cc-secret");if(e){var t=S.a.loading("\u547c\u53eb\u4e2d...",0);setTimeout(t,3e3),a.call(a.props.data,iE()(e))}else a.setState({showModal:!0})}},a.call=function(e,t){console.log(e,t),window.parent&&window.parent.extCall&&window.parent.extCall(e,t)},a.onCancel=function(){a.setState({showModal:!1})},a.onSubmit=function(e){var t=e.value;return window.parent.localStorage.setItem("cc-secret",t),a.call(a.props.data,iE()(t)),Promise.resolve({data:{result:0}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(i.Fragment,null,o.a.createElement("span",null,this.props.data),o.a.createElement(re.a,{type:"link",icon:"phone",onClick:this._onClick}),this.state.showModal&&o.a.createElement(ls,{title:"\u8f93\u5165\u60a8\u7684\u8d26\u53f7\u5bc6\u94a5",onOk:this.onCancel,onCancel:this.onCancel,onSubmit:this.onSubmit,configList:[{label:"\u8d26\u53f7\u5bc6\u94a5",type:"input",key:"value",required:!0,rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u60a8\u7684\u8d26\u53f7\u5bc6\u94a5\uff01"}]}]}))}}]),t}(o.a.Component),lE=jf.a.TabPane,cE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showNewRemarkModal:!1,showHisModal:!1,showModifyTimeModal:!1,showNewTraceModal:!1,showOrderTimeModal:!1,ewTraceInfo:{},ewTraceList:[],disTraceInfo:{},disTraceList:[],isEw:!1,hasEw:!Is()(a.props.ewInfo),loading:!1},a.handleHisRemarkSearch=function(){var e=a.props,t=e.ewInfo,n=void 0===t?{}:t,r=e.disInfo,i=void 0===r?{}:r,o=a.state.isEw;return H.e.formSubmit("/SpotTestTaskAction_getRemarkList","",o?{ewId:n.id}:{distributorId:i.id}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 0===a.result?a.list:Promise.reject(a.msg)}).catch(function(e){S.a.error(e.message||e)})},a.handleSubmitRemark=function(e){var t=a.props,n=t.ewInfo,r=void 0===n?{}:n,i=t.disInfo,o=void 0===i?{}:i,l=a.state.isEw;return H.e.formSubmit(l?"/SpotTestTaskAction_addEwRemark":"/SpotTestTaskAction_addDisRemark","",l?Object(E.a)({ewId:r.id,ewName:r.ewName},e):Object(E.a)({distributorId:o.id,distributorName:o.distributorName},e))},a.handleEwTrackInfo=function(){var e=a.props.spottestId;return H.e.formSubmit("/SpotTestTaskAction_getEwTraceInfo","",{id:e}).then(function(e){var t=e.data;if(0!==t.result)return Promise.reject(t.reject(t.msg));a.setState({ewTraceInfo:t.ewTraceInfo,ewTraceList:t.ewTraceList})}).catch(function(e){S.a.error(e.message||e)})},a.handleDisTrackInfo=function(){var e=a.props.spottestId;return H.e.formSubmit("/SpotTestTaskAction_getDisTraceInfo","",{id:e}).then(function(e){var t=e.data;if(0!==t.result)return Promise.reject(t.reject(t.msg));a.setState({disTraceInfo:t.disTraceInfo,disTraceList:t.disTraceList})}).catch(function(e){S.a.error(e.message||e)})},a.handleOrderSubmit=function(e){var t=e.bookTime,n=e.bookReason,r=a.props.spottestId;return H.e.formSubmit("/SpotTestTaskAction_modifyBookTime","",{bookTime:cn(t),bookReason:n,spottestId:r})},a.handleNewRemarkOk=function(){a.setState({showNewRemarkModal:!1,showHisModal:!1},a.props.reloadData)},a.handleHideModifyTimeModal=function(e){a.setState({showModifyTimeModal:!1},function(){e&&a.state.isEw?(a.props.reloadData(),a.handleEwTrackInfo()):e&&!a.state.isEw&&a.handleDisTrackInfo()})},a.handleNewTraceOk=function(e){a.setState({showNewTraceModal:!1},function(){e&&!a.state.isEw?a.handleDisTrackInfo():e&&a.state.isEw&&a.handleEwTrackInfo()})},a.handleHideOrderTimeModal=function(e){a.setState({showOrderTimeModal:!1}),e&&a.props.reloadData()},a.onTabChange=function(e){a.setState({isEw:"ew"===e}),"ew"===e&&Is()(a.state.ewTraceInfo)&&a.handleEwTrackInfo()},a.remarkOperator=function(){return[o.a.createElement(G.a,{title:"\u65b0\u589e\u5907\u6ce8",key:1},o.a.createElement("a",{href:"javascript:;",key:"\u65b0\u589e\u5907\u6ce8",style:{color:"rgba(0, 0, 0, 0.65)",fontSize:"12px"},onClick:function(){return a.setState({showNewRemarkModal:!0})}},o.a.createElement(k.a,{type:"plus"})," \u65b0\u589e\u5907\u6ce8")),o.a.createElement(W.a,{type:"vertical",key:2}),o.a.createElement(G.a,{title:"\u5386\u53f2\u5907\u6ce8",key:3},o.a.createElement("a",{href:"javascript:;",key:"\u5386\u53f2\u5907\u6ce8",style:{color:"rgba(0, 0, 0, 0.65)",fontSize:"12px"},onClick:function(){return a.setState({showHisModal:!0})}},o.a.createElement(k.a,{type:"clock-circle"})," \u5386\u53f2\u5907\u6ce8"))]},a.renderEwInfo=function(){var e=a.props,t=e.ewInfo,n=e.readOnly;return t?[{label:"\u4e8c\u7f51\u540d\u79f0",value:t.ewName},{label:"\u4e8c\u7f51\u8054\u7cfb\u4eba",value:t.ewOperatorName},{label:"\u8054\u7cfb\u7535\u8bdd",value:t.ewOperatorTel,isPhone:!0},{label:n?"\u4e8c\u7f51\u5907\u6ce8":o.a.createElement("div",null,o.a.createElement("span",{style:{marginRight:"100px"}},"\u4e8c\u7f51\u5907\u6ce8"),a.remarkOperator()),value:t.remark}]:[]},a.renderDisInfo=function(){var e=a.props,t=e.disInfo,n=e.readOnly;return t?[{label:"\u7ecf\u9500\u5546\u540d\u79f0",value:t.distributorName},{label:"\u7ecf\u9500\u5546\u8054\u7cfb\u4eba",value:t.operatorName},{label:"\u8054\u7cfb\u7535\u8bdd",value:t.operatorPhone,isPhone:!0},{label:n?"\u7ecf\u9500\u5546\u5907\u6ce8":o.a.createElement("div",null,o.a.createElement("span",{style:{marginRight:"100px"}},"\u7ecf\u9500\u5546\u5907\u6ce8"),a.remarkOperator()),value:t.remark}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleDisTrackInfo(),this.state.hasEw&&this.onTabChange("ew")}},{key:"render",value:function(){var e=this,t=this.props,a=t.ewInfo,n=void 0===a?{}:a,r=t.disInfo,i=void 0===r?{}:r,l=t.readOnly,c=t.spottestId,s=this.state,d=s.isEw,u=s.disTraceList,p=s.disTraceInfo,m=void 0===p?{}:p,h=s.ewTraceList,g=s.ewTraceInfo,f=d?void 0===g?{}:g:m,b=uE(f,d),E=b.answeredTime,y=b.notAnsweredTime;return o.a.createElement(Wc,{style:{position:"relative"}},o.a.createElement("div",{style:{position:"absolute",top:"35px",right:"50px",zIndex:10}},o.a.createElement("span",null,"\u6253\u901a\u6b21\u6570\uff1a",E),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("span",null,"\u672a\u6253\u901a\u6b21\u6570\uff1a",y),o.a.createElement(W.a,{type:"vertical"}),!l&&9!==f.status&&o.a.createElement(G.a,{title:"\u6b21\u6570\u4fee\u6539"},o.a.createElement("a",{href:"javascript:;",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){e.setState({showModifyTimeModal:!0})}},o.a.createElement(k.a,{type:"edit"})," \u6b21\u6570\u4fee\u6539")),!l&&9!==f.status&&o.a.createElement(W.a,{type:"vertical"}),!l&&9!==f.status&&o.a.createElement(G.a,{title:"\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55"},o.a.createElement("a",{href:"javascript:;",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){e.setState({showNewTraceModal:!0})}},o.a.createElement(k.a,{type:"plus"})," \u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55")),!l&&9!==f.status&&d&&o.a.createElement(W.a,{type:"vertical"}),!l&&9!==f.status&&d&&o.a.createElement(G.a,{title:"\u9884\u7ea6\u62bd\u67e5\u65f6\u95f4"},o.a.createElement("a",{href:"javascript:;",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){e.setState({showOrderTimeModal:!0})}},o.a.createElement(k.a,{type:"clock-circle"})," \u9884\u7ea6\u62bd\u67e5\u65f6\u95f4"))),o.a.createElement(jf.a,{onChange:this.onTabChange},!Is()(n)&&o.a.createElement(lE,{tab:"\u4e8c\u7f51",key:"ew"},o.a.createElement(Wc,null,o.a.createElement(qb.a,{title:"\u4e8c\u7f51\u4fe1\u606f",layout:"vertical",bordered:!0},this.renderEwInfo().map(function(e,t){return o.a.createElement(qb.a.Item,{label:e.label,key:t},e.isPhone?o.a.createElement(oE,{data:e.value}):e.value)})),o.a.createElement(qb.a,{title:"\u4e8c\u7f51\u8ddf\u8e2a\u8bb0\u5f55",layout:"vertical",style:{marginTop:"30px"}}),o.a.createElement(Z.a,{columns:pE,dataSource:h,pagination:!1,rowKey:"id",bordered:!0}))),o.a.createElement(lE,{tab:"\u7ecf\u9500\u5546",key:"dis"},o.a.createElement(Wc,null,o.a.createElement(qb.a,{title:"\u7ecf\u9500\u5546\u4fe1\u606f",layout:"vertical",bordered:!0},this.renderDisInfo().map(function(e,t){return o.a.createElement(qb.a.Item,{label:e.label,key:t},e.isPhone?o.a.createElement(oE,{data:e.value}):e.value)})),o.a.createElement(qb.a,{title:"\u7ecf\u9500\u5546\u8ddf\u8e2a\u8bb0\u5f55",layout:"vertical",style:{marginTop:"30px"}}),o.a.createElement(Z.a,{columns:mE,dataSource:u,pagination:!1,rowKey:"id",bordered:!0})))),this.state.showHisModal&&o.a.createElement(Bb,{title:"\u5386\u53f2\u5907\u6ce8",onCancel:function(){return e.setState({showHisModal:!1})},onOk:function(){return e.setState({showHisModal:!1})},onSearch:this.handleHisRemarkSearch,columns:d?sE:dE,width:800}),this.state.showNewRemarkModal&&o.a.createElement(ls,{title:"\u65b0\u589e\u5907\u6ce8",onCancel:function(){return e.setState({showNewRemarkModal:!1})},onOk:this.handleNewRemarkOk,onSearch:this.onSearch,onSubmit:this.handleSubmitRemark,configList:[{type:"label",label:d?"\u4e8c\u7f51\u540d\u79f0":"\u7ecf\u9500\u5546\u540d\u79f0",key:d?"ewName":"distributorName"},{type:"textArea",label:"\u5907\u6ce8",key:"remark",required:!0}],width:600,record:d?n:i}),this.state.showNewTraceModal&&o.a.createElement(Wb,{visible:!0,hideModal:this.handleNewTraceOk,isEw:d,id:c,departId:d?f.ewId:f.distributorId}),this.state.showModifyTimeModal&&o.a.createElement(zb,Object.assign({answeredTime:E,notAnsweredTime:y},{hideModal:this.handleHideModifyTimeModal,isEw:d,spottestId:c})),this.state.showOrderTimeModal&&o.a.createElement(ls,{title:"\u9884\u7ea6\u62bd\u67e5\u65f6\u95f4",onOk:function(){return e.handleHideOrderTimeModal(!0)},onCancel:function(){return e.handleHideOrderTimeModal()},onSubmit:this.handleOrderSubmit,configList:[{label:"\u9884\u7ea6\u65f6\u95f4",key:"bookTime",type:"datePicker",required:!0,showTime:!0,initialValue:je()().add(1,"h").minute(0).second(0),rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9884\u7ea6\u65f6\u95f4"},{validator:function(e,t,a){t&&t<je()()&&a("\u4e0d\u80fd\u9884\u7ea6\u8fc7\u53bb\u7684\u65f6\u95f4!"),a()}}],disabledDate:function(e){return e&&e<je()().subtract(1,"day").endOf("day")}},{label:"\u9884\u7ea6\u539f\u56e0",key:"bookReason",type:"textArea",required:!0}]}))}}]),t}(i.Component),sE=[{title:"\u65f6\u95f4",dataIndex:"opTime",width:120,render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",width:120,dataIndex:"opUserName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],dE=[{title:"\u65f6\u95f4",dataIndex:"opTime",width:120,render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",width:120,dataIndex:"opUserName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],uE=function(e,t){return{answeredTime:t?e.ewGetcalltimes:e.distGetcalltimes,notAnsweredTime:t?e.ewNogetcalltimes:e.distNogetcalltimes}},pE=[{title:"\u662f\u5426\u6253\u901a",dataIndex:"ewGetCallName"},{title:"\u53cd\u9988\u7c7b\u578b",dataIndex:"ewReplyName"},{title:"\u53cd\u9988\u5185\u5bb9",dataIndex:"ewReplyContentName"},{title:"\u5177\u4f53\u539f\u56e0",dataIndex:"ewReplyReasonName"},{title:"\u62e8\u6253\u65f6\u95f4",dataIndex:"ewCallTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5907\u6ce8",dataIndex:"remark",render:function(e){return o.a.createElement("span",{style:hE,title:e},e)}}],mE=[{title:"\u662f\u5426\u6253\u901a",dataIndex:"distGetCallName"},{title:"\u53cd\u9988\u7c7b\u578b",dataIndex:"distReplyName"},{title:"\u53cd\u9988\u5185\u5bb9",dataIndex:"distReplyContentName"},{title:"\u5177\u4f53\u539f\u56e0",dataIndex:"distReplyReasonName"},{title:"\u62e8\u6253\u65f6\u95f4",dataIndex:"distCallTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5907\u6ce8",dataIndex:"remark",width:500,render:function(e){return o.a.createElement("span",{style:hE,title:e},e)}}],hE={display:"inline-block",maxWidth:500,textOverflow:"ellipsis",overflow:"hidden"},gE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modalShowing:!1,departInfoLoading:!0,record:{}},a.handleSearch=function(e,t){var n=a.props.match.params.id;n&&a.props.fetch({spottestId:n},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize}).then(function(){a.setState({departInfoLoading:!1})}).catch(function(){a.setState({departInfoLoading:!1})})},a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleCancel=function(){a.setState({modalShowing:!1})},a.handleModalOk=function(){a.setState({modalShowing:!1}),a.handleSearch()},a.handleStopTask=function(e){return function(t){a.setState({modalShowing:!0,record:e})}},a.renderColumn=function(){var e=a.props.list,t=(void 0===e?[]:e).some(function(e){return 5===e.spottestType||6===e.spottestType}),n=[].concat(Object(pe.a)(t?EE:bE),[yE]),r=a.props.match.params,i=(r.id,r.menu);return n.push({title:"\u64cd\u4f5c",dataIndex:"operation",align:"center",fixed:"right",render:function(e,t){return o.a.createElement("div",null,o.a.createElement(X.a,{to:{pathname:"/".concat(i,"/audit/").concat(t.spottestId,"/").concat(t.carId),search:"".concat(a.props.location.search||"")}},o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement(k.a,{type:"search"})," \u67e5\u770b")),[2,3,5].includes(t.auditStatus)&&"spottestAudit"===i&&1!==t.isWaitRetakePhoto&&[o.a.createElement(W.a,{type:"vertical",key:"Divider"}),o.a.createElement(G.a,{title:"\u7ec8\u6b62",key:"\u7ec8\u6b62"},o.a.createElement("a",{href:"javascript:;",key:"\u7ec8\u6b62",style:{color:"red"},onClick:a.handleStopTask(t)},o.a.createElement("span",null,o.a.createElement(k.a,{type:"poweroff"})," \u7ec8\u6b62")))])}}),n},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props.match.params,t=e.id,a=e.menu,n=this.props,r=n.list,i=void 0===r?[]:r,l=n.ewInfo,c=void 0===l?{}:l,s=n.disInfo,d=void 0===s?{}:s,u=n.paging;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u8f66\u8f86\u4fe1\u606f"},o.a.createElement(ae,{columns:this.renderColumn(),data:i,paging:u,loading:this.props.loading,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"carId"})),!this.state.departInfoLoading&&o.a.createElement(cE,{ewInfo:c,disInfo:d,reloadData:this.handleSearch,spottestId:t,readOnly:"spottestAuditLedger"===a}),this.state.modalShowing&&o.a.createElement(lf,{title:Zg.adcTitle,visible:this.state.modalShowing,onOk:this.handleModalOk,onCancel:this.handleCancel,configList:Zg.adcConfig,onSubmit:Zg.endSkill,record:this.state.record,destroyOnClose:!0}),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component),fE=Object(h.b)(function(e){return{list:e.spottest.carInfo.list,loading:e.spottest.loading,ewInfo:e.spottest.carInfo.ewInfo,disInfo:e.spottest.carInfo.disInfo,paging:e.spottest.carInfo.paging}},function(e,t){return{fetch:function(t,a){return e(wb(t,a))},calcIfEw:t.calcIfEw}})(gE),bE=[{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u54c1\u724c\u8f66\u7cfb",dataIndex:"fldTrim"},{title:"\u5f02\u5e38\u539f\u56e0-\u4e8c\u7f51",dataIndex:"ewExcReasonName"},{title:"\u5f02\u5e38\u5907\u6ce8-\u4e8c\u7f51",dataIndex:"ewExcRemark"},{title:"\u62bd\u67e5\u786e\u8ba4\u7c7b\u578b",dataIndex:"spotConfrimType"},{title:"\u786e\u8ba4\u53ef\u62cd\u7167\u65f6\u95f4",dataIndex:"confirmTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u81ea\u52a8\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u9884\u7ea6\u62cd\u7167\u65f6\u95f4",dataIndex:"modifyTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"carStatusName"},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"uploadTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}}],EE=[{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u54c1\u724c\u8f66\u7cfb",dataIndex:"fldTrim"},{title:"\u62bd\u67e5\u786e\u8ba4\u7c7b\u578b",dataIndex:"spotConfrimType"},{title:"\u8f66\u8f86\u79fb\u52a8\u7533\u8bf7\u65f6\u95f4",dataIndex:"moveApplyTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"carStatusName"},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"uploadTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")||"-"}}],yE={title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"auditStatusName",align:"center",fixed:"right",render:function(e,t){return 1!==t.isWaitRetakePhoto?o.a.createElement("span",null,e):o.a.createElement("span",{style:{color:"red"}},e,o.a.createElement(G.a,{title:"\u8d85\u65f6\u5f85\u8865\u62cd\u4efb\u52a1"},o.a.createElement("span",{style:{fontSize:"8px",color:"red",verticalAlign:"text-top",lineHeight:"10px",height:"10px",outline:"none",padding:"2px"}},"\u8d85")))}},vE=(a(1329),a(531)),OE=(a(178),a(91)),SE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showNewRemarkModal:!1,showHisModal:!1},a.onSearch=function(){var e=a.props,t=e.isEw,n=e.data,r=n.distributorId,i=n.ewId;return H.e.formSubmit("/SpotTestTaskAction_getRemarkList","",t?{ewId:i}:{distributorId:r}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 0===a.result?a.list:Promise.reject(a.msg)}).catch(function(e){S.a.error(e.message||e)})},a.handleSubmitRemark=function(e){var t=a.props,n=t.isEw,r=t.data,i=r.distributorId,o=r.ewId,l=r.ewName,c=r.distributorName;return H.e.formSubmit(n?"/SpotTestTaskAction_addEwRemark":"/SpotTestTaskAction_addDisRemark","",n?Object(E.a)({ewId:o,ewName:l},e):Object(E.a)({distributorId:i,distributorName:c},e))},a.handleCancel=function(){a.setState({showNewRemarkModal:!1,showHisModal:!1})},a.handleNewRemarkOk=function(){a.setState({showNewRemarkModal:!1,showHisModal:!1},a.props.reloadData())},a.renderInfoList=function(){var e=a.props,t=e.isEw,n=e.data;return n?[{label:t?"\u4e8c\u7f51\u540d\u79f0":"\u7ecf\u9500\u5546\u540d\u79f0",value:t?n.ewName:n.distributorName},{label:t?"\u4e8c\u7f51\u8054\u7cfb\u4eba":"\u7ecf\u9500\u5546\u8054\u7cfb\u4eba",value:t?n.ewContactor:n.distContactor},{label:"\u8054\u7cfb\u7535\u8bdd",value:t?n.ewMobile:n.distMobile},{label:t?"\u4e8c\u7f51\u5907\u6ce8":"\u7ecf\u9500\u5546\u5907\u6ce8",value:t?n.ewRemark:n.distRemark}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isEw,n=t.data,r=t.readOnly;return o.a.createElement(Wc,{title:a?"\u4e8c\u7f51\u4fe1\u606f":"\u7ecf\u9500\u5546\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderInfoList(),layout:"vertical"}),!r&&o.a.createElement("div",{style:{position:"absolute",display:"inline-block",top:"22px",right:"50px"}},o.a.createElement(G.a,{title:"\u65b0\u589e\u5907\u6ce8"},o.a.createElement("a",{href:"javascript:;",key:"\u65b0\u589e\u5907\u6ce8",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showNewRemarkModal:!0})}},o.a.createElement(k.a,{type:"plus"})," \u65b0\u589e\u5907\u6ce8")),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u65b0\u589e\u5907\u6ce8"},o.a.createElement("a",{href:"javascript:;",key:"\u5386\u53f2\u5907\u6ce8",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showHisModal:!0})}},o.a.createElement(k.a,{type:"clock-circle"})," \u5386\u53f2\u5907\u6ce8"))),this.state.showHisModal&&o.a.createElement(Bb,{title:"\u5386\u53f2\u5907\u6ce8",onCancel:this.handleCancel,onOk:this.handleNewRemarkOk,onSearch:this.onSearch,columns:a?IE:CE,width:600}),this.state.showNewRemarkModal&&o.a.createElement(ls,{title:"\u65b0\u589e\u5907\u6ce8",onCancel:this.handleCancel,onOk:this.handleNewRemarkOk,onSearch:this.onSearch,onSubmit:this.handleSubmitRemark,configList:[{type:"label",label:a?"\u4e8c\u7f51\u540d\u79f0":"\u7ecf\u9500\u5546\u540d\u79f0",key:a?"ewName":"distributorName"},{type:"textArea",label:"\u5907\u6ce8",key:"remark",required:!0}],width:600,record:n}))}}]),t}(i.Component),IE=[{title:"\u65f6\u95f4",dataIndex:"opTime",width:120,render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",width:120,dataIndex:"opUserName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],CE=[{title:"\u65f6\u95f4",dataIndex:"opTime",width:120,render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",width:120,dataIndex:"opUserName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],_E=o.a.createContext({}),TE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={traceInfo:{},traceList:[],loading:!0,showTrModal:!1,showOrderModal:!1},a.handleSearch=function(){a.props.fetch().then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.traceInfo,n=void 0===t?{}:t,r=e.traceList,i=void 0===r?[]:r;a.setState({traceInfo:n,traceList:i,loading:!1})})},a.handleOrderSubmit=function(e){var t=e.bookTime,n=e.bookReason,r=a.props.id;return H.e.formSubmit("/SpotTestTaskAction_modifyBookTime","",{bookTime:cn(t),bookReason:n,spottestId:r})},a.handleHideModal=function(e){a.setState({showTrModal:!1,showOrderModal:!1}),e&&a.handleSearch()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.isEw,n=t.id,r=t.readOnly,i=this.state,l=i.traceInfo,c=i.traceList,s=i.showTrModal,d=i.showOrderModal,u=i.loading;return o.a.createElement(_E.Provider,{value:{traceInfo:l,traceList:c}},o.a.createElement(vc.a,{spinning:u},o.a.createElement(SE,{data:l,isEw:a,readOnly:r,reloadData:this.handleSearch}),o.a.createElement(AE,{isEw:a,data:c,onSearch:this.handleSearch,id:n,readOnly:r}),s&&o.a.createElement(Wb,{visible:s,hideModal:this.handleHideModal,isEw:a,id:n,departId:a?l.ewId:l.distributorId}),d&&o.a.createElement(ls,{title:"\u9884\u7ea6\u62bd\u67e5\u65f6\u95f4",onOk:function(){return e.handleHideModal(!0)},onCancel:function(){return e.handleHideModal()},onSubmit:this.handleOrderSubmit,configList:[{label:"\u9884\u7ea6\u65f6\u95f4",key:"bookTime",type:"datePicker",required:!0,showTime:!0,initialValue:je()().add(1,"h").minute(0).second(0),rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u9884\u7ea6\u65f6\u95f4"},{validator:function(e,t,a){t&&t<je()()&&a("\u4e0d\u80fd\u9884\u7ea6\u8fc7\u53bb\u7684\u65f6\u95f4!"),a()}}],disabledDate:function(e){return e&&e<je()().subtract(1,"day").endOf("day")}},{label:"\u9884\u7ea6\u539f\u56e0",key:"bookReason",type:"textArea",required:!0}]}),o.a.createElement(Ic.a,null,a&&!r&&9!==l.status&&o.a.createElement(re.a,{onClick:function(){e.setState({showOrderModal:!0})},type:"primary",icon:"clock-circle"},"\u9884\u7ea6\u62bd\u67e5\u65f6\u95f4"),!r&&9!==l.status&&o.a.createElement(re.a,{onClick:function(){e.setState({showTrModal:!0})},type:"primary",icon:"plus"},"\u65b0\u589e\u8ddf\u8e2a\u8bb0\u5f55"),o.a.createElement(Vc,null))))}}]),t}(i.Component),AE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,loading:!1},a.onSubmit=function(e){a.setState({loading:!0});var t=a.props,n=t.isEw,r={id:t.id};return r=n?Object(E.a)({},r,{ewGetcalltimes:e.answeredTime,ewNogetcalltimes:e.notAnsweredTime}):Object(E.a)({},r,{distGetcalltimes:e.answeredTime,distNogetcalltimes:e.notAnsweredTime}),H.e.formSubmit(n?"SpotTestTaskAction_modifyEwCallTimes":"SpotTestTaskAction_modifyDisCallTimes","",r).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,t=void 0===e?{}:e;if(0!==t.result)return Promise.reject(t.msg);S.a.success("\u66f4\u65b0\u6b21\u6570\u6210\u529f"),a.handleHideModal(!0)}).catch(function(e){a.setState({loading:!1}),S.a.error(e.message||e)})},a.handleHideModal=function(e){a.setState({showModal:!1,loading:!1}),e&&a.props.onSearch()},a.handleSubmit=function(){a.form&&a.form.handleSubmit()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.isEw,n=t.readOnly;return o.a.createElement(Wc,{title:a?"\u4e8c\u7f51\u8ddf\u8e2a\u8bb0\u5f55":"\u7ecf\u9500\u5546\u8ddf\u8e2a\u8bb0\u5f55"},o.a.createElement(_E.Consumer,null,function(t){var r=t.traceInfo,i=kE(r,a),l=i.answeredTime,c=i.notAnsweredTime;return o.a.createElement("div",{style:{position:"absolute",top:"20px",right:"50px"}},o.a.createElement("span",null,"\u6253\u901a\u6b21\u6570\uff1a",l),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("span",null,"\u672a\u6253\u901a\u6b21\u6570\uff1a",c),o.a.createElement(W.a,{type:"vertical"}),!n&&9!==r.status&&o.a.createElement(G.a,{title:"\u6b21\u6570\u4fee\u6539"},o.a.createElement("a",{href:"javascript:;",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){e.setState({showModal:!0})}},o.a.createElement(k.a,{type:"edit"})," \u6b21\u6570\u4fee\u6539")),o.a.createElement(z.a,{title:"\u6b21\u6570\u4fee\u6539",visible:e.state.showModal,onOk:e.handleSubmit,onCancel:function(){return e.handleHideModal(!1)},confirmLoading:e.state.loading,destroyOnClose:!0},o.a.createElement(Qb,Object.assign({answeredTime:l,notAnsweredTime:c},{onSubmit:e.onSubmit,wrappedComponentRef:function(t){return e.form=t}}))))}),o.a.createElement(_E.Consumer,null,function(e){var t=e.traceList;return o.a.createElement(Z.a,{columns:a?wE:jE,dataSource:t,pagination:!1,rowKey:"id"})}))}}]),t}(i.Component),kE=function(e,t){return{answeredTime:t?e.ewGetcalltimes:e.distGetcalltimes,notAnsweredTime:t?e.ewNogetcalltimes:e.distNogetcalltimes}},wE=[{title:"\u662f\u5426\u6253\u901a",dataIndex:"ewGetCallName"},{title:"\u53cd\u9988\u7c7b\u578b",dataIndex:"ewReplyName"},{title:"\u53cd\u9988\u5185\u5bb9",dataIndex:"ewReplyContentName"},{title:"\u5177\u4f53\u539f\u56e0",dataIndex:"ewReplyReasonName"},{title:"\u62e8\u6253\u65f6\u95f4",dataIndex:"ewCallTime",render:function(e){return cn(e)}},{title:"\u5907\u6ce8",dataIndex:"remark",render:function(e){return o.a.createElement("span",{style:xE,title:e},e)}}],jE=[{title:"\u662f\u5426\u6253\u901a",dataIndex:"distGetCallName"},{title:"\u53cd\u9988\u7c7b\u578b",dataIndex:"distReplyName"},{title:"\u53cd\u9988\u5185\u5bb9",dataIndex:"distReplyContentName"},{title:"\u5177\u4f53\u539f\u56e0",dataIndex:"distReplyReasonName"},{title:"\u62e8\u6253\u65f6\u95f4",dataIndex:"distCallTime",render:function(e){return cn(e)}},{title:"\u5907\u6ce8",dataIndex:"remark",width:500,render:function(e){return o.a.createElement("span",{style:xE,title:e},e)}}],xE={display:"inline-block",maxWidth:500,textOverflow:"ellipsis",overflow:"hidden"},DE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).renderBasicInfo=function(){var e=a.props.parentTask;return e?[{label:"\u7ecf\u9500\u5546\u540d\u79f0",value:e.distributorName},{label:"\u4e8c\u7f51\u540d\u79f0",value:e.ewName},{label:"\u4efb\u52a1\u7f16\u53f7",value:e.id},{label:"\u8f66\u67b6\u53f7",value:e.chassis}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.parentChangList,a=e.ewTraceList,n=e.disTraceList,r=e.parentTask;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u7236\u4efb\u52a1\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderBasicInfo(),layout:"vertical"})),o.a.createElement("div",{style:{display:"flex"}},o.a.createElement("div",{style:{display:"flex",width:"400px",marginRight:"20px"}},o.a.createElement(Wc,{title:"\u5f02\u5e38\u539f\u56e0\u53d8\u66f4\u8bb0\u5f55",style:{flex:1}},Is()(t)?o.a.createElement(OE.a,{image:OE.a.PRESENTED_IMAGE_SIMPLE}):o.a.createElement(vE.a,null,t.map(function(e){var t=e.id,a=e.operTime,n=e.fromValue,r=e.toValue,i=e.description,l=e.operName;return o.a.createElement(vE.a.Item,{color:"red",key:t},o.a.createElement("p",null,"".concat(l,"\uff1a").concat(n," \u2192 ").concat(r)),o.a.createElement("p",null,"\u64cd\u4f5c\u4eba\uff1a".concat(l)),o.a.createElement("p",null,"\u63cf\u8ff0\uff1a".concat(i)),o.a.createElement("p",null,"\u64cd\u4f5c\u65f6\u95f4\uff1a".concat(cn(a))))})))),o.a.createElement("div",{style:{flex:1}},o.a.createElement(Wc,{title:"\u4e8c\u7f51\u8ddf\u8e2a\u8bb0\u5f55"},Is()(a)?o.a.createElement(OE.a,{image:OE.a.PRESENTED_IMAGE_SIMPLE}):o.a.createElement(i.Fragment,null,o.a.createElement("div",{style:{position:"absolute",top:"20px",right:"50px"}},o.a.createElement("span",null,"\u6253\u901a\u6b21\u6570\uff1a",kE(r,!0).answeredTime),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("span",null,"\u672a\u6253\u901a\u6b21\u6570\uff1a",kE(r,!0).notAnsweredTime)),o.a.createElement(Z.a,{columns:wE,dataSource:a,pagination:!1,rowKey:"id"}))),o.a.createElement(Wc,{title:"\u7ecf\u9500\u5546\u8ddf\u8e2a\u8bb0\u5f55"},Is()(n)?o.a.createElement(OE.a,{image:OE.a.PRESENTED_IMAGE_SIMPLE}):o.a.createElement(i.Fragment,null,o.a.createElement("div",{style:{position:"absolute",top:"20px",right:"50px"}},o.a.createElement("span",null,"\u6253\u901a\u6b21\u6570\uff1a",kE(r,!1).answeredTime),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("span",null,"\u672a\u6253\u901a\u6b21\u6570\uff1a",kE(r,!1).notAnsweredTime)),o.a.createElement(Z.a,{columns:jE,dataSource:n,pagination:!1,rowKey:"id"}))))),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);function ME(e){var t=e.match.params,a=t.id,n=t.menu;return o.a.createElement(TE,{fetch:function(){return H.e.formSubmit("/SpotTestTaskAction_getEwTraceInfo","",{id:a}).then(function(t){var a=t.data;return 0===a.result?(Is()(a.ewTraceInfo)?e.calcIfEw(!1):e.calcIfEw(!0),Promise.resolve({traceInfo:a.ewTraceInfo,traceList:a.ewTraceList})):Promise.reject(a.reject(a.msg))}).catch(function(e){S.a.error(e.message||e)})},isEw:!0,id:a,readOnly:"spottestAuditLedger"===n})}function NE(e){var t=e.match.params,a=t.id,n=t.menu;return o.a.createElement(TE,{fetch:function(){return H.e.formSubmit("/SpotTestTaskAction_getDisTraceInfo","",{id:a}).then(function(t){var a=t.data;if(0===a.result){var n=a.disTraceInfo;return n.distributorId!==n.ewId?e.calcIfEw(!0):e.calcIfEw(!1),Promise.resolve({traceInfo:a.disTraceInfo,traceList:a.disTraceList})}return Promise.reject(a.reject(a.msg))}).catch(function(t){S.a.error(t.message||t),e.calcIfEw(!1)})},id:a,readOnly:"spottestAuditLedger"===n})}var LE,RE,PE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ifSubTask:!1,parentTask:{},parentChangList:[],ewTraceList:[],disTraceList:[]},a.handleSearch=function(){var e=a.props.match.params.id;return H.e.formSubmit("/SpotTestTaskAction_getParentSpotTestTask","",{id:e}).then(function(e){var t=e.data;if(0!==t.result)return Promise.reject(t.reject(t.msg));var n=t.parentTask,r=void 0===n?{}:n,i=t.parentExTypeChangLogList,o=void 0===i?[]:i,l=t.ewTraceList,c=void 0===l?[]:l,s=t.disTraceList,d=void 0===s?[]:s;a.setState({parentTask:r,parentChangList:o,ewTraceList:c,disTraceList:d,ifSubTask:!Is()(r)})}).catch(function(){a.setState({ifSubTask:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.location,a=t.search,n=t.pathname,r=this.props.match,i=r.params.id,l=r.path.startsWith("/spottestAuditLedger")?"/spottestAuditLedger":"/spottestAudit";return o.a.createElement("div",null,o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/:menu/detail/carInfo/:id",render:function(e){return o.a.createElement(fE,e)}}),o.a.createElement(b.a,{path:"/:menu/detail/trackRecordForDist/:id",render:function(e){return o.a.createElement(NE,e)}}),o.a.createElement(b.a,{path:"/:menu/detail/trackRecordForEw/:id",render:function(e){return o.a.createElement(ME,e)}}),o.a.createElement(b.a,{path:"/:menu/detail/parentTaskInfo/:id",render:function(t){return o.a.createElement(DE,Object.assign({},t,{parentTask:e.state.parentTask,parentChangList:e.state.parentChangList,ewTraceList:e.state.ewTraceList,disTraceList:e.state.disTraceList}))}})),o.a.createElement(Kb,null,this.state.ifSubTask&&o.a.createElement(X.a,{to:{pathname:"".concat(l,"/detail/parentTaskInfo/").concat(i),search:a},style:{position:"relative",top:"9.5px",left:"15px"},className:String(n).startsWith("".concat(l,"/detail/parentTaskInfo"))?Hb.a.active:""},"\u7236\u4efb\u52a1\u8be6\u60c5")))}}]),t}(i.Component),UE=jf.a.TabPane,YE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={activeKey:Is()(a.props.data)?"0":String([].concat(Object(pe.a)(a.props.data.hisList||[]),[a.props.data]).length-1)},a.handlePreview=function(e,t){return function(n){a.props.showPreview&&a.props.showPreview(e,t)}},a.onChange=function(e){a.setState({activeKey:e})},a.renderCard=function(e){if(Is()(e))return null;var t=e.codeType,n=e.codetypeDesc,r=e.personalChassisNum,l=e.file,c=void 0===l?{}:l,s=e.noImage,d=e.hideDetail,u=e.distance,p=e.locationTypeName,m=e.useflag,h=a.props,g=h.readOnly,f=h.url,b=void 0===f?"":f,E=c||{},y=E.opStarttime,v=void 0===y?{}:y,O=E.location,S=E.latitude,I=E.longitude,C=E.absolutePath,_=101===t,T=201===t||"200000"===e.category;return o.a.createElement("div",{className:ds.a.imageCard},!s&&o.a.createElement("div",{className:"".concat(ds.a.image," ").concat(Is()(c)?ds.a.disabled:""),style:{backgroundImage:T?"":"url(".concat(C,")")}},o.a.createElement("div",{onClick:T||Is()(c)?null:a.handlePreview(n,C)},T&&o.a.createElement("video",{src:C,controls:"controls"}),!T&&o.a.createElement("div",{className:ds.a.preview}))),o.a.createElement("div",{className:ds.a.content},Is()(c)?o.a.createElement(OE.a,{image:OE.a.PRESENTED_IMAGE_SIMPLE,description:"\u7b49\u5f85\u7528\u6237\u4e0a\u4f20\u6570\u636e"}):o.a.createElement(i.Fragment,null,o.a.createElement("div",{className:ds.a.header},o.a.createElement("p",{className:ds.a.title},n),_&&o.a.createElement("p",{className:ds.a.subtitle},"\u8bc6\u522b\u7ed3\u679c\uff1a",r),o.a.createElement("p",{className:ds.a.subtitle},"\u62cd\u6444\u65f6\u95f4\uff1a",cn(v))),!d&&o.a.createElement("div",{className:ds.a.detail},o.a.createElement("p",{className:ds.a.location},"\u62cd\u6444\u5730\u70b9\uff1a",O),o.a.createElement("p",{className:ds.a.latitude},o.a.createElement("span",{style:{marginRight:"20px"}},"\u7ecf\u5ea6\uff1a",I),o.a.createElement("span",null,"\u7eac\u5ea6\uff1a",S)),!String(b).startsWith("/certificateTask")&&o.a.createElement("p",{className:ds.a.longitude},"\u8ddd\u79bb",p,"\uff1a",u,"\u7c73")),!g&&o.a.createElement(re.a,{style:{position:"absolute",bottom:"30px",right:"20px"},onClick:function(){return a.props.onShowModal(e)},disabled:1===m},1===m?"\u5df2\u9000\u56de":"\u9000\u56de\u91cd\u62cd"))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.data.hisList,a=void 0===t?[]:t,n=[].concat(Object(pe.a)(a),[this.props.data]);return 1==n.length?o.a.createElement("div",null,this.renderCard(n[0])):o.a.createElement("div",{className:ds.a.carAuditPhoto},o.a.createElement(jf.a,{onChange:this.onChange,activeKey:this.state.activeKey,type:"card",defaultActiveKey:String(n.length-1)},n.map(function(t,a){return o.a.createElement(UE,{tab:String(a+1),key:a},e.renderCard(t))})))}}]),t}(i.PureComponent),FE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showPreviewModal:!1,record:null,image:{}},a.handleSubmit=function(e,t){return H.e.formSubmit("/SpotTestTaskAction_returnPhoto","",{id:t.id,remark:e.remark})},a.handleShowModal=function(e){a.setState({showModal:!0,record:e})},a.handleModalOk=function(){a.setState({showModal:!1}),a.props.onSearch()},a.handleCancel=function(){a.setState({showModal:!1,showPreviewModal:!1}),a.container.style.display="none"},a.showPreview=function(e,t){a.container.parentNode.removeChild(a.container),document.getElementById("root").appendChild(a.container),a.container.style.display="block",a.setState({image:{alt:e,src:t},showPreviewModal:!!t})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.readOnly,r=this.state.record;return o.a.createElement("div",null,ce()(a,4).map(function(t,a){return o.a.createElement(N.a,{gutter:16,key:a},t.map(function(t,a){return o.a.createElement(L.a,{lg:12,xl:6,key:a,style:{minWidth:"320px"}},o.a.createElement(YE,{data:t,onShowModal:e.handleShowModal,showPreview:e.showPreview,readOnly:n}))}))}),this.state.showModal&&o.a.createElement(lf,{title:"\u9000\u56de\u91cd\u62cd",visible:this.state.showModal,onOk:this.handleModalOk,onCancel:this.handleCancel,configList:[{label:"\u9000\u56de\u7c7b\u578b",key:"codetypeDesc"},"remark"],onSubmit:this.handleSubmit,record:r,destroyOnClose:!0}),o.a.createElement("div",{id:"detailImageModal",ref:function(t){return e.container=t}},o.a.createElement("div",{className:"detailImageSubContent",ref:function(t){return e.subContainer=t}})),o.a.createElement(ms.a,{container:this.subContainer,visible:this.state.showPreviewModal,onClose:this.handleCancel,noNavbar:!0,images:[this.state.image]}))}}]),t}(i.Component),HE=ie.a.Item,KE=oe.a.Option,qE=he.a.TextArea,BE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.onCancel()},a.submit=function(e){var t=a.props.record,n=(t=void 0===t?{}:t).id,r=Object(E.a)({},e,{id:n});a.setState({loading:!0}),H.e.formSubmit("/SpotTestTaskAction_auditNotPass","",r).then(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!e.data||0!==e.data.result)return Promise.reject(e.data&&e.data.msg||"\u6807\u8bb0\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success("\u6807\u8bb0\u6210\u529f"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.visible,n=t.record,r=t.isSubTask,i=t.spottestType;return o.a.createElement(z.a,{title:"\u6807\u8bb0\u5f02\u5e38",visible:a,onOk:this.handleOk,onCancel:this.handleCancel,confirmLoading:this.state.loading,destroyOnClose:!0},this.props.children,o.a.createElement(VE,{wrappedComponentRef:function(t){return e.form=t},onSubmit:this.submit,record:n,isSubTask:r,spottestType:i}))}}]),t}(i.Component),VE=ie.a.create()(LE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={reasonValue:null},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.onSelectChange=function(e){var t=a.props,n=t.form.setFieldsValue,r=t.isSubTask;a.setState({reasonValue:e}),r&&n({parentFlag:e})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.form.getFieldDecorator,a=e.record,n=e.isSubTask,r=e.spottestType;return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),o.a.createElement(HE,{label:"\u5f02\u5e38\u539f\u56e0",key:"ptNotpassflag"},t("ptNotpassflag",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f02\u5e38\u539f\u56e0"}]})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u5f02\u5e38\u539f\u56e0",onChange:this.onSelectChange},Ee.filter(function(e){return!QE(a,r).includes(e.value)}).map(function(e){return o.a.createElement(KE,{value:e.value,key:e.value},e.name)})))),n&&o.a.createElement(HE,{label:"\u7236\u4efb\u52a1\u5f02\u5e38\u539f\u56e0",key:"parentFlag"},t("parentFlag")(o.a.createElement("span",null,Ee.find(function(e){return e.value===a.parentBankExcReseaon}).name,o.a.createElement(G.a,{title:o.a.createElement("span",null,"\u6807\u8bb0\u5f02\u5e38\u4f1a\u540c\u65f6\u4fee\u6539\u7236\u4efb\u52a1\u7684\u5f02\u5e38\u539f\u56e0\uff08\u7279\u6b8a\u60c5\u51b5\uff1a\u5f53\u7236\u4efb\u52a1\u5f02\u5e38\u539f\u56e0\u4e3a\u201c\u8f66\u8f86\u5df2\u552e\u201d\uff0c\u5b50\u4efb\u52a1\u53ea\u6709\u5f02\u5e38\u539f\u56e0\u4e3a\u201c\u5b9a\u4f4d\u5f02\u5e38\u201d\u65f6\uff0c\u624d\u66f4\u6539\u7236\u4efb\u52a1\u5f02\u5e38\u539f\u56e0\uff09",o.a.createElement("br",null))},o.a.createElement(k.a,{type:"info-circle",style:{color:"red"}}))))),(5===r||6===r)&&5===this.state.reasonValue&&o.a.createElement(HE,{label:"\u8f66\u8f86\u6240\u5728\u4f4d\u7f6e",key:"carMovePosition"},t("carMovePosition",{initialValue:0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8f66\u8f86\u6240\u5728\u4f4d\u7f6e"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:0},"\u79fb\u5165\u4f4d\u7f6e"),o.a.createElement(ts.a,{value:1},"\u79fb\u51fa\u4f4d\u7f6e")))),4!==r&&5!==r&&6!==r||3!==this.state.reasonValue?2===this.state.reasonValue?o.a.createElement(HE,{label:"\u5f02\u5e38\u63cf\u8ff0",key:"exceptionRemarkForMove"},t("exceptionRemarkForMove",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f02\u5e38\u63cf\u8ff0"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e8c\u7f51\uff1b\u4e8c\u7f51\u79fb\u8f66\u672a\u53ca\u65f6\u544a\u77e5\u4e3b\u5e97\u64cd\u4f5c\u4e8c\u6b21\u79fb\u52a8",key:"0"},o.a.createElement("span",{style:{whiteSpace:"normal",verticalAlign:"top",height:"50px",display:"inline-block"}},"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e8c\u7f51\uff1b\u4e8c\u7f51\u79fb\u8f66\u672a\u53ca\u65f6\u544a\u77e5\u4e3b\u5e97\u64cd\u4f5c\u4e8c\u6b21\u79fb\u52a8")),o.a.createElement(ts.a,{value:"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e3b\u5e97\uff1b\u4e3b\u5e97\u672a\u53ca\u65f6\u64cd\u4f5c\u4e8c\u6b21\u79fb\u52a8",key:"1"},"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e3b\u5e97\uff1b\u4e3b\u5e97\u672a\u53ca\u65f6\u64cd\u4f5c\u4e8c\u6b21\u79fb\u52a8")))):o.a.createElement(HE,{label:"\u5f02\u5e38\u63cf\u8ff0",key:"remark"},t("remark",{rules:[{max:200,message:"\u5907\u6ce8\u63cf\u8ff0\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}]})(o.a.createElement(qE,{row:3}))):[o.a.createElement(HE,{label:"\u8f66\u8f86\u9500\u552e\u4f4d\u7f6e",key:"carSoldPosition"},t("carSoldPosition",{initialValue:0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u8f66\u8f86\u9500\u552e\u4f4d\u7f6e"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:0},"\u4e3b\u5e97"),o.a.createElement(ts.a,{value:1},"\u4e8c\u7f51")))),o.a.createElement(HE,{label:"\u5f02\u5e38\u63cf\u8ff0",key:"exceptionRemarkForSell"},t("exceptionRemarkForSell",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5f02\u5e38\u63cf\u8ff0"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e3b\u5e97\uff1b\u4e3b\u5e97\u8f66\u8f86\u5df2\u552e\u672a\u53ca\u65f6\u64cd\u4f5c\u7cfb\u7edf",key:"0"},"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e3b\u5e97\uff1b\u4e3b\u5e97\u8f66\u8f86\u5df2\u552e\u672a\u53ca\u65f6\u64cd\u4f5c\u7cfb\u7edf"),o.a.createElement(ts.a,{value:"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e8c\u7f51\uff1b\u4e8c\u7f51\u8f66\u8f86\u5df2\u552e\u672a\u53ca\u65f6\u64cd\u4f5c\u7cfb\u7edf",key:"1"},"\u8fdd\u89c4\u4e3b\u4f53\uff1a\u4e8c\u7f51\uff1b\u4e8c\u7f51\u8f66\u8f86\u5df2\u552e\u672a\u53ca\u65f6\u64cd\u4f5c\u7cfb\u7edf"))))])}}]),t}(i.Component))||LE,QE=function(e,t){var a=[4,6,9,11];return 1===e.isWaitRetakePhoto&&a.push(0),5!==t&&6!==t||(a.push(1),a.push(2)),a},zE=a(173),WE=a.n(zE),GE=a(519),XE=a.n(GE),JE=a(403),ZE=a.n(JE),$E=jf.a.TabPane,ey=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,activeKey:"",tabKey:{},map:null,centerPoint:null,centerMarker:null,mapData:{},realLocMap:null,BMap:null,currentLine:null},a.markerMaker=function(e,t,a,n){var r=new t.Icon(ZE.a,new t.Size(32,32)),i=e.file,o=(i=void 0===i?{}:i).latitude,l=i.longitude,c=i.location,s=i.opStarttime,d=e.codetypeDesc,u=e.distance,p=new t.Point(l,o),m=new t.Marker(p,{icon:r}),h={width:200,height:100,title:d,enableMessage:!0},g=new t.InfoWindow('<p style="font-size: 12px;"><span>\u8ddd\u79bb'.concat(n,'\uff1a<b style="font-size: 16px;">').concat(u,'</b> \u7c73</span><br /><span style="font-size: 12px;">\u62cd\u6444\u65f6\u95f4\uff1a').concat(cn(s),'</span><br /><span style="font-size: 12px;">\u5730\u5740\uff1a').concat(c,"</span>"),h);return m.addEventListener("click",function(){a.openInfoWindow(g,p)}),{marker:m,point:p,infoWindow:g}},a.onCardClick=function(e,t){return function(){var n=a.state,r=n.mapData,i=n.map,o=n.centerPoint,l=n.centerInfoWindow,c=n.BMap,s=n.currentLine;if(a.setState({activeKey:e}),t){if(!Is()(r[t])){var d=r[t],u=d.point,p=d.infoWindow,m=new c.Polyline([u,o]);i.removeOverlay(s),i.addOverlay(m),a.setState({currentLine:m}),i.centerAndZoom(u,15),i.setViewport([u,o],{margins:[100,100,0,100]}),i.openInfoWindow(p,u)}}else i.centerAndZoom(o,15),i.removeOverlay(s),i.openInfoWindow(l,o)}},a.addResetControl=function(e,t){var n=Object(Oc.a)(Object(Oc.a)(a));function r(){this.defaultAnchor=window.BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new t.Size(10,10)}r.prototype=new t.Control,r.prototype.initialize=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode("\u91cd\u7f6e")),t.style.cursor="pointer",t.style.border="1px solid gray",t.style.backgroundColor="white",t.onclick=function(){n.resetMap()},e.getContainer().appendChild(t),t};var i=new r;e.addControl(i)},a.resetMap=function(){var e=a.state,t=e.mapData,n=e.map,r=e.centerPoint,i=e.currentLine,o=[r].concat(Object(pe.a)(Object.keys(t).map(function(e){return t[e].point})));n.removeOverlay(i),n.setViewport(o)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.photoList;if(Array.isArray(t)&&t.length>0){var a=[t[0]].concat(Object(pe.a)(t[0].hisList));a.length>0?ln().then(function(n){var r=new n.Map("mapContainer");return H.e.formSubmit("/SpotTestTaskAction_getMapLocation","",{id:a[0].id}).then(function(){var a=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data,i=void 0===a?{}:a;if(Is()(i.realLocMap))return Promise.reject(i.msg);var o=i.realLocMap,l=new n.Point(o.longitude,o.latitude),c=new n.Icon(XE.a,new n.Size(32,32));r.centerAndZoom(l,15),r.enableScrollWheelZoom(!0);var s=new n.ScaleControl({anchor:"BMAP_ANCHOR_TOP_LEFT"}),d=new n.NavigationControl;r.addControl(d),r.addControl(s);var u=new n.Circle(l,1e3),p=new n.Marker(l,{icon:c});r.addOverlay(p),r.addOverlay(u);var m={width:200,height:100,title:o.locationName,enableMessage:!0},h=new n.InfoWindow("\u5730\u5740\uff1a".concat(o.location),m);p.addEventListener("click",function(){r.openInfoWindow(h,l)});var g={};t.forEach(function(t){[t].concat(Object(pe.a)(t.hisList)).reverse().filter(function(e){return e.file}).forEach(function(t,a){var i=e.markerMaker(t,n,r,o.locationTypeName),l=i.marker,c=i.point,s=i.infoWindow;r.addOverlay(l),g["".concat(t.codeType,"-").concat(a)]={marker:l,point:c,infoWindow:s}})}),e.addResetControl(r,n),e.setState({map:r,centerPoint:l,centerMarker:p,centerInfoWindow:h,realLocMap:o,mapData:g,loading:!1,BMap:n},e.resetMap)}).catch(function(t){S.a.error(t.message||t),e.setState({loading:!1})})}):(S.a.error("\u7167\u7247\u6570\u636e\u5f02\u5e38\uff0c\u65e0\u6cd5\u5728\u5730\u56fe\u4e2d\u6e32\u67d3"),this.setState({loading:!1}))}else S.a.error("\u7167\u7247\u6570\u636e\u5f02\u5e38\uff0c\u65e0\u6cd5\u5728\u5730\u56fe\u4e2d\u6e32\u67d3"),this.setState({loading:!1})}},{key:"render",value:function(){var e=this,t=this.props.photoList,a=this.state,n=a.activeKey,r=a.realLocMap,i=void 0===r?{}:r,l=a.loading;a.tabKey;return o.a.createElement(vc.a,{spinning:l},o.a.createElement("div",{className:WE.a.infoWrapper},!Is()(i)&&o.a.createElement("a",{href:"javascript:;",className:"".concat(WE.a.infoCard," ").concat(WE.a.hideNav," ").concat("center"===n?WE.a.active:""),key:"center",onClick:this.onCardClick("center")},o.a.createElement("div",{className:WE.a.infoCardDiv,style:{backgroundColor:"white",padding:"10px",minHeight:"175px"}},o.a.createElement("p",null,i.locationName),o.a.createElement("span",{style:{fontSize:"12px"}},"\u4f4d\u7f6e\u7c7b\u578b\uff1a",o.a.createElement("b",null,i.locationTypeName)),o.a.createElement("span",{style:{fontSize:"12px"}},"\u5730\u5740\uff1a",i.location))),t.map(function(t,a){return o.a.createElement("div",{className:"".concat(WE.a.infoCard," ").concat(Is()(t.hisList)?WE.a.hideNav:""," ").concat(n===a?WE.a.active:""),key:a},o.a.createElement(jf.a,{type:"card",onTabClick:function(n){return e.onCardClick(a,"".concat(t.codeType,"-").concat(n))()},defaultActiveKey:String([t].concat(Object(pe.a)(t.hisList)).filter(function(e){return e.file}).length-1)},[t].concat(Object(pe.a)(t.hisList)).reverse().filter(function(e){return e.file}).map(function(n,r){return o.a.createElement($E,{key:"".concat(r),tab:r+1},o.a.createElement("a",{href:"javascript:;",onClick:e.onCardClick(a,"".concat(t.codeType,"-").concat(r))},o.a.createElement("div",{className:WE.a.infoCardDiv},o.a.createElement("p",{style:201===n.codeType?{fontSize:"14px"}:{}},n.codetypeDesc),o.a.createElement("span",{style:{margin:"10px 0"}},"\u8ddd\u79bb\uff1a",o.a.createElement("b",null,n.distance)," \u7c73"),o.a.createElement("span",{style:{fontSize:"12px"}},o.a.createElement(k.a,{type:"clock-circle",style:{marginRight:"5px"}}),cn(n.file.opStarttime)),o.a.createElement("span",{style:{fontSize:"12px"}},o.a.createElement(k.a,{type:"environment",style:{marginRight:"5px"}}),n.file.location))))})))})),o.a.createElement("div",{id:"mapContainer",style:{width:"100%",height:"600px"}}))}}]),t}(i.Component),ty=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,showPreviewModal:!1,photo:{},video:{},image:{}},a.handleSearch=function(){var e=a.props,t=e.id,n=e.isEw,r=n?"/SpotTestTaskAction_getEwStorePhtoAndVedio":"/SpotTestTaskAction_getDisStorePhtoAndVedio";return H.e.formSubmit(r,"",n?{ewId:t}:{disId:t}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(0!==e.result)return Promise.reject(e.msg);n?a.setState({photo:ay(e.ewStorePhoto,"\u4e8c\u7f51\u95e8\u5e97\u7167\u7247"),video:ay(e.ewStoreVedio,"\u4e8c\u7f51\u95e8\u5e97\u89c6\u9891"),loading:!1}):a.setState({photo:ay(e.disStorePhoto,"\u7ecf\u9500\u5546\u95e8\u5e97\u7167\u7247"),video:ay(e.disStoreVedio,"\u7ecf\u9500\u5546\u95e8\u5e97\u89c6\u9891"),loading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a.handleCancel=function(){a.setState({showPreviewModal:!1}),a.container.style.display="none"},a.showPreview=function(e,t){return function(){a.container.parentNode.removeChild(a.container),document.getElementById("root").appendChild(a.container),a.container.style.display="block",a.setState({image:{alt:e,src:t},showPreviewModal:!!t})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.isEw,a=this.state,n=a.loading,r=a.photo,i=a.video;return o.a.createElement(z.a,{title:t?"\u4e8c\u7f51\u5e97\u5934\u4fe1\u606f":"\u7ecf\u9500\u5546\u5e97\u5934\u4fe1\u606f",visible:!0,onOk:function(){return e.props.onCancel()},onCancel:function(){return e.props.onCancel()},width:900,zIndex:10,footer:null,keyboard:!1},o.a.createElement(vc.a,{spinning:n},o.a.createElement(N.a,{gutter:16},o.a.createElement(L.a,{lg:12,xl:12,key:"image",style:{minWidth:"320px"}},o.a.createElement(us,Object.assign({},r,{showPreview:this.showPreview(r.title,r.path)}))),o.a.createElement(L.a,{lg:12,xl:12,key:"video",style:{minWidth:"320px"}},o.a.createElement(us,Object.assign({},i,{isVideo:!0}))))),o.a.createElement("div",{id:"detailImageModal",ref:function(t){return e.container=t}},o.a.createElement("div",{className:"detailImageSubContent",ref:function(t){return e.subContainer=t}})),o.a.createElement(ms.a,{container:this.subContainer,visible:this.state.showPreviewModal,onClose:this.handleCancel,noNavbar:!0,images:[this.state.image]}))}}]),t}(i.Component),ay=function(e,t){return{path:e.absolutePath,title:t,time:e.opEndtime.time,location:e.location,latitude:e.latitude,longitude:e.longitude}},ny=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,saveLoading:!1,list:[]},a.handleSearch=function(){var e=a.props.id;return H.e.formSubmit("/SpotTestTaskAction_remeasureDistance","",{detailId:e}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(0!==e.result)return Promise.reject(e.msg);a.setState({list:e.distanceList,loading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a.handleUpdate=function(){var e=a.state.list,t=JSON.stringify(e),n=a.props.id;return a.setState({saveLoading:!0}),H.e.formSubmit("/SpotTestTaskAction_updateDistance","",{detailId:n,distance:t}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(0!==e.result)return Promise.reject(e.msg);a.setState({saveLoading:!1}),S.a.success(e.msg),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({saveLoading:!1})})},a.renderFooter=function(){var e=a.state.saveLoading;return o.a.createElement("div",null,o.a.createElement(re.a,{type:"primary",icon:"check",onClick:a.handleUpdate,loading:e},"\u4fdd\u5b58"),o.a.createElement(re.a,{onClick:function(){return a.props.onCancel()}},"\u53d6\u6d88"))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.visible,a=this.state,n=a.loading,r=a.list;return o.a.createElement(z.a,{title:"\u8ddd\u79bb\u91cd\u6d4b",visible:t,footer:this.renderFooter(),onCancel:function(){return e.props.onCancel()}},o.a.createElement(vc.a,{spinning:n},o.a.createElement(Z.a,{columns:ry,dataSource:r,pagination:!1})))}}]),t}(i.Component),ry=[{title:"\u4f4d\u7f6e",dataIndex:"codeTypeDesc"},{title:"\u539f\u8def\u7a0b",dataIndex:"oldDistance"},{title:"\u65b0\u8def\u7a0b",dataIndex:"newDistance"}],iy=z.a.confirm,oy=o.a.createElement("span",{style:{color:"red"}},"\u8f66\u5c55\u5c1a\u672a\u786e\u5b9a\u4f4d\u7f6e\u4fe1\u606f\uff01"),ly=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,isEw:!1,showExcepModal:!1,showMapModal:!1,showDistanceModal:!1,showCloseModal:!1,car:{},curSpottest:{},curSpottestDetail:{},carShow:{},photoList:[],ewRemark:"",disRemark:"",carShowWarning:!1},a.goBack=function(){var e=a.props.match,t=e.params.spottestId,n=e.path.startsWith("/spottestAuditLedger"),r={pathname:"".concat(n?"/spottestAuditLedger":"/spottestAudit","/detail/carInfo/").concat(t),search:a.props.location.search||""};a.props.history.push(r)},a.handleAuditPass=function(){var e=a.state.curSpottestDetail.id,t=a.state.carShowWarning,n=Object(Oc.a)(Object(Oc.a)(a));iy({title:"\u786e\u5b9a\u8981\u5ba1\u6838\u901a\u8fc7\u8be5\u62bd\u67e5\u4efb\u52a1\u5417\uff1f",content:t?oy:null,onOk:function(){return H.e.formSubmit("/SpotTestTaskAction_auditPass","",{id:e}).then(function(e){var t=e.data,a=void 0===t?{}:t;if(0!==a.result)return Promise.reject(a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01");S.a.success(a.msg||"\u64cd\u4f5c\u6210\u529f\uff01"),n.goBack()}).catch(function(e){S.a.error(e.message||e)})}})},a.handleSearch=function(){var e=a.props.match.params,t=e.spottestId,n=e.carId;t&&n&&(a.setState({loading:!0}),H.e.formSubmit("/SpotTestTaskAction_getAuditTaskDetail","",{spottestId:t,carId:n}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(!n)return Promise.reject(n.msg||"\u52a0\u8f7d\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");var r=n.car,i=n.curSpottest,o=n.curSpottestDetail,l=n.carShow,c=n.photoList,s=n.ew,d=n.dis;a.setState({car:r,curSpottest:i,curSpottestDetail:o,carShow:l,photoList:c,loading:!1,ewRemark:s&&s.remark||"",disRemark:d&&d.remark||""}),Is()(l)||H.e.formSubmit("/SpotTestTaskAction_checkCarShowPosition","",{carShowId:l.id}).then(function(e){var t=e.data;1===(void 0===t?{}:t).result&&a.setState({carShowWarning:!0})})}).catch(function(e){S.a.error(e.message||e)}).then(function(){a.setState({loading:!1})}))},a.renderCarInfo=function(){var e=a.state,t=e.car,n=e.ewRemark,r=e.disRemark;return Is()(t)?[]:[{label:"\u8f66\u67b6\u53f7",value:t.chassis},{label:"\u54c1\u724c\u8f66\u7cfb",value:t.fld_trim},{label:"\u53d1\u52a8\u673a\u53f7",value:t.engine},{label:"\u8f66\u8f86\u989c\u8272",value:t.color},{label:"\u94a5\u5319\u6570\u91cf",value:t.carkeys},{label:"\u4e8c\u7f51\u5907\u6ce8",value:n,block:!0},{label:"\u7ecf\u9500\u5546\u5907\u6ce8",value:r}]},a.renderCarShowInfo=function(){var e=a.state.carShow;return Is()(e)?[]:[{label:"\u8f66\u5c55\u540d\u79f0",value:e.showName},{label:"\u8f66\u5c55ID",value:e.id},{label:"\u8f66\u5c55\u5730\u5740",value:e.showAddress},{label:"\u62bd\u67e5\u9891\u7387",value:e.spottestFeqCH},{label:"\u5f00\u59cb\u65e5\u671f",value:cn(e.startTime)},{label:"\u7ed3\u675f\u65e5\u671f",value:cn(e.endTime)}]},a.handleOk=function(){a.handleCancel(),a.goBack()},a.handleOkAndReloadData=function(){a.handleCancel(),a.handleSearch()},a.handleCancel=function(){a.setState({showExcepModal:!1,showMapModal:!1,showDistanceModal:!1,showCloseModal:!1})},a.handleCloseTask=function(e){var t=a.state.curSpottestDetail,n=t.spottestId,r=t.id;return H.e.formSubmit("/ExceptionTraceAction_endExceptionTrace","",Object(E.a)({},e,{actionFrom:1,spottestId:n,spotdetailId:r}))},a.judgeIfExsitingPhoto=function(e){return(!Array.isArray(e)||0!==e.length)&&[e[0]].concat(Object(pe.a)(e[0].hisList)).filter(function(e){return e.file}).length>0},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.state,a=(t.car,t.curSpottest),n=t.curSpottestDetail,r=t.carShow,i=t.photoList,l=void 0===i?[]:i,c=t.showExcepModal,s=l.sort(function(e,t){return cy.indexOf(e.codeType)-cy.indexOf(t.codeType)}),d=this.state.loading||[0,1,2,11].includes(n.status)||!this.judgeIfExsitingPhoto(s),u=this.props.match.path,p=u&&u.startsWith("/spottestAuditLedger");return o.a.createElement(vc.a,{spinning:this.state.loading},o.a.createElement(Wc,{title:"\u8f66\u8f86\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderCarInfo(),layout:"vertical"})),o.a.createElement(Wc,{title:"\u5f71\u50cf\u8d44\u6599"},!d&&o.a.createElement("div",{style:{position:"absolute",display:"inline-block",top:"22px",right:"50px"}},o.a.createElement(G.a,{title:"\u7ecf\u9500\u5546\u5e97\u5934\u4fe1\u606f"},o.a.createElement("a",{href:"javascript:;",key:"\u7ecf\u9500\u5546\u5e97\u5934\u4fe1\u606f",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showDepartImageModal:!0,isEw:!1})}},o.a.createElement(k.a,{type:"file-image"})," \u7ecf\u9500\u5546\u5e97\u5934\u4fe1\u606f")),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u4e8c\u7f51\u5e97\u5934\u4fe1\u606f"},o.a.createElement("a",{href:"javascript:;",key:"\u4e8c\u7f51\u5e97\u5934\u4fe1\u606f",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showDepartImageModal:!0,isEw:!0})}},o.a.createElement(k.a,{type:"file-image"})," \u4e8c\u7f51\u5e97\u5934\u4fe1\u606f")),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement(G.a,{title:"\u67e5\u770b\u5730\u56fe"},o.a.createElement("a",{href:"javascript:;",key:"\u67e5\u770b\u5730\u56fe",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showMapModal:!0})}},o.a.createElement(k.a,{type:"environment"})," \u67e5\u770b\u5730\u56fe")),o.a.createElement(W.a,{type:"vertical"}),!p&&o.a.createElement(G.a,{title:"\u8ddd\u79bb\u91cd\u6d4b"},o.a.createElement("a",{href:"javascript:;",key:"\u8ddd\u79bb\u91cd\u6d4b",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showDistanceModal:!0})}},o.a.createElement(k.a,{type:"redo"})," \u8ddd\u79bb\u91cd\u6d4b"))),d?o.a.createElement(OE.a,{description:"\u6682\u65e0\u62cd\u6444\u6570\u636e"}):o.a.createElement(FE,{list:s,onSearch:this.handleSearch,readOnly:p})),!Is()(r)&&o.a.createElement(Wc,{title:"\u8f66\u5c55\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderCarShowInfo(),layout:"vertical"})),c&&o.a.createElement(BE,{record:n,visible:c,isSubTask:0!=a.parentSpotId,spottestType:a.spottesttype,onOk:this.handleOk,onCancel:this.handleCancel},this.state.carShowWarning?oy:null),o.a.createElement(z.a,{title:"\u67e5\u770b\u5730\u56fe",visible:this.state.showMapModal,width:1200,onOk:this.handleCancel,onCancel:this.handleCancel},o.a.createElement(ey,{photoList:s})),this.state.showDepartImageModal&&o.a.createElement(ty,{id:this.state.isEw?n.ewId:n.distributorId,onCancel:function(){e.setState({showDepartImageModal:!1})},isEw:this.state.isEw}),this.state.showDistanceModal&&o.a.createElement(ny,{id:n.id,visible:this.state.showDistanceModal,onOk:this.handleOkAndReloadData,onCancel:this.handleCancel}),this.state.showCloseModal&&o.a.createElement(ls,{title:"\u5173\u95ed\u4efb\u52a1",onOk:this.handleOk,onCancel:this.handleCancel,onSubmit:this.handleCloseTask,configList:[{type:"radio",key:"unshootType",label:"\u8fdd\u89c4\u60c5\u51b5",initialValue:10,optionList:[{label:"\u4e0d\u8bb0\u5f55\u8fdd\u89c4",value:10},{label:"\u5f02\u5e38\u8d85\u65f6",value:11},{label:"\u4e25\u91cd\u8d85\u65f6",value:12}],required:!0}]}),o.a.createElement(Ic.a,null,!p&&n&&3===n.status&&o.a.createElement(re.a,{onClick:this.handleAuditPass,icon:"check-circle",type:"primary"},"\u5ba1\u6838\u901a\u8fc7"),!p&&n&&[2,3,5,9,11].includes(n.status)&&o.a.createElement(re.a,{onClick:function(){return e.setState({showExcepModal:!0})},icon:"warning",type:"danger"},"\u6807\u8bb0\u5f02\u5e38"),!p&&n&&1===n.isWaitRetakePhoto&&(11===n.status||3===n.status)&&o.a.createElement(re.a,{onClick:function(){return e.setState({showCloseModal:!0})},icon:"close",type:"danger"},"\u5173\u95ed\u4efb\u52a1"),o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de\u8f66\u8f86\u4fe1\u606f")))}}]),t}(i.Component),cy=[101,102,201,5,6];function sy(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/spotTask"),component:Nb}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/moveTask"),component:Lb}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/timeOut"),component:Rb}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoComplete"),component:Yb}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/:tab/:id"),component:PE}),o.a.createElement(b.a,{path:"".concat(t.url,"/audit/:spottestId/:carId"),component:ly}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list/spotTask")}))}var dy=ie.a.Item,uy=oe.a.Option,py=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.handleOk=function(){a.form&&a.form.handleSubmit()},a.handleCancel=function(){a.props.onCancel()},a.onSubmit=function(e){var t=a.props.record;if(Is()(t)){var n=Object(E.a)({},e);return e.distributorId||e.ewId?(n.departid=e.distributorId?e.distributorId:e.ewId,delete n.distributorId,delete n.ewId,a.setState({loading:!0}),H.e.formSubmit("/UserAction_createUser","user",n).then(function(e){var t=e.data,n=void 0===t?{}:t;if(!n||0!==n.result)return Promise.reject(n&&n.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success("\u6dfb\u52a0\u7528\u6237\u6210\u529f"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})):void S.a.error("\u8bf7\u9009\u62e9\u4e00\u4e2a\u7ecf\u9500\u5546\u6216\u8005\u4e8c\u7f51")}var r=e.mobile,i=e.email,o=e.address,l=e.status,c={id:t.id,mobile:r,email:i,address:o,status:l};return a.setState({loading:!0}),H.e.formSubmit("/UserAction_updateUserInfo","user",c).then(function(e){var t=e.data,n=void 0===t?{}:t;if(!n||1!==n.result)return Promise.reject(n&&n.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5");S.a.success("\u66f4\u65b0\u8d26\u53f7\u4fe1\u606f\u6210\u529f"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.onCancel,n=t.record;return o.a.createElement(z.a,{title:Is()(n)?"\u65b0\u589e\u8d26\u53f7":"\u4fee\u6539\u8d26\u53f7",onOk:this.handleOk,onCancel:a,visible:!0,confirmLoading:this.state.loading,destroyOnClose:!0},o.a.createElement(my,{onSubmit:this.onSubmit,wrappedComponentRef:function(t){return e.form=t},record:n}))}}]),t}(i.PureComponent),my=ie.a.create()(RE=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={distributorList:[],ewList:[],loading:!0,searchValue:""},a.searchEnterpriseData=function(e){var t=3===e;return H.e.formSubmit("/AjaxAction_getDepartOptions","",{departType:t?3:2}).then(function(e){var n=e.data,r=void 0===n?{}:n;if("string"===typeof r)try{r=JSON.parse(r)}catch(i){return Promise.reject(i.message)}if(r&&Is()(r))return Promise.reject(t?"\u83b7\u53d6\u4e8c\u7f51\u5217\u8868\u5931\u8d25":"\u83b7\u53d6\u7ecf\u9500\u5546\u5217\u8868\u5931\u8d25");a.setState({distributorList:t?r:a.state.distributorList,ewList:t?a.state.ewList:r})}).catch(function(e){S.a.error(e.message||e),a.setState({distributorList:t?[]:a.state.distributorList,ewList:t?a.state.ewList:[]})})},a.onSelectSearch=function(e){a.setState({searchValue:e})},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.record;Is()(t)&&Promise.all([this.searchEnterpriseData(2),this.searchEnterpriseData(3)]).then(function(){e.setState({loading:!1})})}},{key:"render",value:function(){var e=this.props,t=e.form,a=t.getFieldDecorator,n=t.getFieldValue,r=e.record,i=this.state,l=i.loading,c=i.distributorList,s=i.ewList,d=i.searchValue,u=!Is()(r)||n("distributorId")||n("ewId");return o.a.createElement(ie.a,Object.assign({onSubmit:this.handleSubmit},{labelCol:{span:6},wrapperCol:{span:16}}),Is()(r)&&o.a.createElement(dy,{label:"\u4f01\u4e1a\u7c7b\u578b",key:"departtype"},a("departtype",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4f01\u4e1a\u7c7b\u578b"}]})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:3,key:3},"\u7ecf\u9500\u5546"),o.a.createElement(ts.a,{value:2,key:2},"\u4e8c\u7f51")))),3===n("departtype")&&Is()(r)&&o.a.createElement(dy,{label:"\u9009\u62e9\u7ecf\u9500\u5546",key:"departtypeOption",extra:"\u6700\u591a\u663e\u793a30\u6761\u7ecf\u9500\u5546\u6570\u636e"},a("distributorId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u7ecf\u9500\u5546"}]})(o.a.createElement(oe.a,{style:{width:"100%"},showSearch:!0,loading:l,optionFilterProp:"children",onSearch:this.onSelectSearch},c.sort(function(e){return r?String(e.value)===String(r.departid)?-1:1:0}).filter(function(e){return e.value&&e.label&&e.label.includes(d)}).slice(0,29).map(function(e){return o.a.createElement(uy,{value:e.value,key:e.value},e.label)})))),2===n("departtype")&&Is()(r)&&o.a.createElement(dy,{label:"\u9009\u62e9\u4e8c\u7f51",key:"departtypeOption",extra:"\u6700\u591a\u663e\u793a30\u6761\u4e8c\u7f51\u6570\u636e"},a("ewId",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e00\u4e2a\u4e8c\u7f51"}]})(o.a.createElement(oe.a,{style:{width:"100%"},showSearch:!0,loading:l,optionFilterProp:"children",onSearch:this.onSelectSearch},s.sort(function(e){return r?String(e.value)===String(r.departid)?-1:1:0}).filter(function(e){return e.value&&e.label&&e.label.includes(d)}).slice(0,29).map(function(e){return o.a.createElement(uy,{value:e.value,key:e.value},e.label)})))),!Is()(r)&&o.a.createElement(dy,{label:"\u4f01\u4e1a\u7c7b\u578b",key:"departtype",required:!0},a("departtype")(o.a.createElement("span",null,3===r.departtype?"\u7ecf\u9500\u5546":"\u4e8c\u7f51"))),!Is()(r)&&o.a.createElement(dy,{label:"\u4f01\u4e1a\u540d\u79f0",key:"departtypeOption"},a("employeename",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u540d\u79f0"}]})(o.a.createElement("span",null,r.departname))),u&&o.a.createElement(dy,{label:"\u8d26\u53f7\u540d\u79f0",key:"employeename"},a("employeename",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d\u79f0"}],initialValue:r.employeename||""})(Is()(r)?o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d\u79f0"}):o.a.createElement("span",null,r.employeename))),u&&o.a.createElement(dy,{label:"\u767b\u5f55\u8d26\u53f7",key:"accid"},a("accid",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"},{max:30,message:"\u6700\u591a\u8f93\u516530\u4e2a\u5b57\u7b26"}],initialValue:r.accid||""})(Is()(r)?o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u767b\u5f55\u8d26\u53f7"}):o.a.createElement("span",null,r.accid))),u&&Is()(r)&&o.a.createElement(dy,{label:"\u8d26\u53f7\u5bc6\u7801",key:"accpwd"},a("accpwd",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8d26\u53f7\u5bc6\u7801"},{max:30,message:"\u6700\u591a\u8f93\u516530\u4e2a\u5b57\u7b26"}]})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u5bc6\u7801"}))),u&&!Is()(r)&&o.a.createElement(dy,{label:"\u72b6\u6001",key:"status"},a("status",{rules:[{required:!0,message:"\u8bf7\u8bbe\u7f6e\u8d26\u6237\u72b6\u6001"}],initialValue:r.status})(o.a.createElement(ts.a.Group,null,o.a.createElement(ts.a,{value:"1"},"\u542f\u7528"),o.a.createElement(ts.a,{value:"2"},"\u505c\u7528")))),u&&o.a.createElement(dy,{label:"\u624b\u673a\u53f7\u7801",key:"mobile"},a("mobile",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"},{pattern:/^1([38][0-9]|4[579]|5[0-3,5-9]|6[6]|7[0135678]|9[89])\d{8}$/,message:"\u8bf7\u8f93\u5165\u5408\u6cd5\u7684\u624b\u673a\u53f7"}],initialValue:r.mobile||""})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\u7801"}))),u&&o.a.createElement(dy,{label:"\u7528\u6237\u90ae\u7bb1",key:"email"},a("email",{rules:[{max:50,message:"\u6700\u591a\u8f93\u516550\u4e2a\u5b57\u7b26"}],initialValue:r.email||""})(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u7528\u6237\u90ae\u7bb1"}))),u&&o.a.createElement(dy,{label:"\u8054\u7cfb\u5730\u5740",key:"address"},a("address",{rules:[{max:200,message:"\u6700\u591a\u8f93\u5165200\u4e2a\u5b57\u7b26"}],initialValue:r.address||""})(o.a.createElement(he.a.TextArea,{placeholder:"\u8bf7\u8f93\u5165\u8054\u7cfb\u5730\u5740",rows:3}))))}}]),t}(i.PureComponent))||RE,hy=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onSubmit=function(e){var t=a.props.record;return H.e.formSubmit("/UserAction_resetPassward","user",{id:t.id,accpwd:e.accpwd}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 1===a.flag?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.onOk,a=e.onCancel;return o.a.createElement(ls,{title:"\u5bc6\u7801\u91cd\u7f6e",onOk:t,onCancel:a,onSubmit:this.onSubmit,configList:[{label:"\u66f4\u6539\u5bc6\u7801",type:"input",key:"accpwd",required:!0},{label:"\u786e\u8ba4\u5bc6\u7801",type:"input",key:"confirmAccpwd",required:!0,rules:[{required:!0,message:"\u8bf7\u518d\u6b21\u8f93\u5165\u5bc6\u7801\uff01"},{validator:function(e,t,a){var n=this.props.form;t&&t!==n.getFieldValue("accpwd")?a("\u4e24\u6b21\u5bc6\u7801\u8f93\u5165\u4e0d\u4e00\u81f4!"):a()}}]}]})}}]),t}(i.Component),gy=(a(746),a(404)),fy=(a(1335),a(530)),by=fy.a.Panel,Ey=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,newAccountLoading:!1,confirmLoading:!1,list:[],showNewPanel:!1,query:{},paging:{current:1,pageSize:10,total:10},newAccountList:[]},a.onPanelChange=function(e){Array.isArray(e)&&e.includes("new")&&!a.state.showNewPanel&&(a.setState({showNewPanel:!0}),a.handleNewSearch(a.state.query))},a.handlePageChange=function(e,t){a.handleNewSearch(a.state.query,e,t)},a.handleNewSearch=function(e,t,n){return a.setState({newAccountLoading:!0}),H.e.formSubmit("/UserAction_searchHiddenUserVOByPage","user",Object(E.a)({},e),{pageNum:t||a.state.paging.current,pageSize:n||a.state.paging.pageSize}).then(function(e){var t=e.data,n=void 0===t?{}:t;if("string"===typeof n)try{n=JSON.parse(n)}catch(r){return Promise.reject(r.message)}if(0!==n.result)return Promise.reject(n.msg||"\u83b7\u53d6\u6570\u636e\u5931\u8d25");a.setState({newAccountList:n.list||[],paging:{current:n.page&&n.page.pageNum,pageSize:n.page&&n.page.pageSize,total:n.page&&n.page.total},newAccountLoading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({newAccountLoading:!1,newAccountList:[],paging:{current:1,pageSize:10,total:10}})})},a.handleSearch=function(){var e=a.props.record.id;if(e)return a.setState({loading:!0}),H.e.formSubmit("/UserAction_getBindingList","",{mainuserid:e}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!==n.result)return Promise.reject(n.msg||"\u83b7\u53d6\u6570\u636e\u5931\u8d25");a.setState({list:n.list||[],loading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1,list:[]})});S.a.error("\u6570\u636e\u83b7\u53d6\u5931\u8d25")},a.addAccount=function(e){return function(t){var n=a.state.list;n.map(function(e){return e.id}).includes(e.id)||(n.push(e),a.setState({list:n}))}},a.renderColumns=function(){var e=a.state.list,t=void 0===e?[]:e,n=[].concat(Oy);return n.push({title:"\u64cd\u4f5c",width:120,align:"center",fixed:"right",render:function(e,n){var r=t.map(function(e){return e.id});return"1"===n.isBindingDualAccount?o.a.createElement(re.a,{icon:"stop",type:"danger",disabled:!0},"\u5df2\u7ed1\u5b9a"):r.includes(n.id)?o.a.createElement(re.a,{icon:"check",type:"primary",disabled:!0},"\u5df2\u6dfb\u52a0"):o.a.createElement(re.a,{icon:"plus",onClick:a.addAccount(n)},"\u6dfb\u52a0")}}),n},a.removeItem=function(e){return function(t){var n=a.state.list;e>=0&&e<n.length&&(n.splice(e,1),a.setState({list:n}))}},a.handleOk=function(){var e=a.state.list,t=a.props.record.id;if(t)return a.setState({confirmLoading:!0}),H.e.formSubmit("/UserAction_bindingUser","",{mainuserid:t,subuserids:e.map(function(e){return e.id}).join()}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(0!==n.result)return Promise.reject(n.msg||"\u5173\u8054\u6570\u636e\u5931\u8d25");a.setState({confirmLoading:!1}),S.a.success(n.msg||"\u5173\u8054\u4f01\u4e1a\u8d26\u53f7\u6210\u529f\uff01"),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({confirmLoading:!1})});S.a.error("\u6570\u636e\u5f02\u5e38\uff0c\u8bf7\u91cd\u8bd5")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.loading,n=t.confirmLoading,r=t.list,i=t.newAccountList,l=t.newAccountLoading,c=t.query,s=t.paging;return o.a.createElement(z.a,{title:"\u4f01\u4e1a\u7ed1\u5b9a",width:1100,onOk:this.handleOk,onCancel:this.props.onCancel,visible:!0,confirmLoading:n,destroyOnClose:!0},o.a.createElement(vc.a,{spinning:a},o.a.createElement(fy.a,{defaultActiveKey:["done"],onChange:this.onPanelChange},o.a.createElement(by,{header:"\u5df2\u7ed1\u5b9a",key:"done"},o.a.createElement("div",{style:{minHeight:"143px"}},r.length>0?o.a.createElement(N.a,{gutter:16},r.map(function(t,a){return o.a.createElement(L.a,{span:8,key:a},o.a.createElement(R.a,{size:"small",title:t.departname,extra:o.a.createElement(gy.a,{title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5".concat(t.departtypeName,"\uff1f"),onConfirm:e.removeItem(a),okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},o.a.createElement(k.a,{type:"close"})),style:{width:300,marginBottom:"10px"}},o.a.createElement("p",null,"\u8d26\u53f7\u540d\u79f0\uff1a".concat(t.employeename)),o.a.createElement("p",null,"\u4f01\u4e1a\u7c7b\u578b\uff1a".concat(t.departtypeName))))})):o.a.createElement(OE.a,null))),o.a.createElement(by,{header:"\u65b0\u589e\u7ed1\u5b9a",key:"new"},o.a.createElement(vc.a,{spinning:l},o.a.createElement(Gf,{formItemList:[yy,vy,kt],query:c,onUpdateQuery:function(t){e.setState({query:t})},onSearch:this.handleNewSearch}),o.a.createElement(ae,{columns:this.renderColumns(),loading:l,data:i,paging:s,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id",scroll:{x:"max-content"},size:"small"}))))))}}]),t}(i.Component),yy=function(e){return o.a.createElement(L.a,{md:8,sm:24,key:"departname"},o.a.createElement(ie.a.Item,{label:"\u4f01\u4e1a\u540d\u79f0"},e("departname")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u4f01\u4e1a\u540d\u79f0"}))))},vy=function(e){return o.a.createElement(L.a,{md:8,sm:24,key:"employeename"},o.a.createElement(ie.a.Item,{label:"\u8d26\u53f7\u540d\u79f0"},e("employeename")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u8d26\u53f7\u540d\u79f0"}))))},Oy=[{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"employeename"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"departtypeName"},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"departname"}],Sy=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,list:[],paging:{current:1,pageSize:10,total:10},value:{},showAccountModal:!1,showResetPDModal:!1,showEnterpriseModal:!1,record:{}},a.handleCancel=function(){a.setState({showAccountModal:!1,showResetPDModal:!1,showEnterpriseModal:!1})},a.handleOk=function(){a.handleCancel(),a.handleSearch(a.state.value)},a.handlePageChange=function(e,t){a.handleSearch(a.state.value,e,t)},a.handleSearch=function(e,t,n){return a.setState({loading:!0}),H.e.formSubmit("/UserAction_searchDualUserVOByPage","user",a.state.value,{pageNum:t||a.state.paging.current,pageSize:n||a.state.paging.pageSize}).then(function(e){var t=e.data,n=void 0===t?{}:t;if("string"===typeof n)try{n=JSON.parse(n)}catch(r){return Promise.reject(r.message)}if(0!==n.result)return Promise.reject(n.msg||"\u83b7\u53d6\u6570\u636e\u5931\u8d25");a.setState({list:n.list||[],paging:{current:n.page&&n.page.pageNum,pageSize:n.page&&n.page.pageSize,total:n.page&&n.page.total},loading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1,list:[],paging:{current:1,pageSize:10,total:10}})})},a.removeAccount=function(e){return function(){if(e&&e.id){var t=Object(Oc.a)(Object(Oc.a)(a));z.a.confirm({title:"\u786e\u5b9a\u8981\u5220\u9664\u8be5\u8d26\u53f7\uff1f",onOk:function(){return t.setState({loading:!0}),H.e.formSubmit("/UserAction_deleteMoreUserByIds","",{ids:e.id}).then(function(e){var a=e.data,n=void 0===a?{}:a;if(1!==n.flag)return Promise.reject(n.msg||"\u5220\u9664\u8d26\u53f7\u5931\u8d25");t.setState({loading:!1}),t.handleSearch(t.state.value)}).catch(function(e){S.a.error(e.message||e),t.setState({loading:!1})})}})}}},a.updateQuery=function(e){var t=e.value,n=void 0===t?{}:t;a.setState({value:n})},a.showAccountModal=function(e){return function(t){a.setState({showAccountModal:!0,record:e})}},a.showEnterpriseModal=function(e){return function(t){a.setState({showEnterpriseModal:!0,record:e})}},a.showResetPDModal=function(e){return function(t){a.setState({showResetPDModal:!0,record:e})}},a.renderColumns=function(){var e=[].concat(Iy);return e.push({title:"\u64cd\u4f5c",width:120,fixed:"right",render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showAccountModal(t)},o.a.createElement(G.a,{title:"\u4fee\u6539\u57fa\u672c\u4fe1\u606f"},o.a.createElement(k.a,{type:"edit",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showEnterpriseModal(t)},o.a.createElement(G.a,{title:"\u7ed1\u5b9a\u4f01\u4e1a"},o.a.createElement(k.a,{type:"control"}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.showResetPDModal(t)},o.a.createElement(G.a,{title:"\u5bc6\u7801\u91cd\u7f6e"},o.a.createElement(k.a,{type:"undo",style:{color:"red"}}))),o.a.createElement(W.a,{type:"vertical"}),o.a.createElement("a",{href:"javascript:;",className:"operButton",onClick:a.removeAccount(t)},o.a.createElement(G.a,{title:"\u5220\u9664\u8d26\u53f7"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}),e},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.state.value)}},{key:"render",value:function(){var e=this,t=this.props.match,a=this.state,n=a.loading,r=a.list,i=a.paging,l=a.value,c=a.record;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,onUpdateQuery:this.updateQuery,query:{value:l,expandForm:!1}})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumns(),loading:n,data:r,paging:i,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id"})),this.state.showAccountModal&&o.a.createElement(py,{onOk:this.handleOk,onCancel:this.handleCancel,record:c}),this.state.showResetPDModal&&c&&o.a.createElement(hy,{onOk:this.handleOk,onCancel:this.handleCancel,record:c}),this.state.showEnterpriseModal&&c&&o.a.createElement(Ey,{onOk:this.handleOk,onCancel:this.handleCancel,record:c}),o.a.createElement(Ic.a,null,o.a.createElement(re.a,{icon:"plus",type:"primary",onClick:function(){e.setState({showAccountModal:!0,record:{}})}},"\u65b0\u589e")))}}]),t}(i.Component),Iy=[{title:"\u8d26\u53f7\u540d\u79f0",dataIndex:"employeename"},{title:"\u767b\u5f55\u8d26\u53f7",dataIndex:"accid"},{title:"\u4f01\u4e1a\u7c7b\u578b",dataIndex:"departtypeName"},{title:"\u4f01\u4e1a\u540d\u79f0",dataIndex:"departname"},{title:"\u72b6\u6001",dataIndex:"statusName"},{title:"\u624b\u673a\u53f7\u7801",dataIndex:"mobile"},{title:"\u90ae\u7bb1",dataIndex:"email"}];function Cy(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list"),component:Sy}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list")}))}var _y=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(Z.a,{columns:t.columns,dataSource:this.props.data,bordered:!0,title:null,footer:null,showHeader:!1,loading:this.props.loading,pagination:!1}))}}]),t}(i.PureComponent);_y.defaultProps={loading:!1,data:[]},_y.columns=[{title:"key",dataIndex:"key"},{title:"value",dataIndex:"value"}];var Ty,Ay,ky,wy,jy=_y,xy=ie.a.Item,Dy=ie.a.create()(Ty=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.amountValidator=function(e,t,n){console.log(t),(Number(t)>Number(a.props.max)||Number(t)<0)&&n("\u5f00\u7968\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u8ba2\u5355\u91d1\u989d \uff01"),n()},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"},{validator:a.amountValidator}],a.renderForm=function(){var e=a.props,t=e.max,n=e.form.getFieldDecorator,r={labelCol:{span:10},wrapperCol:{span:10}};return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(xy,Object.assign({label:"\u8ba2\u5355\u91d1\u989d"},r),o.a.createElement("span",{className:"ant-form-text"},t,"\u5143")),o.a.createElement(xy,Object.assign({label:"\u5b9e\u9645\u4ea7\u751f\u91d1\u989d"},r,{required:!0}),n("amount",{rules:a.requiredRule})(o.a.createElement(he.a,{type:"number",addonAfter:o.a.createElement("span",null,"\u5143")}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||Ty,My=ie.a.Item,Ny=he.a.TextArea,Ly=ie.a.create()(Ay=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).requiredRule=[{type:"string",required:!0,message:"\u8bf7\u8f93\u5165\uff01"},{max:200,message:"\u5907\u6ce8\u4e0d\u80fd\u8d85\u8fc7200\u4e2a\u5b57\u7b26"}],a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.renderForm=function(){var e=a.props.form.getFieldDecorator;return o.a.createElement(ie.a,{onSubmit:a.handleSubmit},o.a.createElement(My,Object.assign({label:"\u5907\u6ce8"},{labelCol:{span:6},wrapperCol:{span:16}},{required:!0}),e("remark",{rules:a.requiredRule})(o.a.createElement(Ny,{rows:4}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||Ay,Ry=(ie.a.Item,ie.a.create()(ky=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.amountValidator=function(e,t,n){(Number(t)>Number(a.props.max)||Number(t)<0)&&n("\u9000\u6b3e\u91d1\u989d\u4e0d\u80fd\u5927\u4e8e\u8ba2\u5355\u91d1\u989d !"),n()},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"},{validator:a.amountValidator}],a.requiredDate=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.renderForm=function(){new Date;var e=a.props,t=(e.max,e.form.getFieldDecorator);return o.a.createElement(ie.a,{labelCol:{span:8},wrapperCol:{span:12},onSubmit:a.handleSubmit},o.a.createElement(ie.a.Item,{label:"\u9000\u6b3e\u91d1\u989d\uff1a",wrapperCol:{span:10}},t("refundAmount",{rules:a.requiredRule})(o.a.createElement(he.a,{type:"number",addonAfter:o.a.createElement("span",null,"\u5143")}))),o.a.createElement(ie.a.Item,{label:"\u8ba2\u5355\u5b9e\u9645\u7ed3\u675f\u65f6\u95f4\uff1a",wrapperCol:{span:12}},t("endDate",{rules:a.requiredDate,initialValue:je()()})(o.a.createElement(ge.a,{showTime:!0}))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||ky),Py=z.a.confirm,Uy=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={logModalVisible:!1,logs:{list:[],loading:!0},invoiceInfoModalVisible:!1,invoiceInfo:[],invoiceCompleteInfo:[],invoiceConfirmModalVisible:!1,invoiceConfirmModalLoading:!1,invoiceLogsModalVisible:!1,invoiceLogs:{list:[],loading:!0},remarkModalVisible:!1,remarkModalLoading:!1,refundConfirmModalVisible:!1,orderUpdOrderExpVisible:!1},a.logColumns=[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"operTime",align:"center"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"name"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operUserName"},{title:"\u63cf\u8ff0",dataIndex:"description",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return o.a.createElement(G.a,{placement:"topLeft",title:e},e)}}],a.invoiceLogColumns=[{title:"\u63cf\u8ff0",dataIndex:"remark",align:"left",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return o.a.createElement(G.a,{placement:"topLeft",title:e},e)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"createUserName",align:"left"},{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"createTime",align:"left"}],a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumns=function(){var e=a.props.match,t=_l(e.path);return t.map(function(t){"orderAction"===t.dataIndex&&(t.render=function(t,n){return e.path.startsWith("/orderManagement/list")?"/orderManagement/list/doneOrderList"===e.path?o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.orderUpdOrderExp(n)},"\u4fee\u6539\u5f00\u59cb\u65f6\u95f4"),"\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.showLogModal(n)},"\u64cd\u4f5c\u65e5\u5fd7")):o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.showLogModal(n)},"\u64cd\u4f5c\u65e5\u5fd7")):e.path.startsWith("/invoiceManagement/list")?"/invoiceManagement/list/todoInvoiceList"===e.path?o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.showInvoiceInfoModal(n)},"\u67e5\u770b\u5f00\u7968\u4fe1\u606f"),"\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.showInvoiceConfirmModal(n)},"\u5f00\u7968")):o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.showInvoiceInfoModal(n)},"\u67e5\u770b\u5f00\u7968\u4fe1\u606f"),"\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.showInvoiceLogsModal(n)},"\u67e5\u770b\u5907\u6ce8")):e.path.startsWith("/refundManagement/list")?o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.showRefundModal(n)},"\u9000\u6b3e"),"\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.showRejectModal(n)},"\u62d2\u7edd")):null})}),t},a.orderUpdOrderExp=function(e){return function(){a.setState({orderUpdOrderExpVisible:!0,invoiceCompleteInfo:e})}},a.updOrderExpSubmitOk=function(){a.setState({orderUpdOrderExpVisible:!1}),a.handlePageChange()},a.updOrderExpSubmit=function(e,t){return H.d.post("/OrderAction_updOrderExp",{orderNo:t.orderNo,effectiveStartDate:cn(e.effectiveStartDate.hour(0).minute(0).second(0))}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 0===a.result?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a.showLogModal=function(e){return function(){a.setState({logModalVisible:!0});H.d.post("/OrderAction_searchOrderRecordList",{orderNo:e.orderNo,pageNum:1,pageSize:10}).then(function(e){console.log(e),a.setState({logs:{loading:!1,list:e.data.list||[]}})}).catch(function(e){S.a.error(e.msg||e),a.setState({logModalVisible:!1})})}},a.showInvoiceInfoModal=function(e){return function(){var t=[];t.push({key:"\u5f00\u7968\u65b9\u5f0f",value:e.invoiceTypeStr}),t.push({key:"\u5f00\u7968\u7c7b\u578b",value:e.invoicingMethodStr}),t.push({key:"\u62ac\u5934\u7c7b\u578b",value:1===e.titleType?"\u4e2a\u4eba":"\u4f01\u4e1a"}),t.push({key:"\u53d1\u7968\u62ac\u5934",value:e.invoiceTitle}),t.push({key:"\u7a0e\u53f7",value:e.invoiceTaxNo}),t.push({key:"\u6536\u4ef6\u4eba",value:e.name}),t.push({key:"\u6536\u4ef6\u4eba\u7535\u8bdd",value:e.mobile}),t.push({key:"\u6536\u4ef6\u5730\u5740",value:e.address}),t.push({key:"\u6536\u4ef6\u90ae\u7bb1",value:e.email}),t.push({key:"\u5f00\u6237\u94f6\u884c",value:e.bankName}),t.push({key:"\u94f6\u884c\u8d26\u53f7",value:e.bankAccount}),t.push({key:"\u4f01\u4e1a\u5730\u5740",value:e.companyAddress}),t.push({key:"\u4f01\u4e1a\u7535\u8bdd",value:e.telphone}),a.setState({invoiceInfoModalVisible:!0,invoiceInfo:t})}},a.showInvoiceConfirmModal=function(e){return function(){a.setState({invoiceConfirmModalVisible:!0,invoiceCompleteInfo:e})}},a.showRefundModal=function(e){return function(){a.setState({refundConfirmModalVisible:!0,invoiceCompleteInfo:e})}},a.showRejectModal=function(e,t,n){return function(){var r=Object(Oc.a)(Object(Oc.a)(a));Py({title:"\u786e\u8ba4\u62d2\u7edd\u9000\u6b3e?",onOk:function(){H.d.post("/OrderAction_rejectRefund",{orderNo:e.orderNo}).then(function(e){0===e.data.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),r.handleSearch(r.props.query.value,t,n)):S.a.error(e.data.msg)}).catch(function(e){S.a.error("\u7f51\u7edc\u9519\u8bef")})}})}},a.showInvoiceLogsModal=function(e){return function(){console.log("\u67e5\u627e\u5907\u6ce8"),a.setState({invoiceLogsModalVisible:!0,invoiceCompleteInfo:e});H.d.post("/InvoiceAction_searchRemarkList",{invoiceId:e.id,pageNum:1,pageSize:10}).then(function(e){console.log(e),a.setState({invoiceLogs:{loading:!1,list:e.data.list||[]}})}).catch(function(e){S.a.error(e.message||e),a.setState({logModalVisible:!1})})}},a.confirmModalOk=function(){a.confirmForm&&a.confirmForm.handleSubmit()},a.confirmFormOk=function(e,t,n){a.setState({invoiceConfirmModalLoading:!0});H.d.post("/InvoiceAction_completeInvoice",{id:a.state.invoiceCompleteInfo.id,invoiceAmount:e.amount}).then(function(e){0===e.data.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({invoiceConfirmModalLoading:!1,invoiceInfo:[],invoiceConfirmModalVisible:!1}),a.handleSearch(a.props.query.value,t,n)):(S.a.error(e.data.msg||e),a.setState({invoiceConfirmModalLoading:!1}))}).catch(function(e){a.setState({invoiceConfirmModalLoading:!1,invoiceInfo:[],invoiceConfirmModalVisible:!1})})},a.refundHandleSubmit=function(e,t,n){a.setState({invoiceConfirmModalLoading:!0});H.d.post("/OrderAction_completeRefund",{orderNo:a.state.invoiceCompleteInfo.orderNo,endDate:e.endDate.format("YYYY-MM-DD HH:mm:ss"),refundAmount:+e.refundAmount}).then(function(e){0===e.data.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({refundConfirmModalVisible:!1,invoiceConfirmModalLoading:!1}),a.handleSearch(a.props.query.value,t,n)):(S.a.error(e.data.msg||e),a.setState({refundConfirmModalVisible:!1,invoiceConfirmModalLoading:!1}))}).catch(function(e){a.setState({refundConfirmModalVisible:!1,invoiceConfirmModalLoading:!1})})},a.showRemarkModal=function(){console.log("clicked"),a.setState({remarkModalVisible:!0})},a.remarkModalOk=function(){a.remarkForm&&a.remarkForm.handleSubmit()},a.remarkModalCancel=function(){a.setState({remarkModalVisible:!1,remarkModalLoading:!1})},a.remarkFormOk=function(e){a.setState({remarkModalLoading:!0});H.d.post("/InvoiceAction_addRemark",{invoiceId:a.state.invoiceCompleteInfo.id,remark:e.remark}).then(function(e){0===e.data.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({remarkModalVisible:!1,remarkModalLoading:!1}),a.showInvoiceLogsModal(a.state.invoiceCompleteInfo)()):(S.a.error(e.data.msg||e),a.setState({remarkModalLoading:!1}))}).catch(function(e){S.a.error(e.message||e),a.setState({remarkModalVisible:!1,remarkModalLoading:!1})})},a.handleCancel=function(){a.setState({logModalVisible:!1,logs:{loading:!0,list:[]},invoiceInfoModalVisible:!1,invoiceInfo:[],invoiceConfirmModalVisible:!1,invoiceLogsModalVisible:!1,invoiceLogs:{list:[],loading:!0},remarkModalVisible:!1,refundConfirmModalVisible:!1,orderUpdOrderExpVisible:!1})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.loading,i=t.list,l=t.paging,c=this.state,s=c.logModalVisible,d=c.logs,u=c.invoiceConfirmModalVisible,p=c.invoiceConfirmModalLoading,m=c.invoiceInfoModalVisible,h=c.invoiceInfo,g=c.invoiceLogsModalVisible,f=c.invoiceLogs,b=c.invoiceCompleteInfo,E=c.remarkModalVisible,y=c.remarkModalLoading,v=c.refundConfirmModalVisible,O=c.orderUpdOrderExpVisible;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumns(),loading:r,data:i,paging:l,onChange:this.handlePageChange,onPageChange:this.handlePageChange,onSelectRow:this.handleSelectRow,onOperMultipleRow:this.handleExportRow})),o.a.createElement(z.a,{title:"\u64cd\u4f5c\u65e5\u5fd7",visible:s,onCancel:this.handleCancel,width:900,footer:null,destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(Z.a,{dataSource:d.list||[],columns:this.logColumns,loading:d.loading,rowKey:"id",pagination:!1}))),O&&o.a.createElement(ls,{title:"\u4fee\u6539\u5f00\u59cb\u65f6\u95f4",onOk:this.updOrderExpSubmitOk,onCancel:this.handleCancel,onSubmit:this.updOrderExpSubmit,record:b,configList:[{label:"\u539f\u5f00\u59cb\u65f6\u95f4",type:"label",key:"effectiveStartDate"},{label:"\u4fee\u6539\u5f00\u59cb\u65f6\u95f4",type:"datePicker",key:"effectiveStartDate",required:!0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u65f6\u95f4\uff01"}]}]}),o.a.createElement(z.a,{title:"\u5f00\u7968",visible:u,onOk:this.confirmModalOk,onCancel:this.handleCancel,confirmLoading:p,okText:"\u5f00\u7968",cancelText:"\u53d6\u6d88",destroyOnClose:!0},o.a.createElement(Dy,{wrappedComponentRef:function(t){return e.confirmForm=t},max:b.orderAmount,onSubmit:this.confirmFormOk})),o.a.createElement(z.a,{title:"\u9000\u6b3e",visible:v,confirmLoading:p,onOk:this.confirmModalOk,onCancel:this.handleCancel,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},o.a.createElement(Ry,{wrappedComponentRef:function(t){return e.confirmForm=t},max:b.orderAmountTotal,onSubmit:this.refundHandleSubmit})),o.a.createElement(z.a,{title:"\u5f00\u7968\u4fe1\u606f",visible:m,onCancel:this.handleCancel,width:780,footer:null,destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(jy,{data:h}))),o.a.createElement(z.a,{title:"\u5907\u6ce8\u4fe1\u606f",visible:g,onCancel:this.handleCancel,width:900,footer:null,destroyOnClose:!0},o.a.createElement("div",{style:{display:"flex","justify-content":"flex-end"}},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.showRemarkModal},"+\u65b0\u589e\u5907\u6ce8")),o.a.createElement("div",null,o.a.createElement(Z.a,{dataSource:f.list||[],columns:this.invoiceLogColumns,loading:f.loading,rowKey:"id",pagination:!1}),o.a.createElement(z.a,{title:"\u65b0\u589e\u5907\u6ce8",onCancel:this.remarkModalCancel,onOk:this.remarkModalOk,confirmLoading:y,visible:E,width:780,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(Ly,{wrappedComponentRef:function(t){return e.remarkForm=t},onSubmit:this.remarkFormOk}))))))}}]),t}(i.Component),Yy=Object(Y.a)((wy={},Object(U.a)(wy,"YICHAKU/EWORDERLIST/FETCH_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/FETCH_PRIMARY_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDone:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/FETCH_PRIMARY_GONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryGone:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/UPDATE_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/UPDATE_PRIMARY_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDoneQuery:Object(E.a)({},e.primaryDoneQuery,t.payload)})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/UPDATE_PRIMARY_GONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryGoneQuery:Object(E.a)({},e.primaryGoneQuery,t.payload)})}}),Object(U.a)(wy,"YICHAKU/EWORDERLIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),wy),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryDone:{list:[],paging:{current:1,pageSize:10,total:10}},primaryGone:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{status:1},expandForm:!1},primaryDoneQuery:{value:{status:2},expandForm:!1},primaryGoneQuery:{value:{status:3},expandForm:!1}}),Fy=Object(F.a)("YICHAKU/EWORDERLIST/FETCH_PRIMARY_TODO_QUERY",function(e,t){return H.d.post("/OrderAction_searchOrders",Object(E.a)({},e,t))}),Hy=Object(F.a)("YICHAKU/EWORDERLIST/FETCH_PRIMARY_DONE_QUERY",function(e,t){return H.d.post("/OrderAction_searchOrders",Object(E.a)({},e,t))}),Ky=Object(F.a)("YICHAKU/EWORDERLIST/FETCH_PRIMARY_GONE_QUERY",function(e,t){return H.d.post("/OrderAction_searchOrders",Object(E.a)({},e,t))}),qy=Object(F.a)("YICHAKU/EWORDERLIST/UPDATE_PRIMARY_TODO_QUERY"),By=Object(F.a)("YICHAKU/EWORDERLIST/UPDATE_PRIMARY_DONE_QUERY"),Vy=Object(F.a)("YICHAKU/EWORDERLIST/UPDATE_PRIMARY_GONE_QUERY");var Qy=Object(h.b)(function(e){return{loading:e.ewOrderList.loading,list:e.ewOrderList.primaryTodo.list,paging:e.ewOrderList.primaryTodo.paging,query:e.ewOrderList.primaryTodoQuery}},function(e){return{fetch:function(t,a){return e(Fy(t,a))},updateQuery:function(t){t.value.status=1,e(qy(Object(E.a)({},t)))}}})(Uy);var zy=Object(h.b)(function(e){return{loading:e.ewOrderList.loading,list:e.ewOrderList.primaryGone.list,paging:e.ewOrderList.primaryGone.paging,query:e.ewOrderList.primaryGoneQuery}},function(e){return{fetch:function(t,a){return e(Ky(t,a))},updateQuery:function(t){t.value.status=3,e(Vy(Object(E.a)({},t)))}}})(Uy);var Wy,Gy=Object(h.b)(function(e){return{loading:e.ewOrderList.loading,list:e.ewOrderList.primaryDone.list,paging:e.ewOrderList.primaryDone.paging,query:e.ewOrderList.primaryDoneQuery}},function(e){return{fetch:function(t,a){return e(Hy(t,a))},updateQuery:function(t){t.value.status=2,e(By(Object(E.a)({},t)))}}})(Uy),Xy=Object(Y.a)((Wy={},Object(U.a)(Wy,"YICHAKU/EWINVOICELIST/FETCH_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Wy,"YICHAKU/EWINVOICELIST/FETCH_PRIMARY_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDone:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(Wy,"YICHAKU/EWINVOICELIST/UPDATE_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)(Wy,"YICHAKU/EWINVOICELIST/UPDATE_PRIMARY_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryDoneQuery:Object(E.a)({},e.primaryDoneQuery,t.payload)})}}),Object(U.a)(Wy,"YICHAKU/EWINVOICELIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Wy),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryDone:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{status:1},expandForm:!1},primaryDoneQuery:{value:{status:2},expandForm:!1}}),Jy=Object(F.a)("YICHAKU/EWINVOICELIST/FETCH_PRIMARY_TODO_QUERY",function(e,t){return H.d.post("/InvoiceAction_searchInvoices",Object(E.a)({},e,t))}),Zy=Object(F.a)("YICHAKU/EWINVOICELIST/FETCH_PRIMARY_DONE_QUERY",function(e,t){return H.d.post("/InvoiceAction_searchInvoices",Object(E.a)({},e,t))}),$y=Object(F.a)("YICHAKU/EWINVOICELIST/UPDATE_PRIMARY_TODO_QUERY"),ev=Object(F.a)("YICHAKU/EWINVOICELIST/UPDATE_PRIMARY_DONE_QUERY");var tv=Object(h.b)(function(e){return{loading:e.ewInvoiceList.loading,list:e.ewInvoiceList.primaryDone.list,paging:e.ewInvoiceList.primaryDone.paging,query:e.ewInvoiceList.primaryDoneQuery}},function(e){return{fetch:function(t,a){return e(Zy(t,a))},updateQuery:function(t){t.value.status=2,e(ev(Object(E.a)({},t)))}}})(Uy);var av,nv=Object(h.b)(function(e){return{loading:e.ewInvoiceList.loading,list:e.ewInvoiceList.primaryTodo.list,paging:e.ewInvoiceList.primaryTodo.paging,query:e.ewInvoiceList.primaryTodoQuery}},function(e){return{fetch:function(t,a){return e(Jy(t,a))},updateQuery:function(t){t.value.status=1,e($y(Object(E.a)({},t)))}}})(Uy),rv=Object(Y.a)((av={},Object(U.a)(av,"YICHAKU/EWORDERLIST/FETCH_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(av,"YICHAKU/EWORDERLIST/UPDATE_PRIMARY_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)(av,"YICHAKU/EWORDERLIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),av),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{refundStatus:1},expandForm:!1}}),iv=Object(F.a)("YICHAKU/EWORDERLIST/FETCH_PRIMARY_TODO_QUERY",function(e,t){return H.d.post("/OrderAction_searchOrders",Object(E.a)({},e,t))}),ov=Object(F.a)("YICHAKU/EWORDERLIST/UPDATE_PRIMARY_TODO_QUERY");var lv=Object(h.b)(function(e){return{loading:e.ewRefundList.loading,list:e.ewRefundList.primaryTodo.list,paging:e.ewRefundList.primaryTodo.paging,query:e.ewRefundList.primaryTodoQuery}},function(e){return{fetch:function(t,a){return e(iv(t,a))},updateQuery:function(t){t.value.refundStatus=1,e(ov(Object(E.a)({},t)))}}})(Uy);function cv(e){var t=e.match;return console.log(t),o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoOrderList"),component:Qy}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/doneOrderList"),component:Gy}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/goneOrderList"),component:zy}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoInvoiceList"),component:nv}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/doneInvoiceList"),component:tv}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/todoRefundList"),component:lv}),o.a.createElement(Q.a,{from:"/orderManagement",to:"".concat(t.url,"/list/todoOrderList")}),o.a.createElement(Q.a,{from:"/invoiceManagement",to:"".concat(t.url,"/list/todoInvoiceList")}),o.a.createElement(Q.a,{from:"/refundManagement",to:"".concat(t.url,"/list/todoRefundList")}))}var sv=function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)},dv=function(e){return[{title:"\u7edf\u8ba1\u65e5\u671f",dataIndex:"bookTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD")}},{title:"\u661f\u671f",dataIndex:"week"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"spotTestTypeName"},{title:"\u5f53\u65e5\u4e0b\u53d1\u4efb\u52a1\u603b\u6570",dataIndex:"totSpot",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totSpot,!1)}}},render:sv},{title:"\u5f85\u4e0a\u4f20",dataIndex:"totWaitUpload",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totWaitUpload,2)}}},render:sv},{title:"\u5f85\u5ba1\u6838",dataIndex:"totWaitAudit",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totWaitAudit,3)}}},render:sv},{title:"\u91cd\u65b0\u62cd\u7167",dataIndex:"totRetake",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totRetake,5)}}},render:sv},{title:"\u5f85\u8865\u62cd",dataIndex:"totWaitRetake",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totWaitRetake,11)}}},render:sv},{title:"\u81ea\u6211\u6807\u8bb0\u5f02\u5e38",dataIndex:"totSelfMarkExc",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totSelfMarkExc,9)}}},render:sv},{title:"\u5ba1\u6838\u901a\u8fc7",dataIndex:"totPass",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totPass,6)}}},render:sv},{title:"\u5ba1\u6838\u4e0d\u901a\u8fc7",dataIndex:"totNotPass",onCell:function(t,a){return{onClick:function(){return e(t,t.spotTestType,t.bookTime,t.totNotPass,7)}}},render:sv}]},uv=[{title:"",dataIndex:"rowTitle",align:"left"},{title:"\u8f66\u8f86\u5df2\u552e",dataIndex:"totCarSold",width:100},{title:"\u5b9a\u4f4d\u5f02\u5e38",dataIndex:"totLocErr",width:100},{title:"\u79fb\u52a8\u5230\u5176\u4ed6\u4e8c\u7f51",dataIndex:"totMoveToEw",width:200},{title:"\u79fb\u56de\u4e3b\u5e97",dataIndex:"totMoveToMain",width:100},{title:"\u4e8c\u7f51\u9519\u8bef\u64cd\u4f5c",dataIndex:"totEwOptErr",width:100},{title:"\u79fb\u52a8\u81f3\u8f66\u5c55",dataIndex:"totMoveToShow",width:100},{title:"\u64cd\u4f5c\u5f02\u5e38",dataIndex:"totOptErr",width:100},{title:"\u7cfb\u7edf\u95ee\u9898",dataIndex:"totSysErr",width:100},{title:"\u5408\u8ba1",dataIndex:"subTotal",width:100}],pv=[{title:"\u4efb\u52a1\u4e0b\u53d1\u540e\u62cd\u6444\u65f6\u95f4\u7edf\u8ba1",children:[{title:"\u4efb\u52a1\u4e0b\u53d1\u540e30\u5206\u949f\u5185\u62cd\u5b8c",dataIndex:"totUploadLt30m"},{title:"\u4efb\u52a1\u4e0b\u53d1\u540e30-60\u5206\u949f\u5185\u62cd\u5b8c",dataIndex:"totUploadLt60m"}]},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u540e\u62cd\u6444\u65f6\u95f4\u7edf\u8ba1",children:[{title:"\u770b\u5230\u8f66\u67b6\u53f7\u540e10\u5206\u949f\u5185\u62cd\u5b8c",dataIndex:"totSeeChassissLt10m"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u540e10-30\u5206\u949f\u5185\u62cd\u5b8c",dataIndex:"totSeeChassissLt30m"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u540e\u8d85\u8fc730\u5206\u949f\u62cd\u5b8c",dataIndex:"totSeeChassissGt30m"}]}],mv=[{title:"\u62bd\u67e5\u4efb\u52a1\u7f16\u53f7",dataIndex:"spottestId"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u62bd\u67e5\u65b9\u5f0f",dataIndex:"spotTestTypeName"},{title:"\u62bd\u67e5\u8f66\u8f86\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u8f66\u8f86\u4ef7\u683c (\u4e07\u5143)",dataIndex:"carprice"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4 ",dataIndex:"taskSendTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u62bd\u67e5\u786e\u8ba4\u65f6\u95f4 ",dataIndex:"spotConfirmTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5f02\u5e38\u53d1\u751f\u65f6\u95f4",dataIndex:"excTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u662f\u5426\u6539\u7ea6\u62cd\u7167\u65f6\u95f4",dataIndex:"isChangePhotoTimeName"},{title:"\u62bd\u67e5\u786e\u8ba4\u9009\u62e9\u7684\u65f6\u95f4",dataIndex:"spotConfirmSelTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4",dataIndex:"seeChassisTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"photoTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u62bd\u67e5\u7528\u65f6 (\u5206\u949f)",dataIndex:"spotConsumTime"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u62cd\u7167\u65f6\u95f4 (\u5206\u949f)",dataIndex:"seeChassisConsumTime",render:function(e){return e||""}},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"taskStatusName"},{title:"\u62bd\u67e5\u5ba1\u6838\u7ed3\u679c",dataIndex:"auditingResultName"},{title:"\u4e8c\u7f51\u5f02\u5e38\u7c7b\u578b",dataIndex:"ewExcepTypeName"},{title:" \u4e8c\u7f51\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8",dataIndex:"ewExcepTypeRemark"},{title:"\u5e73\u53f0\u5f02\u5e38\u7c7b\u578b",dataIndex:"platformExcepTypeName"},{title:"\u5e73\u53f0\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8 ",dataIndex:"platformExcepRemark"},{title:"\u6700\u7ec8\u5f02\u5e38\u7c7b\u578b",dataIndex:"bankExcReseaonName"},{title:"\u6700\u7ec8\u5f02\u5e38\u5907\u6ce8 ",dataIndex:"bankExcRemark"},{title:"\u4e8c\u7f51\u8054\u7cfb\u4eba ",dataIndex:"ewContactor"},{title:"\u4e8c\u7f51\u8054\u7cfb\u7535\u8bdd ",dataIndex:"ewMobile"},{title:"\u4e8c\u7f51\u62e8\u6253\u65f6\u95f4 ",dataIndex:"ewCalltime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u4e8c\u7f51\u662f\u5426\u63a5\u901a",dataIndex:"ewGetCallName"},{title:"\u4e8c\u7f51\u63a5\u901a\u6b21\u6570",dataIndex:"ewGetcalltimes",render:function(e){return e||""}},{title:"\u4e8c\u7f51\u672a\u63a5\u901a\u6b21\u6570 ",dataIndex:"ewNogetcalltimes",render:function(e){return e||""}},{title:" \u4e8c\u7f51\u53cd\u9988\u7c7b\u578b ",dataIndex:"ewReplyName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5185\u5bb9",dataIndex:"ewReplyContentName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5177\u4f53\u539f\u56e0",dataIndex:"ewReplyReasonName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5907\u6ce8",dataIndex:"ewRemark"},{title:"\u7ecf\u9500\u5546\u8054\u7cfb\u4eba ",dataIndex:"distContactor"},{title:"\u7ecf\u9500\u5546\u8054\u7cfb\u7535\u8bdd ",dataIndex:"distMobile"},{title:"\u7ecf\u9500\u5546\u62e8\u6253\u65f6\u95f4 ",dataIndex:"distCalltime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u7ecf\u9500\u5546\u662f\u5426\u63a5\u901a",dataIndex:"distGetCallName"},{title:"\u7ecf\u9500\u5546\u63a5\u901a\u6b21\u6570",dataIndex:"distGetcalltimes",render:function(e){return e||""}},{title:"\u7ecf\u9500\u5546\u672a\u63a5\u901a\u6b21\u6570 ",dataIndex:"distNogetcalltimes",render:function(e){return e||""}},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u7c7b\u578b ",dataIndex:"distReplyName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5185\u5bb9",dataIndex:"distReplyContentName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5177\u4f53\u539f\u56e0",dataIndex:"distReplyReasonName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5907\u6ce8",dataIndex:"distRemark"}],hv=[{title:"\u79fb\u52a8\u4efb\u52a1\u7f16\u53f7",dataIndex:"moveId"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"moveInEwName"},{title:"\u62bd\u67e5\u7c7b\u578b",dataIndex:"spotTestTypeName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u8f66\u8f86\u4ef7\u683c (\u4e07\u5143)",dataIndex:"carprice"},{title:"\u8f66\u8f86\u79fb\u52a8\u7533\u8bf7\u65f6\u95f4 ",dataIndex:"applyTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u62bd\u67e5\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"uploadTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u5f02\u5e38\u53d1\u751f\u65f6\u95f4",dataIndex:"excTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u786e\u8ba4\u79fb\u52a8\u65f6\u95f4",dataIndex:"reviewTime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"taskStatusName"},{title:"\u8f66\u8f86\u72b6\u6001 ",dataIndex:"carStatusName"},{title:"\u5e73\u53f0\u5f02\u5e38\u7c7b\u578b",dataIndex:"platformExcepTypeName"},{title:"\u5e73\u53f0\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8 ",dataIndex:"platformExcepRemark"},{title:"\u6700\u7ec8\u5f02\u5e38\u7c7b\u578b",dataIndex:"bankExcReseaonName"},{title:"\u6700\u7ec8\u5f02\u5e38\u5907\u6ce8 ",dataIndex:"bankExcRemark"},{title:"\u4e8c\u7f51\u8054\u7cfb\u4eba ",dataIndex:"ewContactor"},{title:"\u4e8c\u7f51\u8054\u7cfb\u7535\u8bdd ",dataIndex:"ewMobile"},{title:"\u4e8c\u7f51\u62e8\u6253\u65f6\u95f4 ",dataIndex:"ewCalltime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u4e8c\u7f51\u662f\u5426\u63a5\u901a",dataIndex:"ewGetCallName"},{title:"\u4e8c\u7f51\u63a5\u901a\u6b21\u6570",dataIndex:"ewGetcalltimes",render:function(e){return e||""}},{title:"\u4e8c\u7f51\u672a\u63a5\u901a\u6b21\u6570 ",dataIndex:"ewNogetcalltimes",render:function(e){return e||""}},{title:" \u4e8c\u7f51\u53cd\u9988\u7c7b\u578b ",dataIndex:"ewReplyName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5185\u5bb9",dataIndex:"ewReplyContentName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5177\u4f53\u539f\u56e0",dataIndex:"ewReplyReasonName"},{title:"\u4e8c\u7f51\u53cd\u9988\u5907\u6ce8",dataIndex:"ewRemark"},{title:"\u7ecf\u9500\u5546\u8054\u7cfb\u4eba ",dataIndex:"distContactor"},{title:"\u7ecf\u9500\u5546\u8054\u7cfb\u7535\u8bdd ",dataIndex:"distMobile"},{title:"\u7ecf\u9500\u5546\u62e8\u6253\u65f6\u95f4 ",dataIndex:"distCalltime",render:function(e){return e&&e.time&&je.a.unix(e.time/1e3).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u7ecf\u9500\u5546\u662f\u5426\u63a5\u901a",dataIndex:"distGetCallName"},{title:"\u7ecf\u9500\u5546\u63a5\u901a\u6b21\u6570",dataIndex:"distGetcalltimes",render:function(e){return e||""}},{title:"\u7ecf\u9500\u5546\u672a\u63a5\u901a\u6b21\u6570 ",dataIndex:"distNogetcalltimes",render:function(e){return e||""}},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u7c7b\u578b ",dataIndex:"distReplyName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5185\u5bb9",dataIndex:"distReplyContentName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5177\u4f53\u539f\u56e0",dataIndex:"distReplyReasonName"},{title:"\u7ecf\u9500\u5546\u53cd\u9988\u5907\u6ce8",dataIndex:"distRemark"}],gv=a(113),fv=a.n(gv),bv=a(167),Ev=a(96),yv=a.n(Ev),vv=a(28),Ov=a.n(vv),Sv=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={spotTree:[]},a.componentDidMount=Object(bv.a)(fv.a.mark(function e(){return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.handleSearch();case 2:setTimeout(function(){a.drawLevel(1)},10);case 3:case"end":return e.stop()}},e)})),a.getLevelNode=function(e){return Array.isArray(a.state.spotTree)?a.state.spotTree.find(function(t){return t.id===e})||{nodeList:[]}:null},a.handleSearch=Object(bv.a)(fv.a.mark(function e(){var t,n,r,i,o,l,c;return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=a.props.record,r=5===(n=void 0===t?{}:t).spotTestType,i=r?"/SpotStatAction_getMoveTree":"/SpotStatAction_getSpotTree",!Ov.a.isEmpty(n)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,H.e.formSubmit(i,"",{bookTime:cn(n.bookTime),spotTestType:r?void 0:n.spotTestType});case 7:o=e.sent,l=o.data,0===(c=void 0===l?{}:l).result&&a.setState({spotTree:r?c.moveTree:c.spotTree});case 11:case"end":return e.stop()}},e)})),a.drawLevel=function(e){a.getLevelNode(e).nodeList.forEach(function(t){var n=document.getElementById("".concat(t.parentId,"-").concat(t.id,"-right"));a.getLevelNode(e+1).nodeList.filter(function(e){return e.parentId===t.id}).forEach(function(e){var t=document.getElementById("".concat(e.parentId,"-").concat(e.id,"-left"));a.drawSingleLine(n.offsetLeft-1,n.offsetTop-1,t.offsetLeft+1,t.offsetTop+1,e.colorFlag)}),a.drawLevel(e+1)})},a.drawSingleLine=function(e,t,a,n,r){var i=Math.min(e,a),o=Math.min(t,n),l=Math.abs(a-e),c=Math.abs(n-t),s=document.createElement("div"),d=2===r?"#ff3322":"#5192cd";if(c>5){var u=Math.atan(c/l),p=Math.floor(180/(Math.PI/u));s.style.cssText="left: ".concat(i,"px; top: ").concat(o,"px; width: ").concat(l,"px; height: ").concat(c,"px; background: linear-gradient(").concat(p,"deg, transparent 0, transparent calc(50% - 2px), ").concat(d," calc(50% - 1px), ").concat(d," calc(50%), transparent calc(50% + 1px), transparent 100%);").concat(n>t?"transform: rotate(180deg);":"transform: rotateY(180deg)")}else s.style.cssText="left: ".concat(i,"px; top: ").concat(o,"px; width: ").concat(l,"px; height: 2px; background: ").concat(d,";");s.classList.add(yv.a.line),document.getElementById("container").appendChild(s)},a.renderNode=function(e,t){return a.getLevelNode(e).nodeList.filter(function(e){return e.parentId===t||0===t}).map(function(n){return o.a.createElement("div",{className:yv.a.levelInner,key:n.id},o.a.createElement("div",{className:yv.a.column},o.a.createElement("div",{className:"".concat(yv.a.cell," ").concat(2===n.colorFlag?yv.a.warn:yv.a.regular)},o.a.createElement("div",{className:"".concat(yv.a.point," ").concat(yv.a.pointLeft," ").concat(2===n.colorFlag?yv.a.warn:yv.a.regular),id:"".concat(t,"-").concat(n.id,"-left")}),o.a.createElement("span",{style:{flex:1,textAlign:"center",fontSize:"12px"}},n.title),o.a.createElement("div",{className:"".concat(yv.a.point," ").concat(yv.a.pointRight," ").concat(2===n.colorFlag?yv.a.warn:yv.a.regular),id:"".concat(t,"-").concat(n.id,"-right")}))),o.a.createElement("div",{className:yv.a.levelWrapper},a.renderNode(e+1,n.id)))})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.record,a=void 0===t?{}:t,n=e.onCancel,r=this.state.spotTree,i=void 0===r?[]:r;return o.a.createElement(z.a,{title:"".concat(a.spotTestTypeName,"\u6811\u72b6\u56fe"),visible:!0,onCancel:n,footer:null,width:800},Array.isArray(i)&&i.length>0&&o.a.createElement("div",{className:yv.a.container,id:"container"},o.a.createElement("div",{className:yv.a.title},i.map(function(e){return o.a.createElement("div",{className:yv.a.titleColumn,key:e.id},o.a.createElement("span",{style:{fontSize:"16px",fontWeight:"bold"}},e.title))})),o.a.createElement("div",{className:yv.a.content},this.renderNode(1,0)),i.map(function(e,t){return o.a.createElement("div",{className:yv.a.columnBg,key:t,style:{left:"".concat(150*t,"px")}})})))}}]),t}(i.Component),Iv="YYYY-MM-DD",Cv=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModalErr:!1,showModal:!1,tableLoading:!0,buttflag:!0,list:[],ModalTit:"",columnsName:[],spotTestType:0,bookTime:"",type:0,spotColumnsName:[],current:1,pageSize:10,total:0,record:{}},a.onCancel=function(){a.setState({showModal:!1,showModalErr:!1,tableLoading:!0,buttflag:!0,list:[]})},a.reformatValue=function(e){var t=Object(E.a)({},e);try{var a=e.disApplyTimeRange;if(a){var n=Object(y.a)(a,2),r=n[0],i=n[1];t.beginTime=r&&r.format(Iv),t.endTime=i&&i.format(Iv),delete t.disApplyTimeRange}}catch(o){console.error(o)}return t},a.handleSearch=function(e,t,n){a.props.fetch(a.reformatValue(e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({buttflag:!1}),a.form.updateQuery(),a.props.export(a.reformatValue(a.props.query.value)).then(function(e){var t=on(e.payload);t&&S.a.warning(t,2.5)}).then(function(){e(),a.setState({buttflag:!0})}).catch(function(e){console.error(e.message)})},a.renderColumn=function(){var e=dv(a.handleSearchDetail);return e.push({title:"\u64cd\u4f5c",fixed:"right",width:120,render:function(e,t){return o.a.createElement(i.Fragment,null,"\u5e73\u53f0\u62bd\u67e5"!==t.spotTestTypeName&&o.a.createElement("a",{href:"javascript:;",onClick:a.showTreeModal(t)},"\u6811\u72b6\u56fe"),"\u5e73\u53f0\u62bd\u67e5"!==t.spotTestTypeName&&o.a.createElement(W.a,{type:"vertical"}),"\u79fb\u52a8\u62bd\u67e5"!==t.spotTestTypeName&&o.a.createElement("a",{href:"javascript:;",onClick:a.showDetailModal(t,"\u5f02\u5e38\u660e\u7ec6\u8868")},"\u5f02\u5e38\u660e\u7ec6\u8868"),"\u79fb\u52a8\u62bd\u67e5"!==t.spotTestTypeName&&o.a.createElement(W.a,{type:"vertical"}),"\u81ea\u52a8\u62bd\u67e5"===t.spotTestTypeName&&o.a.createElement("a",{href:"javascript:;",onClick:a.showDetailModal(t,"\u62cd\u6444\u65f6\u95f4\u7edf\u8ba1\u8868")},"\u62cd\u6444\u65f6\u95f4\u7edf\u8ba1\u8868"))}}),e},a.showTreeModal=function(e){return function(){a.setState({showSpotTask:!0,record:e})}},a.showDetailModal=function(e,t){return function(){a.setState({showModalErr:!0,ModalTit:t,columnsName:"\u5f02\u5e38\u660e\u7ec6\u8868"==t?uv:pv});var n="\u5f02\u5e38\u660e\u7ec6\u8868"==t?"/SpotStatAction_getSpotExcDetailStatList":"/SpotStatAction_getTakeTimeStat";H.e.formSubmit(n,"",{bookTime:cn(e.bookTime),spotTestType:e.spotTestType}).then(function(e){a.setState({list:"\u5f02\u5e38\u660e\u7ec6\u8868"==t?e.data.list:[e.data.takeTimeStat],tableLoading:!1})})}},a.handleDetailPageChange=function(e,t){a.handleSearchDetail(a.state.record,a.state.spotTestType,a.state.bookTime,!0,a.state.type,e,t)},a.handleSearchDetail=function(e,t,n,r,i,o,l){if(r){a.setState({showModal:!0,record:e});var c={pageNum:o||1,pageSize:l||10,bookTime:o?a.state.bookTime:je.a.unix(n.time/1e3).format(Iv),spotTestType:t};i&&(c.status=i);var s=5==t?"/SpotStatAction_getMoveDetailList":"/SpotStatAction_getSpotDetailList";H.e.formSubmit(s,"",c).then(function(e){a.setState({spotTestType:t,bookTime:c.bookTime,type:i,spotColumnsName:5==t?hv:mv,list:e.data.list||[],tableLoading:!1,current:e.data.page.pageNum,pageSize:e.data.page.pageSize,total:e.data.page.total})})}},a.spotHandleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({buttflag:!1});var t=5==a.state.spotTestType?"/SpotStatAction_exportMoveDetailList":"/SpotStatAction_exportSpotDetailList",n={bookTime:a.state.bookTime,spotTestType:a.state.spotTestType};a.state.type&&(n.status=a.state.type),H.b.formSubmit(t,"",n).then(function(e){var t=on(e);t&&S.a.warning(t,2.5)}).then(function(){e(),a.setState({buttflag:!0})})},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement(ql,null,o.a.createElement(re.a,{disabled:!this.state.buttflag,type:"primary",icon:"export",onClick:this.handleExport},"\u5bfc\u51fa\u62a5\u8868")),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:function(e){return"".concat(cn(e.bookTime),",").concat(e.spotTestType)},bordered:!0})),o.a.createElement(z.a,{title:this.state.ModalTit,visible:this.state.showModalErr,onCancel:this.onCancel,width:1100,footer:null,destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(Z.a,{dataSource:this.state.list||[],columns:this.state.columnsName,rowKey:function(e){return"".concat(e.totUploadLt30m,",").concat(e.rowTitle)},pagination:!1,loading:this.state.tableLoading,bordered:!0}))),o.a.createElement(z.a,{title:"".concat(this.state.record.spotTestTypeName,"\u660e\u7ec6\u8868"),visible:this.state.showModal,onCancel:this.onCancel,footer:null,width:1024},o.a.createElement(re.a,{disabled:!this.state.buttflag,type:"primary",icon:"export",onClick:this.spotHandleExport},"\u5bfc\u51fa\u62a5\u8868"),o.a.createElement(ae,{loading:this.state.tableLoading,data:this.state.list,columns:this.state.spotColumnsName,paging:{current:this.state.current,pageSize:this.state.pageSize,total:this.state.total},onChange:this.handleDetailPageChange,onPageChange:this.handleDetailPageChange,rowKey:function(e){return"".concat(e.ewId,",").concat(cn(e.taskSendTime),",").concat(e.chassis)}})),this.state.showSpotTask&&o.a.createElement(Sv,{onCancel:function(){e.setState({showSpotTask:!1})},record:this.state.record}))}}]),t}(i.Component);var _v,Tv=Object(h.b)(function(e){return{loading:e.ledger.loading,list:e.ledger.ewSpotMoveList.list,paging:e.ledger.ewSpotMoveList.paging,query:e.ledger.ewSpotMoveList.query}},function(e){return{fetch:function(t,a){e(Hd(t,a))},updateQuery:function(t){t.value.taskFlag=+t.value.taskFlag,e(Xd(t))},export:function(t){return e(Kd(t))}}})(Cv),Av=(a(382),a(200)),kv=Object(Y.a)((_v={},Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_SUPERVISE_SETTING",{next:function(e,t){return Object(E.a)({},e,{param:t.payload.data.data||{}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_SUPERVISE_IMPORT_RECORD",{next:function(e,t){return Object(E.a)({},e,{importRecord:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_SUPERVISE_SPECIAL",{next:function(e,t){return Object(E.a)({},e,{special:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_SUPERVISE_LOG_RECORD",{next:function(e,t){return Object(E.a)({},e,{logRecord:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_SUPERVISE_COMPANY_COUNT",{next:function(e,t){return Object(E.a)({},e,{company:{list:t.payload.data.list||[]}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_AMOUNT_BY_DEALER",{next:function(e,t){return Object(E.a)({},e,{dealerAmount:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/FETCH_AMOUNT_BY_VEHICLE",{next:function(e,t){return Object(E.a)({},e,{vehicleAmount:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/UPDATE_SUPERVISE_SETTING",{next:function(e,t){return Object(E.a)({},e,{param:t.payload.data.data||{}})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/UPDATE_SUPERVISE_SPECIAL_QUERY",{next:function(e,t){return Object(E.a)({},e,{specialQuery:Object(E.a)({},e.specialQuery,t.payload)})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/UPDATE_SUPERVISE_LOG_QUERY",{next:function(e,t){return Object(E.a)({},e,{logRecordQuery:Object(E.a)({},e.logRecordQuery,t.payload)})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/UPDATE_DEALER_AMOUNT_QUERY",{next:function(e,t){return Object(E.a)({},e,{dealerAmountQuery:Object(E.a)({},e.dealerAmountQuery,t.payload)})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/UPDATE_VEHICLE_AMOUNT_QUERY",{next:function(e,t){return Object(E.a)({},e,{vehicleAmountQuery:Object(E.a)({},e.vehicleAmountQuery,t.payload)})}}),Object(U.a)(_v,"YICHAKU/SUPERVISE/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),_v),{loading:!0,param:{},special:{list:[],paging:{current:1,pageSize:10,total:10}},specialQuery:{value:{},expandForm:!1},logRecord:{list:[],paging:{current:1,pageSize:10,total:10}},logRecordQuery:{value:{},expandForm:!1},company:{list:[]},importRecord:{list:[],paging:{current:1,pageSize:10,total:10}},dealerAmount:{list:[],paging:{current:1,pageSize:10,total:10}},vehicleAmount:{list:[],paging:{current:1,pageSize:10,total:10}},dealerAmountQuery:{value:{theMonth:""},expandForm:!1},vehicleAmountQuery:{value:{theMonth:""},expandForm:!1}}),wv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_SETTING",function(){return H.d.post("/SuperviseAction_getParam",null)}),jv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_IMPORT_RECORD",function(e){return H.d.post("/SuperviseAction_getImportRecord",Object(E.a)({},e))}),xv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_SPECIAL",function(e,t){return H.d.post("/SuperviseAction_getSpecialDealer",Object(E.a)({},e,t))}),Dv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_LOG_RECORD",function(e,t){return H.d.post("/SuperviseAction_getLogRecord",Object(E.a)({},e,t))}),Mv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_LOG",function(e,t){return H.d.post("/SuperviseAction_getLog",Object(E.a)({},e,t))}),Nv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_COMPANY_COUNT",function(){return H.d.post("/SuperviseAction_getCompanyCount",{})}),Lv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_SUPERVISE_ALL_DEALER",function(){return H.d.post("/SuperviseAction_allSpecialDealer",{})}),Rv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_AMOUNT_BY_DEALER",function(e,t){return H.d.post("/SuperviseAction_dealerAmount",Object(E.a)({},e,t))}),Pv=Object(F.a)("YICHAKU/SUPERVISE/FETCH_AMOUNT_BY_VEHICLE",function(e,t){return H.d.post("/SuperviseAction_vehicleAmount",Object(E.a)({},e,t))}),Uv=Object(F.a)("YICHAKU/SUPERVISE/INSERT_SPECIAL_DEALER_INFO",function(e){return H.d.post("/SuperviseAction_updateSpecialDealer",e)}),Yv=Object(F.a)("YICHAKU/SUPERVISE/UPDATE_SUPERVISE_SETTING",function(e){return H.d.post("/SuperviseAction_updateParam",Object(E.a)({},e))}),Fv=Object(F.a)("YICHAKU/SUPERVISE/UPDATE_SUPERVISE_SPECIAL_QUERY"),Hv=Object(F.a)("YICHAKU/SUPERVISE/UPDATE_SUPERVISE_LOG_QUERY"),Kv=Object(F.a)("YICHAKU/SUPERVISE/UPDATE_DEALER_AMOUNT_QUERY"),qv=Object(F.a)("YICHAKU/SUPERVISE/UPDATE_VEHICLE_AMOUNT_QUERY"),Bv=Object(F.a)("YICHAKU/SUPERVISE/DELETE_SPECIAL_IMPORT_RECORD",function(e){return H.d.post("/SuperviseAction_deleteImportRecord",e)}),Vv=Object(F.a)("YICHAKU/SUPERVISE/CREATE_SUPERVISE",function(){return H.d.post("/SuperviseAction_generateSupervision",{})}),Qv=Object(F.a)("YICHAKU/SUPERVISE/CONFIRM_SUPERVISE",function(e){return H.d.post("/SuperviseAction_confirmSupervision",e)}),zv=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e,t){a.handleSearch(e,t)},a.handleSearch=function(e,t){a.props.fetch({pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.deleteImportRecord=function(e){return function(){a.props.delete({id:e}).then(function(e){var t=e.payload;t&&t.data&&0===t.data.result?(S.a.success(t.data.msg),a.handleSearch()):S.a.error(t.data.msg)}).catch(function(e){S.a.error(e.message)})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"getColumns",value:function(){return[Li,Ri,Pi]}},{key:"render",value:function(){var e=this,t={name:"file",action:"/SuperviseAction_upload2",accept:"application/vnd.ms-excel,application/vnd.ms-excel,application/vnd.ms-works,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",headers:{"Content-Type":"application/json"},beforeUpload:function(e){console.log(e.name)},onChange:function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?t.file&&t.file.response&&(0===t.file.response.result?(S.a.success(t.file.response.msg),e.handleSearch()):S.a.error(t.file.response.msg)):"error"===t.file.status&&S.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))}};return o.a.createElement(Hl,null,o.a.createElement(Av.a,t,o.a.createElement(re.a,null,"\u8bf7\u9009\u62e9\u4e00\u4e2aexcel\u6587\u4ef6")),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.getColumns(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})))}}]),t}(i.Component);var Wv=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.importRecord.list,paging:e.supervise.importRecord.paging}},function(e){return{fetch:function(t){return e(jv(t))},delete:function(t){return e(Bv(t))}}})(zv),Gv=a(171),Xv=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={generate:{list:[],normalCount:[],specialCount:[],loading:!1,logRecordId:"",paging:{current:1,pageSize:10,total:10},createdTime:"",confirmBtn:!1},showExportModal:!1,log:{logRecordId:"",list:[],loading:!1,paging:{current:1,pageSize:10,total:10},createdTime:""},showModal:!1,exportBtnLoading:!1,normalDealerCnt:"",normalVehicleCnt:"",specialDealerCnt:"",specialVehicleCnt:""},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.perGenerate=function(){a.setState({generate:{loading:!0}}),a.props.create().then(function(e){var t=e.payload;t&&t.data&&0===t.data.result?(a.setState({generate:{list:[],normalCount:t.data.normalCount||[],specialCount:t.data.specialCount||[],loading:!0,logRecordId:t.data.logRecordId||"",paging:{current:1,pageSize:10,total:10},createdTime:t.data.createdTime}}),a.getGenerateLog()):(S.a.error(t.data.msg),a.setState({generate:{loading:!1}}))}).catch(function(e){S.a.error(e.message),a.setState({generate:{loading:!1}})})},a.generateConfirm=function(){var e=a.state.generate;a.props.confirm({id:e.logRecordId}).then(function(t){var n=t.payload;n&&n.data&&0===n.data.result?(S.a.success(n.data.msg),a.setState({generate:Object(E.a)({},e,{confirmBtn:!0})}),a.handleSearch(a.props.query.value)):S.a.error(n.data.msg)}).catch(function(e){S.a.error(e.message)})},a.getGenerateLog=function(e,t){var n=a.state.generate;a.props.fetchLog({logRecordId:n.logRecordId},{pageNum:e||n.paging.current,pageSize:t||n.paging.pageSize}).then(function(e){var t=e.payload;t&&t.data&&0===t.data.result?(console.log(a.state.log),a.setState({generate:Object(E.a)({},n,{list:t.data.list||[],loading:!1,paging:{current:t.data&&t.data.page&&t.data.page.pageNum,pageSize:t.data&&t.data.page&&t.data.page.pageSize,total:t.data&&t.data.page&&t.data.page.total}}),showModal:!0}),console.log(a.state.log)):S.a.error(t.data.msg)}).catch(function(e){S.a.error(e.message)})},a.getLog=function(e,t,n){return function(){console.log(e),a.setState({showExportModal:!0,log:{loading:!0}});var r=a.state.log,i="",o="";null==e?(i=r.logRecordId,o=r.createdTime):(i=e.id,o=e.createdTime,a.setState({normalDealerCnt:e.normalDealerCnt,normalVehicleCnt:e.normalVehicleCnt,specialDealerCnt:e.specialDealerCnt,specialVehicleCnt:e.specialVehicleCnt})),a.props.fetchLog({logRecordId:i},{pageNum:t||r.paging.current,pageSize:n||r.paging.pageSize}).then(function(e){var t=e.payload;t&&t.data&&0===t.data.result?(console.log(a.state.log),a.setState({log:{list:t.data.list||[],loading:!1,paging:{current:t.data&&t.data.page&&t.data.page.pageNum,pageSize:t.data&&t.data.page&&t.data.page.pageSize,total:t.data&&t.data.page&&t.data.page.total},logRecordId:i,createdTime:o}}),console.log(a.state.log)):S.a.error(t.data.msg)}).catch(function(e){S.a.error(e.message)})}},a.logModalPageChange=function(e,t){a.getLog(null,e,t)()},a.exportModalCancel=function(){a.setState({showExportModal:!1,log:{id:"",list:[],loading:!1,paging:{current:1,pageSize:10,total:10}},showModal:!1,generate:{list:[],normalCount:[],specialCount:[],loading:!1},normalDealerCnt:"",normalVehicleCnt:"",specialDealerCnt:"",specialVehicleCnt:""})},a.getModalColumns=function(e){return[hi,gi,fi,bi,Ii]},a.export=function(e){return function(){a.setState({exportBtnLoading:!0});var t=a.state,n=t.log,r=t.generate;a.props.fetchLog({logRecordId:"log"==e?n.logRecordId:r.logRecordId},{pageNum:1,pageSize:1e4}).then(function(t){var r=t.payload;if(r&&r.data&&0===r.data.result){var i=r.data.list||[],o="";o="log"==e?je.a.unix(new Date(n.createdTime).getTime()/1e3).format("YYYYMMDD"):je.a.unix(new Date(Date.now()).getTime()/1e3).format("YYYYMMDD"),a.exportExcel(i,o)}else S.a.error(r.data.msg),a.setState({exportBtnLoading:!1})}).catch(function(e){S.a.error(e.message),a.setState({exportBtnLoading:!1})})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"getColumns",value:function(){var e=this,t=_l(this.props.match.path);return t.map(function(t){"action"===t.dataIndex&&(t.render=function(t,a){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{onClick:e.getLog(a)},"\u67e5\u770b"))})}),t}},{key:"exportExcel",value:function(e,t){var a=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u8f66\u67b6\u53f7","\u662f\u5426\u7279\u6b8a\u540d\u5355"]];e.map(function(e){a.push([t,e.company,e.brand,e.dealer,e.vin,1===e.isSpecial?"\u662f":"\u5426"])});var n=Gv.utils.aoa_to_sheet(a),r=Gv.utils.book_new();Gv.utils.book_append_sheet(r,n,"\u62bd\u67e5\u540d\u5355");var i=Gv.write(r,{type:"binary",bookType:"xlsx"});en()(new Blob([this.s2ab(i)],{type:"application/octet-stream"}),t+"\u62bd\u67e5\u540d\u5355.xlsx"),this.setState({exportBtnLoading:!1})}},{key:"s2ab",value:function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n!==e.length;++n)a[n]=255&e.charCodeAt(n);return t}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=this.state,r=n.log,i=n.generate,l=n.exportBtnLoading;return o.a.createElement(Hl,null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",className:"customBtn",onClick:this.perGenerate,loading:i.loading},"\u9884\u751f\u6210\u62bd\u67e5\u8bb0\u5f55")),o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.getColumns(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})),o.a.createElement(z.a,{visible:this.state.showExportModal,footer:null,width:1202,onCancel:this.exportModalCancel,destroyOnClose:!0},o.a.createElement(N.a,{style:{margin:"15px 0"}},o.a.createElement(L.a,{span:11,style:{border:"2px solid #1D9F2A",padding:15,"border-radius":10}},o.a.createElement(N.a,null,"\u672c\u6b21\u666e\u901a\u62bd\u67e5\u60c5\u51b5"),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u7ecf\u9500\u5546\u6570\uff1a"),o.a.createElement(L.a,{span:20},this.state.normalDealerCnt)),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u8f66\u8f86\u6570\uff1a"),o.a.createElement(L.a,{span:20},this.state.normalVehicleCnt))),o.a.createElement(L.a,{span:2}),o.a.createElement(L.a,{span:11,style:{border:"2px solid #1D9F2A",padding:15,"border-radius":10}},o.a.createElement(N.a,null,o.a.createElement(L.a,{span:12},"\u7279\u6b8a\u540d\u5355\u62bd\u67e5\u60c5\u51b5")),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u7ecf\u9500\u5546\u6570\uff1a"),o.a.createElement(L.a,{span:20},this.state.specialDealerCnt)),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u8f66\u8f86\u6570\uff1a"),o.a.createElement(L.a,{span:20},this.state.specialVehicleCnt)))),o.a.createElement(N.a,null,o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24},key:"toggleForm"},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.export("log"),loading:l},"\u5bfc\u51fa"))),o.a.createElement(ae,{columns:this.getModalColumns("export"),loading:r.loading,data:r.list,paging:r.paging,onChange:this.logModalPageChange,onPageChange:this.logModalPageChange,scroll:{x:800}})),o.a.createElement(z.a,{visible:this.state.showModal,footer:null,width:1200,onCancel:this.exportModalCancel,destroyOnClose:!0},o.a.createElement(N.a,{style:{margin:"15px 0"}},o.a.createElement(L.a,{span:11,style:{border:"2px solid #1D9F2A",padding:15,"border-radius":10}},o.a.createElement(N.a,null,"\u672c\u6b21\u666e\u901a\u62bd\u67e5\u60c5\u51b5"),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u7ecf\u9500\u5546\u6570\uff1a"),o.a.createElement(L.a,{span:20},i.normalCount&&i.normalCount[0])),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u8f66\u8f86\u6570\uff1a"),o.a.createElement(L.a,{span:20},i.normalCount&&i.normalCount[1]))),o.a.createElement(L.a,{span:2}),o.a.createElement(L.a,{span:11,style:{border:"2px solid #1D9F2A",padding:15,"border-radius":10}},o.a.createElement(N.a,null,o.a.createElement(L.a,{span:12},"\u7279\u6b8a\u540d\u5355\u62bd\u67e5\u60c5\u51b5")),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u7ecf\u9500\u5546\u6570\uff1a"),o.a.createElement(L.a,{span:20},i.specialCount&&i.specialCount[0])),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:4},"\u8f66\u8f86\u6570\uff1a"),o.a.createElement(L.a,{span:20},i.specialCount&&i.specialCount[1])))),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:14}," "),o.a.createElement(L.a,{span:10},o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24},key:"toggleForm"},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.generateConfirm,disabled:i.confirmBtn},"\u786e\u8ba4\u751f\u6210"),o.a.createElement(re.a,{style:{marginLeft:24},type:"primary",htmlType:"submit",onClick:this.export("generate")},"\u5bfc\u51fa")))),o.a.createElement(ae,{columns:this.getModalColumns("add"),loading:i.loading,data:i.list,paging:i.paging,onChange:this.getGenerateLog,onPageChange:this.getGenerateLog,scroll:{x:800}})))}}]),t}(i.Component);var Jv=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.logRecord.list,paging:e.supervise.logRecord.paging,query:e.supervise.logRecordQuery}},function(e){return{fetch:function(t,a){return e(Dv(t,a))},updateQuery:function(t){return e(Hv(t))},fetchLog:function(t,a){return e(Mv(t,a))},create:function(){return e(Vv())},confirm:function(t){return e(Qv(t))}}})(Xv),Zv=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).onChange=function(e){var t=e.target.value;(!isNaN(t)&&/^(0|[1-9][0-9]*)(\.[0-9]*)?$/.test(t)||""===t||"-"===t)&&a.props.onChange(t)},a.onBlur=function(){var e=a.props,t=e.value,n=e.onBlur,r=e.onChange;"."!==t.charAt(t.length-1)&&"-"!==t||r(t.slice(0,-1)),n&&n()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(he.a,Object.assign({},this.props,{onChange:this.onChange,onBlur:this.onBlur,placeholder:this.props.placeholder,maxLength:this.props.maxLength}))}}]),t}(i.PureComponent);Zv.defaultProps={onChange:function(){},maxLength:8,placeholder:""};var $v=Zv,eO=ue.a.Group,tO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={canModify:!1},a.save=function(){console.log(a.state),a.props.update({id:a.state.id,cntBoundary:a.state.cntBoundary,cntByDay:a.state.cntByDay,cntByDealerDay:a.state.cntByDealerDay,repetRate:a.state.repetRate,timesByDealerWeek:a.state.timesByDealerWeek,unwork:a.state.unwork}).then(function(e){var t=e.payload;t&&t.data&&0==t.data.result?(a.setState({canModify:!1}),S.a.success("\u4fee\u6539\u6210\u529f")):S.a.error("\u4fee\u6539\u5931\u8d25")}).catch(function(e){console.log(e),S.a.error("\u4fee\u6539\u5931\u8d25")})},a.edit=function(){a.setState({canModify:!0})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.props.fetch().then(function(){e.setState(Object(E.a)({},e.props.param))})}},{key:"render",value:function(){var e=this,t=this.state.canModify,a=this.state.unwork?this.state.unwork.split(","):[];return o.a.createElement(Hl,null,o.a.createElement(N.a,null,o.a.createElement("div",{style:{float:"right",marginBottom:24,marginRight:24},key:"toggleForm"},!t&&o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.edit},"\u4fee\u6539"),t&&o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.save},"\u4fdd\u5b58"))),o.a.createElement("div",null,o.a.createElement("p",null,"\u6bcf\u5bb6\u7ecf\u9500\u5546\u6bcf\u5468\u81f3\u5c11\u62bd\u67e5",o.a.createElement($v,{style:{width:50},disabled:!t,onChange:function(t){e.setState({timesByDealerWeek:t})},value:this.state.timesByDealerWeek}),"\u6b21"),o.a.createElement("p",null,"\u6bcf\u5929\u6bcf\u6237\u62bd\u67e5\u53f0\u6570\u4e0d\u5f97\u8d85\u8fc7",o.a.createElement($v,{style:{width:50},disabled:!t,onChange:function(t){e.setState({cntByDealerDay:t})},value:this.state.cntByDealerDay}),"\u53f0"),o.a.createElement("p",null,o.a.createElement($v,{style:{width:50},disabled:!t,onChange:function(t){e.setState({cntBoundary:t})},value:this.state.cntBoundary}),"\u53f0\u53ca\u4ee5\u4e0b\u5e93\u5b58\u7ecf\u9500\u5546\u6bcf\u6b21\u62bd\u67e51\u53f0\uff0c\u4ee5\u4e0a\u5e93\u5b58\u7ecf\u9500\u5546\u6bcf\u6b21\u62bd\u67e52\u53f0"),o.a.createElement("p",null,"\u4fdd\u8bc1\u6bcf\u4e2a\u6708\u62bd\u67e5\u8f66\u8f86\u660e\u7ec6",o.a.createElement($v,{style:{width:50},disabled:!t,onChange:function(t){e.setState({repetRate:t})},value:this.state.repetRate}),"%\u4ee5\u5185\u91cd\u590d\u7387"),o.a.createElement("p",null,"\u6bcf\u5929\u62bd\u67e5\u4e0d\u5f97\u4f4e\u4e8e",o.a.createElement($v,{style:{width:50},disabled:!t,onChange:function(t){e.setState({cntByDay:t})},value:this.state.cntByDay}),"\u53f0\uff08\u5305\u62ec\u7279\u6b8a\u62bd\u67e5\u540d\u5355\u62bd\u67e5\u6570\uff09"),o.a.createElement("p",null,"\u8bbe\u7f6e\u4e0d\u67e5\u5de5\u4f5c\u65e5"),o.a.createElement(eO,{options:["\u661f\u671f\u4e00","\u661f\u671f\u4e8c","\u661f\u671f\u4e09","\u661f\u671f\u56db","\u661f\u671f\u4e94"],value:a,disabled:!t,onChange:function(t){e.setState({unwork:t.toString()})}})))}}]),t}(i.Component);var aO,nO=Object(h.b)(function(e){return{loading:e.supervise.loading,param:e.supervise.param}},function(e){return{fetch:function(){return e(wv())},update:function(t){return e(Yv(t))}}})(tO),rO=a(63),iO=a.n(rO),oO=ie.a.create()(aO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={startValue:null,endValue:null,dataSource:[]},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){var e=a.props.record;a.props.form.validateFields(function(t,n){if(!t){var r=!1;a.props.dataSource.map(function(e){e!==n.dealer||(r=!0)}),r?(n.id=e.id,n.startTime=n.startTime.format("YYYY-MM-DD"),n.endTime=je.a.unix(new Date(n.endTime).getTime()/1e3).format("YYYY-MM-DD"),a.props.onSubmit(n)):S.a.error("\u8bf7\u9009\u62e9\u6b63\u786e\u7684\u7ecf\u9500\u5546\uff01")}})},a.onChange=function(e,t){a.setState(Object(U.a)({},e,t))},a.onStartChange=function(e){a.onChange("startValue",e)},a.onEndChange=function(e){a.onChange("endValue",e)},a.disabledStartDate=function(e){var t=a.state.endValue;return!(!e||!t)&&e.valueOf()>t.valueOf()},a.disabledEndDate=function(e){var t=a.state.startValue;return!(!e||!t)&&e.valueOf()<=t.valueOf()},a.onSearch=function(e){var t=[];a.props.dataSource.map(function(a){-1!==a.indexOf(e)&&t.push(a)}),a.setState({dataSource:t})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r=e.modifyType,i=a.state.dataSource,l={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},r&&"modify"===r&&o.a.createElement(iO.a,Object.assign({label:"\u7ecf\u9500\u5546\u540d\u79f0"},l),t("dealer",{rules:a.requiredRule,initialValue:n.dealer})(r&&"modify"===r&&o.a.createElement(he.a,{disabled:a.props.modifyType&&"modify"===a.props.modifyType}))),r&&"add"===r&&o.a.createElement(iO.a,Object.assign({label:"\u7ecf\u9500\u5546\u540d\u79f0"},l),t("dealer",{rules:a.requiredRule})(a.props.modifyType&&"add"===a.props.modifyType&&o.a.createElement(fp.a,{dataSource:i,onSearch:a.onSearch,placeholder:"\u8bf7\u8f93\u5165\u7ecf\u9500\u5546"}))),o.a.createElement(iO.a,Object.assign({label:"\u751f\u6548\u65e5\u671f"},l),t("startTime",{rules:a.requiredRule,initialValue:n.startTime&&je.a.unix(new Date(n.startTime).getTime()/1e3)})(o.a.createElement(ge.a,{disabledDate:a.disabledStartDate,format:"YYYY-MM-DD",onChange:a.onStartChange}))),o.a.createElement(iO.a,Object.assign({label:"\u5931\u6548\u65e5\u671f"},l),t("endTime",{rules:a.requiredRule,initialValue:n.endTime&&je.a.unix(new Date(n.endTime).getTime()/1e3)})(o.a.createElement(ge.a,{disabledDate:a.disabledEndDate,format:"YYYY-MM-DD",onChange:a.onEndChange})))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.record;this.setState({startValue:e.startTime?je.a.unix(new Date(e.startTime).getTime())/1e3:null,endValue:e.endTime?je.a.unix(new Date(e.endTime).getTime())/1e3:null})}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||aO,lO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showAddModal:!1,addModalTitle:"\u65b0\u589e\u7279\u6b8a\u7ecf\u9500\u5546",modifyType:"add",specialDealerModal:{id:"",dealer:"",startTime:"",endTime:""},dataSource:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.addDealer=function(e){return function(){null==e?a.setState({showAddModal:!0,addModalTitle:"\u65b0\u589e\u7279\u6b8a\u7ecf\u9500\u5546",modifyType:"add",specialDealerModal:{id:"",dealer:"",startTime:"",endTime:""}}):a.setState({showAddModal:!0,addModalTitle:"\u67e5\u770b\u4fee\u6539",modifyType:"modify",specialDealerModal:Object(E.a)({},e)})}},a.addModalOk=function(){a.dealerForm&&a.dealerForm.submit()},a.addModalCancel=function(){a.setState({showAddModal:!1})},a.confirmDealerInfo=function(e){console.log(e),e&&(e.id?a.props.insertOrUpdate(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u4fee\u6539\u6210\u529f\uff01",2.5),a.addModalCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)}):a.props.insertOrUpdate(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success(t.data.msg,2.5),a.addModalCancel(),a.handleSearch(a.props.query.value)}).catch(function(t){return e.startTime?S.a.error(t.message||"\u589e\u52a0\u7279\u6b8a\u7ecf\u9500\u5546\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5):S.a.error(t.message||"\u5220\u9664\u7279\u6b8a\u7ecf\u9500\u5546\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)}))},a.deleteDealer=function(e){return function(){e.startTime=null,e.endTime=null,a.confirmDealerInfo(e)}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value),this.getAllDealer()}},{key:"getColumns",value:function(){var e=this,t=this.props.match,a=je.a.unix(new Date(Date.now()).getTime()/1e3).format("YYYY-MM-DD"),n=_l(t.path);return n.map(function(t){"status"===t.dataIndex?t.render=function(e,t){var n="";return n=a<je.a.unix(new Date(t.startTime).getTime()/1e3).format("YYYY-MM-DD")?ke.statusTypeList[0].name:a>je.a.unix(new Date(t.endTime).getTime()/1e3).format("YYYY-MM-DD")?ke.statusTypeList[2].name:ke.statusTypeList[1].name,o.a.createElement(i.Fragment,null,o.a.createElement("span",null,n))}:"action"===t.dataIndex&&(t.render=function(t,a){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{onClick:e.addDealer(a)},"\u4fee\u6539"),o.a.createElement(gy.a,{title:"\u786e\u8ba4\u5220\u9664\u8fd9\u6761\u7279\u6b8a\u62bd\u67e5\u8bb0\u5f55\uff1f",onConfirm:e.deleteDealer(a),okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",placement:"topRight"},o.a.createElement("a",{href:"javascript:;",style:{margin:"0 10px"}},"\u5220\u9664")))})}),n}},{key:"getAllDealer",value:function(){var e=this;this.props.fetchAllDealer().then(function(t){var a=t.payload;if(!a||!a.data||0!==a.data.result)return Promise.reject(new Error(a.data.msg));e.setState({dataSource:a.data.list||[]})}).catch(function(e){return S.a.error(e.message||"\u67e5\u627e\u7ecf\u9500\u5546\u4fe1\u606f\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=this.state,i=r.addModalTitle,l=r.modifyType,c=r.specialDealerModal,s=r.dataSource;return o.a.createElement(Hl,null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",className:"customBtn",onClick:this.addDealer(null)},"\u6dfb\u52a0\u7ecf\u9500\u5546")),o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.getColumns(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})),o.a.createElement(z.a,{title:i,visible:this.state.showAddModal,onOk:this.addModalOk,onCancel:this.addModalCancel,destroyOnClose:!0},o.a.createElement(oO,{wrappedComponentRef:function(t){return e.dealerForm=t},onSubmit:this.confirmDealerInfo,record:c,path:a.url,modifyType:l,dataSource:s})))}}]),t}(i.Component);var cO=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.special.list,paging:e.supervise.special.paging,query:e.supervise.specialQuery}},function(e){return{fetch:function(t,a){return e(xv(t,a))},updateQuery:function(t){return e(Fv(t))},insertOrUpdate:function(t){return e(Uv(t))},fetchAllDealer:function(){return e(Lv())}}})(lO),sO=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.props.fetch()}},{key:"getColumns",value:function(){return[hi,Ni,xi,Di,Mi]}},{key:"render",value:function(){return o.a.createElement(Hl,null,o.a.createElement(ae,{columns:this.getColumns(),loading:this.props.loading,data:this.props.list,onPageChange:function(){},pagination:!1}))}}]),t}(i.Component);var dO=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.company.list}},function(e){return{fetch:function(){return e(Nv())}}})(sO),uO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={hasWeekAmount:!0,exportBtnLoading:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);if(e&&e.theMonth){var i=je.a.unix(e.theMonth/1e3).format("YYYYMM");r={theMonth:i},console.log(i===je()().format("YYYYMM")),i===je()().format("YYYYMM")?a.setState({hasWeekAmount:!0}):a.setState({hasWeekAmount:!1})}else r={theMonth:je()().format("YYYYMM")},a.setState({hasWeekAmount:!0});console.log(r),a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.getColumns=function(){var e=a.props.match,t=a.state.hasWeekAmount,n=_l(e.path);return t||n.pop(),n},a.export=function(){var e=a.props,t=e.match,n=e.query;a.setState({exportBtnLoading:!0});var r="";console.log(n.value),r=n&&n.value&&n.value.theMonth&&""!==n.value.theMonth?n.value:je()().format("YYYYMM"),console.log(r);var i="/SuperviseAction_dealerAmount";t.path.includes("vehicleAmount")&&(i="/SuperviseAction_vehicleAmount"),H.d.post(i,Object(E.a)({},n.value,{pageNum:1,pageSize:1e4})).then(function(e){if(e&&e.data&&0===e.data.result){var t=e.data.list||[];a.exportExcel(t,r)}else S.a.error(e.data.msg),a.setState({exportBtnLoading:!1})}).catch(function(e){S.a.error(e.message),a.setState({exportBtnLoading:!1})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){console.log(this.props),this.handleSearch(this.props.query.value)}},{key:"exportExcel",value:function(e,t){var a=this.props.match,n=this.state.hasWeekAmount,r=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u662f\u5426\u7279\u6b8a\u540d\u5355","\u672c\u6708\u62bd\u67e5\u6b21\u6570"]],i="";a.path.includes("dealerAmount")?(n?(r=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u662f\u5426\u7279\u6b8a\u540d\u5355","\u672c\u6708\u62bd\u67e5\u6b21\u6570","\u672c\u5468\u62bd\u67e5\u6b21\u6570"]],e.map(function(e){r.push([t,e.company,e.brand,e.dealer,1===e.isSpecial?"\u662f":"\u5426",e.cntByMonth,e.cntByWeek])})):(r=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u662f\u5426\u7279\u6b8a\u540d\u5355","\u672c\u6708\u62bd\u67e5\u6b21\u6570"]],e.map(function(e){r.push([t,e.company,e.brand,e.dealer,1===e.isSpecial?"\u662f":"\u5426",e.cntByMonth])})),i=t+"\u7ecf\u9500\u5546\u62bd\u67e5\u540d\u5355.xlsx"):(n?(r=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u8f66\u67b6\u53f7","\u662f\u5426\u7279\u6b8a\u540d\u5355","\u672c\u6708\u62bd\u67e5\u6b21\u6570","\u672c\u5468\u62bd\u67e5\u6b21\u6570"]],e.map(function(e){r.push([t,e.company,e.brand,e.dealer,e.vin,1===e.isSpecial?"\u662f":"\u5426",e.cntByMonth,e.cntByWeek])})):(r=[["\u62bd\u67e5\u65e5\u671f","\u76d1\u7ba1\u516c\u53f8","\u54c1\u724c","\u7ecf\u9500\u5546\u540d\u79f0","\u8f66\u67b6\u53f7","\u662f\u5426\u7279\u6b8a\u540d\u5355","\u672c\u6708\u62bd\u67e5\u6b21\u6570"]],e.map(function(e){r.push([t,e.company,e.brand,e.dealer,e.vin,1===e.isSpecial?"\u662f":"\u5426",e.cntByMonth])})),i=t+"\u8f66\u8f86\u62bd\u67e5\u540d\u5355.xlsx"),console.log(r);var o=Gv.utils.aoa_to_sheet(r),l=Gv.utils.book_new();Gv.utils.book_append_sheet(l,o,"\u62bd\u67e5\u540d\u5355");var c=Gv.write(l,{type:"binary",bookType:"xlsx"});en()(new Blob([this.s2ab(c)],{type:"application/octet-stream"}),i),this.setState({exportBtnLoading:!1})}},{key:"s2ab",value:function(e){for(var t=new ArrayBuffer(e.length),a=new Uint8Array(t),n=0;n!==e.length;++n)a[n]=255&e.charCodeAt(n);return t}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.loading,r=e.list,i=e.paging;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery})),o.a.createElement(N.a,{style:{"margin-bottom":15}},o.a.createElement(L.a,{span:2},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.export,loading:this.state.exportBtnLoading},"\u5bfc\u51fa"),o.a.createElement(L.a,{span:22}))),o.a.createElement(ae,{columns:this.getColumns(),loading:n,data:r,paging:i,onChange:this.handlePageChange,onPageChange:this.handlePageChange}))}}]),t}(i.Component);var pO=Object(h.b)(function(e){return{loading:e.supervise.loading}},function(e){return{fetchDealerAmount:function(t,a){return e(Rv(t,a))},fetchVehicleAmount:function(t,a){return e(Pv(t,a))}}})(uO);var mO=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.dealerAmount.list,paging:e.supervise.dealerAmount.paging,query:e.supervise.dealerAmountQuery}},function(e){return{fetch:function(t,a){return e(Rv(t,a))},updateQuery:function(t){return e(Kv(t))}}})(pO);var hO=Object(h.b)(function(e){return{loading:e.supervise.loading,list:e.supervise.vehicleAmount.list,paging:e.supervise.vehicleAmount.paging,query:e.supervise.vehicleAmountQuery}},function(e){return{fetch:function(t,a){return e(Pv(t,a))},updateQuery:function(t){return e(qv(t))}}})(pO);var gO,fO=function(e){var t=e.match;return console.log(t),"/superviseAmount"===t.url?o.a.createElement("switch",null,o.a.createElement(b.a,{path:"".concat(t.url,"/list/dealerAmount"),component:mO}),o.a.createElement(b.a,{path:"".concat(t.url,"/list/vehicleAmount"),component:hO}),o.a.createElement(Q.a,{from:"".concat(t.url),to:"".concat(t.url,"/list/dealerAmount")})):o.a.createElement("switch",null,o.a.createElement(b.a,{path:"/importView",component:Wv}),o.a.createElement(b.a,{path:"/superviseManager",component:Jv}),o.a.createElement(b.a,{path:"/specialDealer",component:cO}),o.a.createElement(b.a,{path:"/superviseParam",component:nO}),o.a.createElement(b.a,{path:"/superviseCompany",component:dO}))},bO=z.a.confirm,EO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.jumpToDetail=function(e){var t=a.props.match.path;if(e){var n={pathname:"/selfCarMgPage/detail/".concat(e),query:{url:t}};a.props.history.push(n)}},a.renderColumn=function(){var e=a.props.match.path,t=[];return t=Object(pe.a)(a.props.columns(a.jumpToDetail)),"/soldConfirm/todo"===e&&t.push({title:"\u64cd\u4f5c",fixed:"right",width:120,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.readySell(t)},"\u786e\u8ba4\u5df2\u552e"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.noSell(t)},"\u786e\u8ba4\u672a\u552e"))}}),t},a.readySell=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));bO({title:"\u786e\u8ba4\u5df2\u552e\u5c06\u7ec8\u6b62\u8be5\u8f66\u5f53\u524d\u7684\u8f66\u8f86\u4efb\u52a1\uff0c\u8bf7\u786e\u8ba4\u662f\u5426\u7ee7\u7eed\uff1f",onOk:function(){H.d.post("/self-car/v1.0/cars/sell/confirmed/".concat(e.id),{}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handlePageChange()}).catch(function(e){S.a.success("\u64cd\u4f5c\u5931\u8d25")})}})}},a.noSell=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));bO({title:"\u786e\u8ba4\u672a\u552e\u64cd\u4f5c\uff1f",onOk:function(){H.d.post("/self-car/v1.0/cars/sell/no-confirmed/".concat(e.id),{}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handlePageChange()}).catch(function(e){S.a.success("\u64cd\u4f5c\u5931\u8d25")})}})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.list,r=e.enableExport,i=e.loading;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery,enableExport:r,onExport:this.handleExport})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:i,data:n,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,bordered:!0})))}}]),t}(i.Component),yO=a(23),vO=a.n(yO),OO=Object(Y.a)((gO={},Object(U.a)(gO,"YICHAKU/SOLDCONF/FETCH_SOLD_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(gO,"YICHAKU/SOLDCONF/FETCH_SOLD_GONE",{next:function(e,t){return Object(E.a)({},e,{gone:Object(E.a)({},e.gone,{list:vO()(t.payload.data,"data.pageList.list",[]),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(gO,"YICHAKU/SOLDCONF/UPDATE_SOLD_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(gO,"YICHAKU/SOLDCONF/UPDATE_SOLD_GONE",{next:function(e,t){return Object(E.a)({},e,{gone:Object(E.a)({},e.gone,{query:Object(E.a)({},e.gone.query,t.payload)})})}}),Object(U.a)(gO,"YICHAKU/SOLDCONF/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),gO),{loading:!0,todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},gone:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}}}),SO=Object(F.a)("YICHAKU/SOLDCONF/FETCH_SOLD_TODO",function(e,t){return H.d.postWithPaging("/self-car/v1.0/cars/find/list/sold-wait-confirm",e,t)}),IO=Object(F.a)("YICHAKU/SOLDCONF/FETCH_SOLD_GONE",function(e,t){return H.d.postWithPaging("/self-car/v1.0/cars/find/list/sold-success",e,t)}),CO=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_SOLD_TODO"),_O=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_SOLD_GONE"),TO=function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)},AO=function(e){return[{title:"\u6240\u5728\u7f51\u70b9",dataIndex:"locationName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",onCell:function(t){return{onClick:function(){return e(t.id)}}},render:TO},{title:"\u8f66\u8f86\u91d1\u989d\uff08\u4e07\u5143\uff09",dataIndex:"carprice"},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"sellApplyTime"}]},kO=function(e){return[{title:"\u6240\u5728\u7f51\u70b9",dataIndex:"locationName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",onCell:function(t){return{onClick:function(){return e(t.id)}}},render:TO},{title:"\u8f66\u8f86\u91d1\u989d\uff08\u4e07\u5143\uff09",dataIndex:"carprice"},{title:"\u7533\u8bf7\u65f6\u95f4",dataIndex:"sellApplyTime"},{title:"\u786e\u8ba4\u51fa\u552e\u65f6\u95f4",dataIndex:"sellConfirmTime"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operName"}]};var wO=Object(h.b)(function(e){return{loading:e.soldConfrim.loading,list:e.soldConfrim.todo.list,paging:e.soldConfrim.todo.paging,query:e.soldConfrim.todo.query,columns:AO}},function(e){return{fetch:function(t,a){return e(SO(t,a))},updateQuery:function(t){e(CO(Object(E.a)({},t)))}}})(EO);var jO=Object(h.b)(function(e){return{loading:e.soldConfrim.loading,list:e.soldConfrim.gone.list,paging:e.soldConfrim.gone.paging,query:e.soldConfrim.gone.query,columns:kO}},function(e){return{fetch:function(t,a){return e(IO(t,a))},updateQuery:function(t){e(_O(Object(E.a)({},t)))}}})(EO);function xO(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/soldConfirm/todo",component:wO}),o.a.createElement(b.a,{exact:!0,path:"/soldConfirm/gone",component:jO}),o.a.createElement(Q.a,{from:"/soldConfirm",to:"/soldConfirm/todo"}))}var DO,MO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={brandList:[],financialList:[]},a.submit=function(e){var t=a.props.record,n=void 0===t?{}:t,r=Object(y.a)(e.brandId,3),i=r[0],o=r[1],l=r[2],c=Object(E.a)({},e,{brandId:i,trimId:o,modelId:l,id:n.id||void 0}),s=!n.id?"/self-car/v1.0/cars/add":"/self-car/v1.0/cars/update/".concat(n.id);return c.trimId&&c.modelId?H.d.submit(s,c):Promise.reject("\u54c1\u724c\u9009\u62e9\u7f3a\u5c11\u8f66\u7cfb\u6216\u8005\u8f66\u578b")},a.fetchBrandInfo=Object(bv.a)(fv.a.mark(function e(){var t,n,r,i,o,l,c,s,d,u,p,m,h;return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.props.record,n=void 0===t?{}:t,e.next=3,H.d.submit("/self-car/v1.0/brands/find/list");case 3:if(r=e.sent,i=r.data,200===(o=void 0===i?{}:i).code){l=o.data,c=l.brandList,s=void 0===c?[]:c,d=l.modelList,u=void 0===d?[]:d,p=l.trimList,m=void 0===p?[]:p;try{h=s.map(function(e){return{label:e.brandName,value:e.brandId,disabled:n.brandId&&n.brandId!==e.brandId,children:m.filter(function(t){return t.brandId===e.brandId}).map(function(e){return{label:e.trimName,value:e.trimId,children:u.filter(function(t){return t.trimId===e.trimId}).map(function(e){return{label:e.modelName,value:e.modelId}})}})}}),a.setState({brandList:h})}catch(g){}}else a.setState({brandList:[]});case 7:case"end":return e.stop()}},e)})),a.financialList=function(){H.d.submit("/self-car/v1.0/selfFinancialProducts/find/list/all",{}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({financialList:n})}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.fetchBrandInfo(),this.financialList()}},{key:"render",value:function(){var e=this.props.session,t=e.departname,a=e.departid,n=this.props,r=n.record,i=void 0===r?{}:r,l=n.ewList,c=void 0===l?[]:l;n.financialList;return o.a.createElement(ls,{title:Is()(i)?"\u65b0\u589e\u8f66\u8f86":"\u4fee\u6539\u8f66\u8f86",onOk:this.props.onOk,onCancel:this.props.onCancel,onSubmit:this.submit,record:i,width:770,configList:[{label:"\u7ecf\u9500\u5546",type:"label",value:t},{label:"\u8f66\u67b6\u53f7",type:"input",key:"chassis",rules:[{required:!0,message:"\u8bf7\u586b\u5199\u8f66\u67b6\u53f7\uff01"},{pattern:new RegExp("^[0-9a-zA-Z]{17}$","g"),message:"\u53ea\u5141\u8bb8\u5305\u542b17\u4f4d\u6570\u5b57\u3001\u5b57\u6bcd"}],initialValue:i.chassis,disabled:!Is()(i)},{type:"custom",key:"brandId",required:!0,label:"\u54c1\u724c",initialValue:i.brandId&&[i.brandId,i.trimId,i.modelId],options:this.state.brandList},{type:"radio",key:"carType",label:"\u8f66\u8f86\u7c7b\u578b",required:!0,initialValue:i.carType,optionList:[{label:"\u65b0\u8f66",value:0},{label:"\u4e8c\u624b\u8f66",value:1}],disabled:!Is()(i)},{type:"select",key:"financialProducts",label:"\u91d1\u878d\u4ea7\u54c1",initialValue:i.financialProducts||0,optionList:this.state.financialList},{type:"select",showSearch:!0,key:"locationId",label:"\u5f55\u5165\u4f4d\u7f6e",required:!0,optionGroup:!0,initialValue:i.locationId,disabled:!Is()(i),optionList:[{groupName:"\u4e3b\u5e97",list:[{name:"\u4e3b\u5e97\uff08".concat(t,"\uff09"),value:a}]},{groupName:"\u4e8c\u7f51",list:c.map(function(e){return{name:e.ewName,value:e.ewId}})}]},{label:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",type:"input",key:"bankName",initialValue:i.bankName},{label:"\u8f66\u8f86\u4ef7\u683c\uff08\u4e07\u5143\uff09",type:"inputNumber",key:"carprice",initialValue:i.carprice,rules:[{pattern:new RegExp(/[\d.]/,"g"),message:"\u53ea\u5141\u8bb8\u8f93\u5165\u6570\u5b57"}]},{label:"\u94a5\u5319\u6570\u91cf",type:"inputNumber",key:"carkeys",initialValue:i.carkeys,rules:[{pattern:new RegExp(/^[1-9]\d*$/,"g"),message:"\u53ea\u5141\u8bb8\u8f93\u5165\u6570\u5b57"}]},{label:"\u53d1\u52a8\u673a\u53f7",type:"input",key:"engine",initialValue:i.loenginecationId},{label:"\u8f66\u8eab\u989c\u8272",type:"input",key:"color",initialValue:i.color}]})}}]),t}(i.Component),NO=Object(h.b)(function(e){return{session:e.session.data}},null)(MO),LO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).submit=function(){var e=Object(bv.a)(fv.a.mark(function e(t){var n,r;return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.record,r="/self-car/v1.0/cars/delete/".concat((void 0===n?{}:n).id),e.abrupt("return",H.d.deleteMeth(r,t));case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.record,t=void 0===e?{}:e;return o.a.createElement(ls,{title:"\u5220\u9664\u8f66\u8f86",onOk:this.props.onOk,onCancel:this.props.onCancel,onSubmit:this.submit,record:t,width:600,configList:[{label:"\u8f66\u67b6\u53f7",type:"label",value:t.chassis},{label:"\u5907\u6ce8",type:"textArea",key:"remark"}]})}}]),t}(i.Component),RO=oe.a.Option,PO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,ewId:"",name:{}},a.handleOk=function(){if(a.state.ewId){var e=a.props.record,t=void 0===e?{}:e;t.locationName!=a.state.name.props.ewname?(a.setState({loading:!0}),H.d.submit("/self-car/v1.0/moveCars/add/move-to-ew",{carId:t.id,moveInId:a.state.ewId}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(200!==n.code)throw new Error(n.message);S.a.success(n.message||"\u79fb\u5165\u6210\u529f"),a.props.onOk()}).catch(function(e){a.setState({loading:!1}),S.a.error(e.message||e||"\u64cd\u4f5c\u5931\u8d25")})):S.a.warning("\u5f53\u524d\u4f4d\u7f6e\u548c\u79fb\u5165\u4f4d\u7f6e\u4e0d\u80fd\u76f8\u540c")}else S.a.warning("\u8bf7\u9009\u62e9\u8981\u79fb\u5165\u7684\u4e8c\u7f51")},a.renderColumn=function(){var e=a.props.record,t=void 0===e?{}:e;return[{label:"\u8f66\u67b6\u53f7",value:t.chassis},{label:"\u54c1\u724c",value:t.brandName},{label:"\u8f66\u7cfb",value:t.trimName},{label:"\u8f66\u578b",value:t.modelName},{label:"\u8f66\u8eab\u989c\u8272",value:t.color},{label:"\u4f4d\u7f6e\u72b6\u6001",value:t.statusName},{label:"\u5f53\u524d\u4f4d\u7f6e",value:t.locationName,span:2}]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props.ewList,a=void 0===t?[]:t,n=this.state.name,r=(n=void 0===n?{}:n).props;return o.a.createElement(z.a,{title:"\u8f66\u8f86\u79fb\u52a8",width:800,onOk:this.handleOk,onCancel:this.props.onCancel,visible:!0,confirmLoading:this.state.loading,destroyOnClose:!0},o.a.createElement("div",{style:{paddingLeft:"20px",paddingRight:"20px"}},o.a.createElement(qb.a,{title:"\u8f66\u8f86\u4fe1\u606f",layout:"vertical",column:4},this.renderColumn().map(function(e,t){return o.a.createElement(qb.a.Item,{label:e.label,span:e.span,key:t},e.value)})),o.a.createElement(qb.a,{title:"\u64cd\u4f5c\u79fb\u52a8",layout:"vertical",column:4}),o.a.createElement(N.a,null,o.a.createElement(L.a,{span:3},o.a.createElement("span",{style:{lineHeight:"30px"}},"\u79fb\u5165\u4f4d\u7f6e\uff1a")),o.a.createElement(L.a,{span:16},o.a.createElement(oe.a,{showSearch:!0,style:{width:"100%"},placeholder:"\u9009\u62e9\u4e00\u4e2a\u4e8c\u7f51",onSelect:function(t,a){e.setState({ewId:t,name:a})},filterOption:function(e,t){return t.props.children.includes(e)}},a.map(function(e){return o.a.createElement(RO,{value:e.ewId,ewname:e.ewName,ewaddress:e.ewAddress,key:e.ewId},e.ewName)})))),o.a.createElement("br",null),r&&o.a.createElement(N.a,null,o.a.createElement(L.a,{span:3},o.a.createElement("span",{style:{lineHeight:"30px"}},"\u8be6\u7ec6\u5730\u5740: ")),o.a.createElement(L.a,{span:12,style:{lineHeight:"30px"}},r.ewaddress))))}}]),t}(i.Component),UO=function(e){return o.a.createElement("a",{href:"javascript:;",className:"inlineBlock"},e)},YO=function(e){return[{title:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",dataIndex:"bankName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",onCell:function(t){return{onClick:function(){return e(t.id)}}},render:UO},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName"},{title:"\u8f66\u8f86\u91d1\u989d\uff08\u4e07\u5143\uff09",dataIndex:"carprice"},{title:"\u8f66\u8eab\u989c\u8272",dataIndex:"color"},{title:"\u5f55\u5165\u65f6\u95f4",dataIndex:"lrtime",render:function(e){return cn(e)}},{title:"\u6765\u6e90",dataIndex:"carFromName"},{title:"\u6240\u5728\u7f51\u70b9",dataIndex:"locationName"},{title:"\u8f66\u8f86\u72b6\u6001",dataIndex:"additionStatusName"},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"statusName"}]},FO=[{title:"\u4efb\u52a1\u65f6\u95f4",dataIndex:"taskTime",render:function(e){return cn(e)}},{title:"\u79fb\u51fa\u4f4d\u7f6e",dataIndex:"moveOutName"},{title:"\u79fb\u5165\u4f4d\u7f6e",dataIndex:"moveInName"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"taskTypeName"},{title:"\u79fb\u52a8\u7f16\u53f7",dataIndex:"taskId"},{title:"\u4f4d\u7f6e\u72b6\u6001",dataIndex:"statusName"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"operName"},{title:"\u64cd\u4f5c\u63cf\u8ff0",dataIndex:"description"}],HO=[{title:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",dataIndex:"bankName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u5220\u9664\u65f6\u95f4",dataIndex:"operTime",render:function(e){return cn(e)}},{title:"\u5220\u9664\u4eba",dataIndex:"operName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],KO=z.a.confirm,qO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showCarAddingModal:!1,showCarDeletingModal:!1,showCarMovingModal:!1,record:{},brandList:[],ewList:[],financialList:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(e||a.props.query.value,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}),a.financialList()},a.fetchBrandInfo=Object(bv.a)(fv.a.mark(function e(){var t,n,r,i,o,l,c,s,d,u,p;return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.d.submit("/self-car/v1.0/brands/find/list");case 2:if(t=e.sent,n=t.data,200===(r=void 0===n?{}:n).code){i=r.data,o=i.brandList,l=void 0===o?[]:o,c=i.modelList,s=void 0===c?[]:c,d=i.trimList,u=void 0===d?[]:d;try{p=l.map(function(e){return{label:e.brandName,value:e.brandId,children:u.filter(function(t){return t.brandId===e.brandId}).map(function(e){return{label:e.trimName,value:e.trimId,children:s.filter(function(t){return t.trimId===e.trimId}).map(function(e){return{label:e.modelName,value:e.modelId}})}})}}),a.setState({brandList:p})}catch(m){}}else a.setState({brandList:[]});case 6:case"end":return e.stop()}},e)})),a.fetchEwInfo=Object(bv.a)(fv.a.mark(function e(){var t,n,r;return fv.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H.d.submit("/self-car/v1.0/moveCars/find/move-to-ew/list");case 2:t=e.sent,n=t.data,200===(r=void 0===n?{}:n).code?a.setState({ewList:r.data}):(S.a.warning(r.message||"\u83b7\u53d6\u4e8c\u7f51\u4fe1\u606f\u5931\u8d25"),a.setState({ewList:[]}));case 6:case"end":return e.stop()}},e)})),a.jumpToDetail=function(e){if(e){var t=a.props.match,n=Object(J.a)(t.path,{path:"/:menu/:tab"}).params,r=(n=void 0===n?{}:n).menu,i=n.tab,o={pathname:"/".concat(r,"/detail/").concat(e),search:"?tab=".concat(i)};a.props.history.push(o)}},a.assembleColumn=function(){var e=[];return"reserved"===a.props.menuId?(e=Object(pe.a)(YO(a.jumpToDetail))).push({title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",fixed:"right",render:function(e,t){return o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",key:"\u4fee\u6539",onClick:function(){return a.setState({showCarAddingModal:!0,record:t})}},"\u4fee\u6539"),o.a.createElement(W.a,{type:"vertical",key:"Divider1"}),0===t.status&&[o.a.createElement("a",{key:"\u5220\u9664",href:"javascript:;",onClick:function(){return a.setState({showCarDeletingModal:!0,record:t})}},"\u5220\u9664"),o.a.createElement(W.a,{type:"vertical",key:"Divider2"})],(0===t.status||1===t.status)&&[o.a.createElement("a",{key:"\u79fb\u52a8",href:"javascript:;",onClick:function(){return a.setState({showCarMovingModal:!0,record:t})}},"\u79fb\u52a8"),o.a.createElement(W.a,{type:"vertical",key:"Divider3"})],0===t.status&&[o.a.createElement("a",{key:"\u51fa\u552e",href:"javascript:;",onClick:a.sellCar(t)},"\u51fa\u552e"),o.a.createElement(W.a,{type:"vertical",key:"Divider3"})],1===t.status&&[o.a.createElement("a",{key:"\u79fb\u56de\u4e3b\u5e97",href:"javascript:;",onClick:a.moveBack(t)},"\u79fb\u56de\u4e3b\u5e97"),o.a.createElement(W.a,{type:"vertical",key:"Divider3"})])}}):e=Object(pe.a)(HO),e},a.sellCar=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));KO({title:"\u786e\u5b9a\u8981\u51fa\u552e\u8be5\u8f66?",onOk:function(){H.d.submit("/self-car/v1.0/cars/sell/".concat(e.id)).then(function(e){var a=e.data,n=void 0===a?{}:a;if(200!==n.code)throw new Error(n.message);S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),t.handleSearch()}).catch(function(e){S.a.error(e.message||e||"\u51fa\u552e\u5931\u8d25")})}})}},a.moveBack=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a)),n=e.id,r=e.distributorId,i=e.locationId;KO({title:"\u786e\u5b9a\u8981\u5c06\u8be5\u8f66\u79fb\u56de\u4e3b\u5e97?",onOk:function(){H.d.submit("/self-car/v1.0/moveCars/add/move-to-main",{carId:n,distributorId:r,locationId:i}).then(function(e){var a=e.data,n=void 0===a?{}:a;if(200!==n.code)throw new Error(n.message);S.a.success("\u64cd\u4f5c\u6210\u529f\uff01"),t.handleSearch()}).catch(function(e){S.a.error(e.message||e||"\u79fb\u56de\u4e3b\u5e97\u5931\u8d25")})}})}},a.financialList=function(){H.d.submit("/self-car/v1.0/selfFinancialProducts/find/list/all",{}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({financialList:n})}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(),this.financialList(),this.fetchEwInfo()}},{key:"render",value:function(){var e=this,t=this.props,a=t.menuId,n=t.query,r=t.paging;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:this.props.location.pathname,onUpdateQuery:this.props.updateQuery,query:n,financialList:"reserved"===a&&this.state.financialList})),o.a.createElement(ae,{columns:this.assembleColumn(),loading:this.props.loading,data:this.props.list,paging:r,onChange:this.handlePageChange,onPageChange:this.handlePageChange}),this.state.showCarAddingModal&&o.a.createElement(NO,{onCancel:function(){return e.setState({showCarAddingModal:!1})},onOk:function(){e.setState({showCarAddingModal:!1},e.handleSearch())},record:this.state.record,brandList:this.state.brandList,ewList:this.state.ewList,sellOnCreditFlag:this.props.sellOnCreditFlag,financialList:this.state.financialList}),this.state.showCarDeletingModal&&o.a.createElement(LO,{onCancel:function(){return e.setState({showCarDeletingModal:!1})},onOk:function(){e.setState({showCarDeletingModal:!1},e.handleSearch())},record:this.state.record}),this.state.showCarMovingModal&&o.a.createElement(PO,{onCancel:function(){return e.setState({showCarMovingModal:!1})},onOk:function(){e.setState({showCarMovingModal:!1},e.handleSearch())},record:this.state.record,ewList:this.state.ewList}),o.a.createElement(Ic.a,null,"reserved"===a&&o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){return e.setState({showCarAddingModal:!0,record:{}})}},"\u65b0\u589e\u8f66\u8f86")))}}]),t}(i.Component),BO=Object(Y.a)((DO={},Object(U.a)(DO,"YICHAKU/SELFCARMGPAGE/FETCH_RESERVED_LIST",{next:function(e,t){return Object(E.a)({},e,{reserved:Object(E.a)({},e.reserved,{list:vO()(t.payload.data,"data.pageList.list",[]),sellOnCreditFlag:vO()(t.payload.data,"data.sellOnCreditFlag",""),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(DO,"YICHAKU/SELFCARMGPAGE/FETCH_REMOVED_LIST",{next:function(e,t){return Object(E.a)({},e,{removed:Object(E.a)({},e.removed,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(DO,"YICHAKU/SELFCARMGPAGE/UPDATE_RESERVED_QUERY",{next:function(e,t){return Object(E.a)({},e,{reserved:Object(E.a)({},e.reserved,{query:Object(E.a)({},e.reserved.query,t.payload)})})}}),Object(U.a)(DO,"YICHAKU/SELFCARMGPAGE/UPDATE_REMOVED_QUERY",{next:function(e,t){return Object(E.a)({},e,{removed:Object(E.a)({},e.removed,{query:Object(E.a)({},e.removed.query,t.payload)})})}}),Object(U.a)(DO,"YICHAKU/SELFCARMGPAGE/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),DO),{reserved:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},removed:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},loading:!0}),VO=Object(F.a)("YICHAKU/SELFCARMGPAGE/FETCH_RESERVED_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/cars/find/list",e,t)}),QO=Object(F.a)("YICHAKU/SELFCARMGPAGE/UPDATE_RESERVED_QUERY"),zO=Object(F.a)("YICHAKU/SELFCARMGPAGE/FETCH_REMOVED_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/cars/find/list/deleted",e,t)}),WO=Object(F.a)("YICHAKU/SELFCARMGPAGE/UPDATE_REMOVED_QUERY");var GO=Object(h.b)(function(e){return{loading:e.selfCarMgPage.loading,list:e.selfCarMgPage.reserved.list,paging:e.selfCarMgPage.reserved.paging,query:e.selfCarMgPage.reserved.query,sellOnCreditFlag:e.selfCarMgPage.reserved.sellOnCreditFlag,menuId:"reserved"}},function(e){return{fetch:function(t,a){return e(VO(t,a))},updateQuery:function(t){return e(QO(t))}}})(qO);var XO=Object(h.b)(function(e){return{loading:e.selfCarMgPage.loading,list:e.selfCarMgPage.removed.list,paging:e.selfCarMgPage.removed.paging,query:e.selfCarMgPage.removed.query,menuId:"removed"}},function(e){return{fetch:function(t,a){return e(zO(t,a))},updateQuery:function(t){return e(WO(t))}}})(qO),JO=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,carDetail:{},trackList:[]},a.handleSearch=function(){a.setState({loading:!0});var e=a.props.match.params.id;H.d.submit("/self-car/v1.0/cars/detail/".concat(e)).then(function(e){var t=e.data,n=void 0===t?{}:t;if(200!==n.code)throw new Error(n.message);var r=n.data,i=r.carDetail,o=void 0===i?{}:i,l=r.trackList,c=void 0===l?[]:l;a.setState({loading:!1,carDetail:o,trackList:c})}).catch(function(e){S.a.error(e.message||e||"\u83b7\u53d6\u8f66\u8f86\u4fe1\u606f\u5931\u8d25"),a.setState({loading:!1,carDetail:{},trackList:[]})})},a.renderCarInfo=function(){var e=a.state.carDetail;return e?[{label:"\u8f66\u67b6\u53f7",value:e.chassis},{label:"\u8f66\u8f86\u4ef7\u683c  (\u4e07\u5143)",value:e.carprice},{label:"\u8f66\u8f86\u7c7b\u578b",value:e.carTypeName},{label:"\u54c1\u724c",value:e.brandName},{label:"\u8f66\u7cfb",value:e.trimName},{label:"\u8f66\u578b",value:e.modelName},{label:"\u94a5\u5319\u6570",value:e.carkeys},{label:"\u8f66\u8eab\u989c\u8272",value:e.color},{label:"\u53d1\u52a8\u673a\u53f7",value:e.engine},{label:"\u8f66\u8f86\u72b6\u6001",value:e.additionStatusName},{label:"\u91d1\u878d\u4ea7\u54c1",value:e.financialProductsName},{label:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",value:e.bankName},{label:"\u6240\u5728\u4f4d\u7f6e",value:e.locationName,block:!0},{label:"\u8be6\u7ec6\u5730\u5740",value:e.businessAddress,block:!0},{label:"\u8bc1\u4ef6\u4f4d\u7f6e",value:e.certificateLocationTypeName,block:!0}]:[]},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",null,o.a.createElement(Wc,{title:"\u8f66\u8f86\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderCarInfo()})),o.a.createElement(Wc,{title:"\u8f66\u8f86\u8f68\u8ff9"},o.a.createElement(Z.a,{columns:FO,dataSource:this.state.trackList,pagination:!1,rowKey:"id"})),o.a.createElement(Ic.a,null,this.props.location.query?o.a.createElement(re.a,{onClick:function(){e.props.history.push(e.props.location.query.url)}},"\u8fd4\u56de\u5217\u8868"):o.a.createElement(Vc,null)))}}]),t}(i.Component);function ZO(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/reserved"),component:GO}),o.a.createElement(b.a,{path:"".concat(t.url,"/removed"),component:XO}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail/:id"),component:JO}),o.a.createElement(Q.a,{to:"".concat(t.url,"/reserved")}))}var $O,eS=[{title:"\u79fb\u52a8\u7f16\u53f7",dataIndex:"id"},{title:"\u4efb\u52a1\u7c7b\u578b",dataIndex:"moveTypeName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u79fb\u51fa\u4f4d\u7f6e",dataIndex:"moveOutName"},{title:"\u79fb\u5165\u4f4d\u7f6e",dataIndex:"moveInName"},{title:"\u79fb\u52a8\u53d1\u8d77\u65f6\u95f4",dataIndex:"applyTime",render:function(e){return e&&je()(e).format("YYYY-MM-DD HH:mm:ss")}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"applyName"},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"stateName"},{title:"\u5907\u6ce8",dataIndex:"remark"}],tS=z.a.confirm,aS="YYYY-MM-DD",nS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=a.props.query.value,i=r.statisDate;if(i){var o=Object(y.a)(i,2),l=o[0],c=o[1];r.startDate=l&&l.format(aS),r.endDate=c&&c.format(aS),delete r.statisDate}var s=Object(E.a)({},e);a.props.fetch(s,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",fixed:"right",render:function(e,t){return o.a.createElement(i.Fragment,null,[1,2,0].indexOf(t.state)>0&&o.a.createElement("a",{href:"javascript:;",onClick:a.cancelMove(t)},"\u53d6\u6d88\u79fb\u52a8"))}}),a.props.columns.concat(e)},a.cancelMove=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));tS({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u53d6\u6d88\u79fb\u52a8",onOk:function(){H.d.post("/self-car/v1.0/moveCars/selfMoveCars/cance-move/".concat(e.id),{}).then(function(e){200==e.data.code&&(S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handlePageChange())}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}},a.handleExport=function(){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var t=a.props.query.value,n=t.statisDate;if(n){var r=Object(y.a)(n,2),i=r[0],o=r[1];t.beginDate=i&&i.format(aS),t.endDate=o&&o.format(aS),delete t.statisDate}H.d.post("/self-car/v1.0/moveCars/selfMoveCars/export",t).then(function(e){var t=on(e.data);t&&S.a.warning(t,2.5)}).then(function(){a.setState({isExporting:!1}),e()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.list;e.enableExport;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:n,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:function(e){return"".concat(e.id)},bordered:!0})))}}]),t}(i.Component),rS=Object(Y.a)(($O={},Object(U.a)($O,"YICHAKU/MOVELIST/FETCH_MOVERECORD_LIST",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:t.payload.data.data&&t.payload.data.data.list||[],paging:{current:t.payload.data.data&&t.payload.data.data.pageNum||1,pageSize:t.payload.data.data&&t.payload.data.data.pageSize||10,total:t.payload.data.data&&t.payload.data.data.total||10}}})}}),Object(U.a)($O,"YICHAKU/MOVELIST/UPDATE_MOVERECORD_LIST",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)($O,"YICHAKU/MOVELIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),$O),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{},expandForm:!1,selfcarForm:!0}}),iS=Object(F.a)("YICHAKU/MOVELIST/FETCH_MOVERECORD_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/moveCars/find/list",e,t)}),oS=Object(F.a)("YICHAKU/MOVELIST/UPDATE_MOVERECORD_LIST");var lS,cS=Object(h.b)(function(e){return{loading:e.moveRecord.loading,list:e.moveRecord.primaryTodo.list,paging:e.moveRecord.primaryTodo.paging,query:e.moveRecord.primaryTodoQuery,columns:eS,enableExport:!0}},function(e){return{fetch:function(t,a){e(iS(t,a))},updateQuery:function(t){e(oS(Object(E.a)({},t)))}}})(nS),sS=z.a.confirm,dS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={locaModVisible:!1,isExporting:!1,locaManageInfo:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.onCancel=function(){a.setState({locaModVisible:!1})},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",fixed:"right",width:120,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.locaMod(t)},"\u4fee\u6539"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.locaDel(t)},"\u5220\u9664"))}}),a.props.columns.concat(e)},a.locaMod=function(e){return function(){a.setState({locaModVisible:!0,locaManageInfo:e})}},a.onOk=function(){a.setState({locaModVisible:!1}),a.handleSearch()},a.locaManageSubmit=function(e,t){return H.d.post("/self-car/v1.0/locations/update/".concat(t.id),{locationNewName:e.locationName}).then(function(e){return 200===e.data.code?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:e.data.message}})}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a.locaDel=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));sS({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664\u8be5\u5b9a\u4f4d\u70b9\uff1f",onOk:function(){H.d.deleteMeth("/self-car/v1.0/locations/delete/".concat(e.id)).then(function(e){200===e.data.code?S.a.success("\u64cd\u4f5c\u6210\u529f"):S.a.error("\u64cd\u4f5c\u5931\u8d25"),t.handlePageChange()})}})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.list,r=e.enableExport;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery,enableExport:r,onExport:this.handleExport})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:n,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:function(e){return"".concat(e.id)},bordered:!0})),this.state.locaModVisible&&o.a.createElement(ls,{title:"\u4fee\u6539\u5b9a\u4f4d\u70b9\u540d\u79f0",onOk:this.onOk,onCancel:this.onCancel,onSubmit:this.locaManageSubmit,record:this.state.locaManageInfo,configList:[{label:"\u539f\u540d\u79f0",type:"label",key:"locationName"},{label:"\u65b0\u540d\u79f0",type:"input",key:"locationName",required:!0,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u65b0\u540d\u79f0\uff01"}]}]}))}}]),t}(i.Component),uS=Object(Y.a)((lS={},Object(U.a)(lS,"YICHAKU/LOCAMANAGE/FETCH_LOCAMANAGE_LIST",{next:function(e,t){return Object(E.a)({},e,{primaryTodo:{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",1),total:vO()(t.payload.data,"data.total",1)}}})}}),Object(U.a)(lS,"YICHAKU/LOCAMANAGE/UPDATE_MOVERECORD_LIST",{next:function(e,t){return Object(E.a)({},e,{primaryTodoQuery:Object(E.a)({},e.primaryTodoQuery,t.payload)})}}),Object(U.a)(lS,"YICHAKU/LOCAMANAGE/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),lS),{loading:!0,primaryTodo:{list:[],paging:{current:1,pageSize:10,total:10}},primaryTodoQuery:{value:{},expandForm:!1,selfcarForm:!0}}),pS=Object(F.a)("YICHAKU/LOCAMANAGE/FETCH_LOCAMANAGE_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/locations/find/list",e,t)}),mS=Object(F.a)("YICHAKU/LOCAMANAGE/UPDATE_MOVERECORD_LIST"),hS=[{title:"\u6240\u5c5e\u4e8c\u7f51",dataIndex:"ewName"},{title:"\u5b9a\u4f4d\u70b9\u540d\u79f0",dataIndex:"locationName"},{title:"\u5b9a\u4f4d\u70b9\u5730\u5740",dataIndex:"locationAddress"},{title:"\u521b\u5efa\u4eba",dataIndex:"createUserName"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTime"}];var gS,fS=Object(h.b)(function(e){return{loading:e.locaManage.loading,list:e.locaManage.primaryTodo.list,paging:e.locaManage.primaryTodo.paging,query:e.locaManage.primaryTodoQuery,columns:hS}},function(e){return{fetch:function(t,a){e(pS(t,a))},updateQuery:function(t){e(mS(Object(E.a)({},t)))}}})(dS),bS=Object(Y.a)((gS={},Object(U.a)(gS,"YICHAKU/REGION/FETCH_REGIONSMALL_LIST ",{next:function(e,t){return Object(E.a)({},e,{regionSmall:Object(E.a)({},e.regionSmall,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(gS,"YICHAKU/REGION/FETCH_REGIONBIG_LIST ",{next:function(e,t){return Object(E.a)({},e,{regionBig:Object(E.a)({},e.regionBig,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(gS,"YICHAKU/REGION/UPDATE_REGIONSMALL_QUERY ",{next:function(e,t){return Object(E.a)({},e,{regionSmall:Object(E.a)({},e.regionSmall,{query:Object(E.a)({},e.regionSmall.query,t.payload)})})}}),Object(U.a)(gS,"YICHAKU/REGION/UPDATE_REGIONBIG_QUERY ",{next:function(e,t){return Object(E.a)({},e,{regionBig:Object(E.a)({},e.regionBig,{query:Object(E.a)({},e.regionBig.query,t.payload)})})}}),Object(U.a)(gS,"YICHAKU/REGION/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),gS),{regionSmall:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},regionBig:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},loading:!0}),ES=Object(F.a)("YICHAKU/REGION/FETCH_REGIONSMALL_LIST ",function(e,t){return H.d.post("/self-car/v1.0/selfDistributorArea/find/list/sub-area?pageNum=1&pageSize=500",e)}),yS=Object(F.a)("YICHAKU/REGION/FETCH_REGIONBIG_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfDistributorArea/find/list/area",e,t)}),vS=Object(F.a)("YICHAKU/REGION/UPDATE_REGIONSMALL_QUERY "),OS=Object(F.a)("YICHAKU/REGION/UPDATE_REGIONBIG_QUERY "),SS=[{title:"\u5927\u533a\u540d\u79f0",dataIndex:"name"},{title:"\u5c0f\u533a\u6570\u91cf",dataIndex:"subAreaNum"},{title:"\u4e8c\u7f51\u6570\u91cf",dataIndex:"ewNum"},{title:"\u533a\u57df\u5907\u6ce8",dataIndex:"remark"}],IS=[{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u7701\u4efd",dataIndex:"provinceName"},{title:"\u57ce\u5e02",dataIndex:"cityName"}],CS=[{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"employeename"},{title:"\u8d26\u53f7",dataIndex:"accid"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"mobile"}],_S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={addEwVisible:!0,tableLoading:!0,selectedRowKeys:[],selectedRows:[],ewList:[]},a.handleSearch=function(e,t,n){H.d.postWithPaging("/self-car/v1.0/ew/find/list/unrelated-sub-area",Object(E.a)({},e),{pageNum:t||1,pageSize:n||10}).then(function(e){var t=e.data;200==t.code&&(a.setState({ewList:t.data.list,tableLoading:!1}),a.props.updateQuery(a.props.query,{current:vO()(t,"data.pageNum",1),pageSize:vO()(t,"data.pageSize",10),total:vO()(t,"data.total",1)}))})},a.handleDetailPageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.onCancel=function(){a.props.addEwvisible(),a.setState({addEwVisible:!1,tableLoading:!0})},a.addEwSave=function(){H.d.post("/self-car/v1.0/selfDistributorAreaEw/add",{areaId:a.props.ewId,ewIds:a.state.selectedRowKeys.join()}).then(function(e){a.props.addEwvisible(),a.props.searchList()})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.query,n=t.updateQuery,r=t.paging,i={selectedRowKeys:this.state.selectedRowKeys,onChange:function(t,a){e.setState(Object(U.a)({selectedRowKeys:t},"selectedRowKeys",t))}};return o.a.createElement("div",null,o.a.createElement(z.a,{title:"\u65b0\u589e\u4e8c\u7f51",visible:this.state.addEwVisible,onCancel:this.onCancel,footer:null,width:1024},o.a.createElement(Gf,{formItemList:[$e,Dt,Mt],query:a,onUpdateQuery:function(e){return n(e,r)},onSearch:this.handleSearch}),o.a.createElement(ae,{loading:this.state.tableLoading,data:this.state.ewList,columns:IS,paging:r,onChange:this.handleDetailPageChange,onPageChange:this.handleDetailPageChange,rowKey:function(e){return"".concat(e.id)},rowSelection:i}),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.addEwSave},"\u4fdd\u5b58"),o.a.createElement(re.a,{style:{marginLeft:8},onClick:this.onCancel},"\u53d6\u6d88"))))}}]),t}(i.Component);a(1438);var TS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={addEwVisible:!0,tableLoading:!0,ewList:[],selectedRowKeys:[]},a.handleSearch=function(e,t,n){H.d.postWithPaging("/self-car/v1.0/selfDistributorAreaManager/find/list",Object(E.a)({areaId:a.props.regList.id},e),{pageNum:t||1,pageSize:n||10}).then(function(e){var t=e.data;200==t.code&&(a.setState({ewList:t.data.list,tableLoading:!1}),a.props.updateQuery(a.props.query,{current:vO()(t,"data.pageNum",1),pageSize:vO()(t,"data.pageSize",10),total:vO()(t,"data.total",1)}))})},a.handleDetailPageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.onCancel=function(){a.props.addEwvisible(),a.setState({addEwVisible:!1,tableLoading:!0})},a.addEwSave=function(){var e=a.state.selectedRowKeys;e.length>1?S.a.error("\u53ea\u80fd\u6dfb\u52a0\u4e00\u4e2a\u533a\u57df\u7ecf\u7406"):H.d.post("/self-car/v1.0/selfDistributorAreaManager/update",{areaId:a.props.regList.id,userId:e.join()}).then(function(e){var t=e.data;200===t.code?(a.props.addEwvisible(),a.props.searchList()):S.a.error(t.message)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.query,n=t.updateQuery,r=t.paging,i=t.regList,l={hideDefaultSelections:"true",onChange:function(t,a){e.setState({selectedRowKeys:t})},onSelect:function(e){},getCheckboxProps:function(e){return{defaultChecked:e.accid==(i.manager?i.manager.accid:"")}}};return o.a.createElement("div",null,o.a.createElement(z.a,{className:"manager",title:"\u7ba1\u7406\u533a\u57df\u7ecf\u7406",visible:this.state.addEwVisible,onCancel:this.onCancel,footer:null,width:1024},o.a.createElement(Gf,{formItemList:[Wt],query:a,onUpdateQuery:function(e){return n(e,r)},onSearch:this.handleSearch}),o.a.createElement(ae,{loading:this.state.tableLoading,data:this.state.ewList,columns:CS,paging:r,onChange:this.handleDetailPageChange,onPageChange:this.handleDetailPageChange,rowKey:function(e){return"".concat(e.id)},rowSelection:l,Pagination:!1}),o.a.createElement("div",{style:{textAlign:"center"}},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.addEwSave},"\u4fdd\u5b58"),o.a.createElement(re.a,{style:{marginLeft:8},onClick:this.onCancel},"\u53d6\u6d88"))))}}]),t}(i.Component),AS=z.a.confirm,kS=oe.a.Option,wS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={tableLoading:!0,addRegVisible:!1,bindRegVisible:!1,addEwVisible:!1,manaJlVisible:!1,tit:"",ewId:0,regList:{},bigList:[],bigValue:"",carQuery:{},carPaging:{current:1,pageSize:10,total:10}},a.bindRegSubmit=function(){H.d.post("/self-car/v1.0/selfDistributorArea/update/sub-area/binding",{id:a.state.regList.id,parentId:a.state.bigValue}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({bindRegVisible:!1}),a.handlePageChange()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a.bindReg=function(e){return function(t){t.preventDefault(),t.stopPropagation(),H.d.post("/self-car/v1.0/selfDistributorArea/find/list/area",{}).then(function(e){200==e.data.code&&a.setState({bigList:e.data.data.list})}),a.setState({bindRegVisible:!0,regList:e})}},a.columns=[{title:"\u5c0f\u533a\u540d\u79f0",dataIndex:"name"},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"manager.employeename"},{title:"\u4e8c\u7f51\u6570\u91cf",dataIndex:"ewNum"},{title:"\u6240\u5c5e\u5927\u533a",dataIndex:"parent.name"},{title:"\u5c0f\u533a\u5907\u6ce8",dataIndex:"remark"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",align:"right",width:250,render:function(e,t){return o.a.createElement("div",null,o.a.createElement("a",{href:"#",key:"bind",onClick:a.bindReg(t)},o.a.createElement(G.a,{title:"\u7ed1\u5b9a\u5927\u533a"},o.a.createElement(k.a,{type:"paper-clip"}))),o.a.createElement(W.a,{type:"vertical",key:"divider1"}),o.a.createElement("a",{href:"#",key:"new",onClick:function(e){e.preventDefault(),e.stopPropagation(),a.setState({addEwVisible:!0,ewId:t.id})}},o.a.createElement(G.a,{title:"\u65b0\u589e\u4e8c\u7f51"},o.a.createElement(k.a,{type:"plus"}))),o.a.createElement(W.a,{type:"vertical",key:"divider2"}),o.a.createElement("a",{href:"#",key:"modify",onClick:function(e){e.preventDefault(),e.stopPropagation(),a.setState({addRegVisible:!0,tit:"\u4fee\u6539\u533a\u57df\u4fe1\u606f",regList:t})}},o.a.createElement(G.a,{title:"\u4fee\u6539"},o.a.createElement(k.a,{type:"edit"}))),o.a.createElement(W.a,{type:"vertical",key:"divider3"}),o.a.createElement("a",{href:"#",key:"addReg",onClick:function(e){e.preventDefault(),e.stopPropagation(),a.setState({manaJlVisible:!0,regList:t})}},o.a.createElement(G.a,{title:"\u6dfb\u52a0\u533a\u57df\u7ecf\u7406"},o.a.createElement(k.a,{type:"user-add"}))),o.a.createElement(W.a,{type:"vertical",key:"divider4"}),o.a.createElement("a",{href:"#",key:"delete",onClick:a.delReg(t)},o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}],a.delEw=function(e,t){return function(n){n.preventDefault(),n.stopPropagation();var r=Object(Oc.a)(Object(Oc.a)(a));AS({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664\u4e8c\u7f51\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfDistributorAreaEw/delete",{id:e.id}).then(function(e){200==e.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),r.handleExpand(!0,t),r.handlePageChange()):S.a.error(e.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}},a.handleExpand=function(e,t){e&&(a.setState({tableLoading:!0}),H.d.post("/self-car/v1.0/selfDistributorAreaEw/find/list?pageNum=1&pageSize=500",{areaId:t.id||t}).then(function(e){var n,r,i=e.data;i.data?a.setState((n={},Object(U.a)(n,t.id||t,i.data.list),Object(U.a)(n,"tableLoading",!1),n)):a.setState((r={},Object(U.a)(r,t.id||t,[]),Object(U.a)(r,"tableLoading",!1),r))}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25"),a.setState({tableLoading:!1})}))},a.expandedRegionRender=function(e){var t=[{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ew.ewName"},{title:"\u7701\u4efd",dataIndex:"ew.provinceName"},{title:"\u57ce\u5e02",dataIndex:"ew.cityName"},{title:"\u64cd\u4f5c",key:"state",align:"right",width:250,render:function(t,n){return o.a.createElement("div",null,o.a.createElement("a",{href:"#",key:"delete",onClick:a.delEw(n,e)},o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}],n=e.id;return o.a.createElement("div",null,o.a.createElement("div",{style:{marginBottom:"5px",marginLeft:"-15px",marginRight:"-15px"}},o.a.createElement(Z.a,{columns:t,dataSource:a.state[n],loading:a.state.tableLoading,rowKey:"id",indentSize:0,size:"small"})))},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.onCancel=function(){a.setState({addRegVisible:!1,bindRegVisible:!1,addEwVisible:!1,tableLoading:!0})},a.addRegSubmit=function(e){var t="",n={name:e.name,remark:e.remark};"\u65b0\u589e\u5c0f\u533a"==a.state.tit?t="add":(t="update",n.id=a.state.regList.id),H.d.post("/self-car/v1.0/selfDistributorArea/".concat(t,"/sub-area"),n).then(function(e){200===e.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({addRegVisible:!1}),a.handlePageChange()):(S.a.error(e.data.message),a.setState({addRegVisible:!1}))}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a.delReg=function(e){return function(t){t.preventDefault(),t.stopPropagation();var n=Object(Oc.a)(Object(Oc.a)(a));e.ewNum>0?z.a.warning({title:"\u8be5\u533a\u4e0b\u6709\u5173\u8054\u6570\u636e\u672a\u5220\u9664\uff0c\u8bf7\u5148\u5220\u9664\u540e\u7ee7\u7eed\u64cd\u4f5c"}):AS({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664\u5c0f\u533a\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfDistributorArea/delete/sub-area",{id:e.id}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),n.handlePageChange()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}},a.handleSelectChange=function(e){a.setState({bigValue:e})},a.updateCarQuery=function(e,t){a.setState({carQuery:e,carPaging:t})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=this.state.regList;return o.a.createElement("div",{style:{background:"#fff",padding:"20px"}},o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery}),o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){return e.setState({addRegVisible:!0,tit:"\u65b0\u589e\u5c0f\u533a",regList:{}})}},"\u65b0\u589e\u5c0f\u533a"),o.a.createElement("br",null),o.a.createElement("div",{style:{background:"#fff"}},o.a.createElement(Z.a,{columns:this.columns,dataSource:this.props.list,expandedRowRender:this.expandedRegionRender,expandRowByClick:!0,pagination:!1,onExpand:this.handleExpand,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:"id",indentSize:0})),this.state.addRegVisible&&o.a.createElement(ls,{title:this.state.tit,onCancel:this.onCancel,onSubmit:this.addRegSubmit,configList:[{label:"\u533a\u57df\u540d\u79f0",type:"input",key:"name",required:!0,initialValue:r.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u533a\u57df\u540d\u79f0\uff01"}]},{label:"\u533a\u57df\u5907\u6ce8",type:"input",key:"remark",required:!0,initialValue:r.remark,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u533a\u57df\u5907\u6ce8\uff01"}]}]}),o.a.createElement(z.a,{title:"\u7ed1\u5b9a\u5927\u533a",visible:this.state.bindRegVisible,onOk:this.bindRegSubmit,onCancel:this.onCancel,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88"},o.a.createElement(ie.a,{labelCol:{span:5},wrapperCol:{span:12}},o.a.createElement(ie.a.Item,{label:"\u5c0f\u533a \uff1a"},o.a.createElement("p",null,this.state.regList.name)),o.a.createElement(ie.a.Item,{label:"\u5927\u533a"},o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9\u5927\u533a",onChange:this.handleSelectChange},this.state.bigList.map(function(e){return o.a.createElement(kS,{key:e.id,value:e.id},e.name)}))))),this.state.addEwVisible&&o.a.createElement(_S,{query:this.state.carQuery,paging:this.state.carPaging,updateQuery:this.updateCarQuery,ewId:this.state.ewId,addEwvisible:function(){e.setState({addEwVisible:!1,carQuery:{}})},searchList:function(){e.handleSearch(),e.handleExpand(!0,e.state.ewId)}}),this.state.manaJlVisible&&o.a.createElement(TS,{query:this.state.carQuery,paging:this.state.carPaging,updateQuery:this.updateCarQuery,regList:this.state.regList,addEwvisible:function(){e.setState({manaJlVisible:!1,carQuery:{}})},searchList:function(){e.handleSearch()}}))}}]),t}(i.Component);var jS=Object(h.b)(function(e){return{loading:e.regionalism.loading,list:e.regionalism.regionSmall.list,paging:e.regionalism.regionSmall.paging,query:e.regionalism.regionSmall.query}},function(e){return{fetch:function(t,a){return e(ES(t,a))},updateQuery:function(t){e(vS(Object(E.a)({},t)))}}})(wS),xS=z.a.confirm,DS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={addRegVisible:!1,tit:"",id:0,record:{}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r={name:e&&e.regionName};a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",fixed:"right",width:120,render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"#",key:"modify",onClick:function(){a.setState({addRegVisible:!0,tit:"\u4fee\u6539\u5927\u533a",id:t.id,record:t})}},o.a.createElement(G.a,{title:"\u4fee\u6539"},o.a.createElement(k.a,{type:"edit"}))),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"#",key:"delete",onClick:a.delReg(t)},o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",style:{color:"red"}}))))}}),a.props.columns.concat(e)},a.delReg=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));xS({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664\u5927\u533a\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfDistributorArea/delete/area",{id:e.id}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handlePageChange()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}},a.onCancel=function(){a.setState({addRegVisible:!1})},a.addRegSubmit=function(e){var t="",n={name:e.name,remark:e.remark};"\u65b0\u589e\u5927\u533a"==a.state.tit?t="/self-car/v1.0/selfDistributorArea/add/area":(t="/self-car/v1.0/selfDistributorArea/update/area",n.id=a.state.id),H.d.post(t,n).then(function(e){200===e.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({addRegVisible:!1}),a.handlePageChange()):(S.a.error(e.data.message),a.setState({addRegVisible:!1}))}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.list,i=this.state.record;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery}),o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){return e.setState({addRegVisible:!0,tit:"\u65b0\u589e\u5927\u533a",record:{}})}},"\u65b0\u589e\u5927\u533a")),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:r,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:function(e){return"".concat(e.id)}})),this.state.addRegVisible&&o.a.createElement(ls,{title:this.state.tit,onCancel:this.onCancel,onSubmit:this.addRegSubmit,configList:[{label:"\u533a\u57df\u540d\u79f0",type:"input",key:"name",required:!0,initialValue:i.name,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u533a\u57df\u540d\u79f0\uff01"}]},{label:"\u533a\u57df\u5907\u6ce8",type:"input",key:"remark",required:!0,initialValue:i.remark,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u533a\u57df\u5907\u6ce8\uff01"}]}]}))}}]),t}(i.Component);var MS,NS=Object(h.b)(function(e){return{loading:e.regionalism.loading,list:e.regionalism.regionBig.list,paging:e.regionalism.regionBig.paging,query:e.regionalism.regionBig.query,columns:SS}},function(e){return{fetch:function(t,a){return e(yS(t,a))},updateQuery:function(t){e(OS(Object(E.a)({},t)))}}})(DS);function LS(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/regionalism/smallMang",component:jS}),o.a.createElement(b.a,{exact:!0,path:"/regionalism/bigMang",component:NS}),o.a.createElement(Q.a,{from:"/regionalism",to:"/regionalism/smallMang"}))}var RS=Object(Y.a)((MS={},Object(U.a)(MS,"YICHAKU/EXUPLOADALL/FETCH_RESERVED_LIST ",{next:function(e,t){return Object(E.a)({},e,{params_excelUpload:Object(E.a)({},e.params_excelUpload,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",0),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/FETCH_RECORD_LIST ",{next:function(e,t){return Object(E.a)({},e,{params_carImports:Object(E.a)({},e.params_carImports,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/FETCH_SELLDATA_LIST ",{next:function(e,t){return Object(E.a)({},e,{params_sell:Object(E.a)({},e.params_sell,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/UPDATE_RESERVED_QUERY ",{next:function(e,t){return Object(E.a)({},e,{params_excelUpload:Object(E.a)({},e.params_excelUpload,{query:Object(E.a)({},e.params_excelUpload.query,t.payload)})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/UPDATE_RECORD_QUERY ",{next:function(e,t){return Object(E.a)({},e,{params_carImports:Object(E.a)({},e.params_carImports,{query:Object(E.a)({},e.params_carImports.query,t.payload)})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/UPDATE_SELLDATA_QUERY ",{next:function(e,t){return Object(E.a)({},e,{params_sell:Object(E.a)({},e.params_sell,{query:Object(E.a)({},e.params_sell.query,t.payload)})})}}),Object(U.a)(MS,"YICHAKU/EXUPLOADALL/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),MS),{params_excelUpload:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},params_carImports:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},params_sell:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},loading:!0}),PS=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_RESERVED_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/excelUpload/find/all/list",e,t)}),US=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_RECORD_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/carImports/find/all/list",e,t)}),YS=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_SELLDATA_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/carImports/find/all/list/sell/",e,t)}),FS=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_RESERVED_QUERY "),HS=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_RECORD_QUERY "),KS=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_SELLDATA_QUERY "),qS="YYYY-MM-DD HH:mm:ss",BS=z.a.confirm,VS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.columns=[{title:"\u6587\u4ef6\u4e0a\u4f20\u65f6\u95f4",dataIndex:"uploadTime",key:"1",render:function(e){return e&&je()(e).format(qS)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"uploadUserName",key:"2"},{title:"\u4e0a\u4f20\u6587\u4ef6\u540d",dataIndex:"fileName",key:"3"},{title:"\u5904\u7406\u72b6\u6001",dataIndex:"statusName",key:"4"},{title:"\u6279\u6b21\u53f7",dataIndex:"batchno",key:"5"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:250,render:function(e,t){return o.a.createElement("div",null,"\u5f85\u5904\u7406"===t.statusName&&o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",onClick:a.importOper(t)},"\u5bfc\u5165"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.deleOper(t)},"\u5220\u9664")),("\u5904\u7406\u5b8c\u6210"===t.statusName||"\u5904\u7406\u5f02\u5e38"===t.statusName)&&o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",onClick:a.sellData(t)},"\u51fa\u552e\u6570\u636e")))}}],a.sellData=function(e){return function(){a.props.history.push("/excUploadAll/sellData/".concat(e.batchno))}},a.importOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));BS({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5bfc\u5165\u8be5\u6587\u4ef6?",onOk:function(){t.setState({loading:!0}),H.d.post("/self-car/v1.0/excelUpload/importCars/all/".concat(e.batchno),{}).then(function(e){200===e.data.code?(t.setState({loading:!1}),S.a.success("\u5bfc\u5165\u6210\u529f"),t.handleSearch()):(t.setState({loading:!1}),S.a.error(e.data.message))})}})}},a.deleOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));BS({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5220\u9664\u8be5\u6587\u4ef6?",onOk:function(){H.d.deleteMeth("/self-car/v1.0/excelUpload/delete/all/".concat(e.fileId)).then(function(e){200===e.data.code?S.a.success("\u64cd\u4f5c\u6210\u529f"):S.a.error("\u64cd\u4f5c\u5931\u8d25"),t.handleSearch()})}})}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t={name:"file",action:"/self-car/v1.0/excelUpload/upload/all",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",beforeUpload:function(e){console.log(e.name)},onChange:function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?t.file&&t.file.response&&(200===t.file.response.code?(S.a.success("\u4e0a\u4f20\u6210\u529f"),e.handleSearch()):S.a.error(t.file.response.message)):"error"===t.file.status&&S.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))}};return o.a.createElement(Hl,null,o.a.createElement(Av.a,t,o.a.createElement(re.a,null,"\u8bf7\u9009\u62e9\u4e00\u4e2aexcel\u6587\u4ef6")),o.a.createElement("br",null),o.a.createElement(vc.a,{tip:"\u5bfc\u5165\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",spinning:this.state.loading},o.a.createElement(ae,{columns:this.columns,data:this.props.list,rowKey:function(e){return"".concat(e.batchno)},loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})))}}]),t}(i.Component);var QS=Object(h.b)(function(e){return{loading:e.exUploadAll.loading,list:e.exUploadAll.params_excelUpload.list,paging:e.exUploadAll.params_excelUpload.paging,query:e.exUploadAll.params_excelUpload.query}},function(e){return{fetch:function(t,a){return e(PS(t,a))},updateQuery:function(t){e(FS(Object(E.a)({},t)))}}})(VS),zS=[{title:"\u6279\u6b21\u53f7",dataIndex:"batchno"},{title:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",dataIndex:"bankName"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u8eab\u989c\u8272",dataIndex:"color"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName"},{title:"\u8bc1\u4ef6\u4f4d\u7f6e",dataIndex:"certificateLocationName"},{title:"\u72b6\u6001",dataIndex:"processStatusName"},{title:"\u7c7b\u578b",dataIndex:"processTypeName"},{title:"\u5bfc\u5165\u65f6\u95f4",dataIndex:"createTime"},{title:"\u6700\u540e\u5904\u7406\u65f6\u95f4",dataIndex:"handleTime"},{title:"\u5907\u6ce8",dataIndex:"remark"}],WS=[{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u72b6\u6001",dataIndex:"processStatusName"},{title:"\u5bfc\u5165\u65f6\u95f4",dataIndex:"createTime"},{title:"\u5904\u7406\u65f6\u95f4",dataIndex:"handleTime"},{title:"\u5907\u6ce8",dataIndex:"remark"}],GS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExport=function(){if(a.props.list.length){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var t=a.props.query.value;H.c.submit("/self-car/v1.0/carImports/export/all/list",Object(E.a)({},t)).then(function(e){var t=on(e);t&&S.a.warning(t,2.5)}).then(function(t){a.setState({isExporting:!1}),e()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}else S.a.error("\u6682\u65e0\u6570\u636e,\u65e0\u6cd5\u5bfc\u51fa")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery,enableExport:!0,onExport:this.handleExport,isExporting:this.state.isExporting})),o.a.createElement(ae,{columns:zS,data:this.props.list,loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange}))}}]),t}(i.Component);var XS=Object(h.b)(function(e){return{loading:e.exUploadAll.loading,list:e.exUploadAll.params_carImports.list,paging:e.exUploadAll.params_carImports.paging,query:e.exUploadAll.params_carImports.query}},function(e){return{fetch:function(t,a){return e(US(t,a))},updateQuery:function(t){e(HS(Object(E.a)({},t)))}}})(GS),JS=z.a.confirm,ZS=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={selectedRowKeys:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);r.batchno=a.props.match.params.id,a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleMultipleRow=function(){return function(){if(0!=a.state.selectedRowKeys.length){var e=Object(Oc.a)(Object(Oc.a)(a));JS({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u51fa\u552e\u6240\u9009\u6570\u636e?",onOk:function(){H.d.post("/self-car/v1.0/carImports/find/all/Sold",e.state.selectedRowKeys.map(Number)).then(function(t){200===t.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),e.handlePageChange()):S.a.error(t.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}else S.a.error("\u8bf7\u9009\u62e9\u6570\u636e")}},a.deleteMultipleRow=function(){return function(){if(0!=a.state.selectedRowKeys.length){var e=Object(Oc.a)(Object(Oc.a)(a));JS({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5e9f\u5f03\u5df2\u9009\u62e9\u6570\u636e?",onOk:function(){H.d.post("/self-car/v1.0/carImports/delete/all/sells",e.state.selectedRowKeys.map(Number)).then(function(t){200===t.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),e.handlePageChange()):S.a.error(t.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}else S.a.error("\u8bf7\u9009\u62e9\u6570\u636e")}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r={onChange:function(t,a){e.setState({selectedRowKeys:t})},getCheckboxProps:function(e){return{disabled:"\u5904\u7406\u5b8c\u6210"===e.processStatusName}}};return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery}),o.a.createElement(re.a,{type:"primary",onClick:this.handleMultipleRow()},"\u51fa\u552e\u6240\u9009\u6570\u636e"),o.a.createElement(re.a,{type:"primary",onClick:this.deleteMultipleRow()},"\u5e9f\u5f03\u5df2\u9009\u62e9\u6570\u636e")),o.a.createElement("br",null),o.a.createElement(ae,{columns:WS,data:this.props.list,loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowSelection:r,bordered:!0}),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);var $S=Object(h.b)(function(e){return{loading:e.exUploadAll.loading,list:e.exUploadAll.params_sell.list,paging:e.exUploadAll.params_sell.paging,query:e.exUploadAll.params_sell.query}},function(e){return{fetch:function(t,a){return e(YS(t,a))},updateQuery:function(t){e(KS(Object(E.a)({},t)))}}})(ZS);function eI(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/excUploadAll/uploadAll",component:QS}),o.a.createElement(b.a,{path:"/excUploadAll/uploadAllList",component:XS}),o.a.createElement(b.a,{path:"/excUploadAll/sellData/:id",component:$S}),o.a.createElement(Q.a,{from:"/excUploadAll",to:"/excUploadAll/uploadAll"}))}var tI,aI,nI={title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",render:function(e,t){return t.car.chassis}},rI={title:"\u54c1\u724c",dataIndex:"brandName",render:function(e,t){return t.car.brandName}},iI={title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"spottest.bookTime"},oI={title:"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4",dataIndex:"viewTime"},lI={title:"\u4efb\u52a1\u622a\u6b62\u65f6\u95f4",dataIndex:"deadline",render:function(e){return cn(e)}},cI={title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"submitTime"},sI={title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},dI={title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName",render:function(e,t){return t.car.carTypeName}},uI={title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"statusName"},pI={title:"\u5f02\u5e38\u7c7b\u578b",dataIndex:"excReasonName"},mI={title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName",render:function(e,t){return t.car.financialProductsName}},hI={title:"\u603b\u6570",dataIndex:"totalNum"},gI={title:"\u672a\u4e0a\u4f20",dataIndex:"unuploadNum"},fI=[nI,rI,iI,lI,cI,sI,dI,uI],bI=[nI,rI,iI,lI,cI,sI,dI,uI,pI],EI=[nI,rI,iI,oI,lI,cI,sI,dI,mI,uI],yI=[nI,rI,iI,oI,lI,cI,sI,dI,mI,uI,pI],vI=[{title:"\u5927\u533a",dataIndex:"areaName"},{title:"\u5c0f\u533a",dataIndex:"subAreaName"},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"managerName"},{title:"\u8054\u7cfb\u7535\u8bdd",dataIndex:"managerTel"},{title:"\u4e8c\u7f51\u8054\u7cfb\u4eba",dataIndex:"ewContactName"},{title:"\u4e8c\u7f51\u8054\u7cfb\u7535\u8bdd",dataIndex:"ewContactTel"}],OI=[sI,{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime"},oI,lI,{title:"\u5927\u533a",dataIndex:"ewAreaManager.areaName"},{title:"\u5c0f\u533a",dataIndex:"ewAreaManager.subAreaName"},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"ewAreaManager.managerName"},hI,gI,{title:"\u5df2\u4e0a\u4f20\u5f85\u5ba1\u6838",dataIndex:"uploadNum"},{title:"\u672a\u5ba1\u6838",dataIndex:"unapproveNum"}],SI=[sI,{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime"},oI,lI,hI,gI,{title:"\u5df2\u4e0a\u4f20",dataIndex:"uploadNum"},{title:"\u5f02\u5e38",dataIndex:"unnormalNum"}],II=a(772),CI=a.n(II),_I=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={list:[],selectedRowKeys:Array.isArray(a.props.record)?a.props.record.map(function(e){return e.id}):[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query,e,t)},a.handleRowSelectChange=function(e,t){a.setState({selectedRowKeys:e}),a.props.onSelectRow(e,t)},a.handleSearch=function(e,t,n){var r={};CI()(e,function(e,t){null!==e&&(r[t]=e)});var i=a.props.isCertificateSpot?"/self-car/v1.0/cars/find/list/spot-certificate":"/self-car/v1.0/cars/find/list/spot-car";H.d.postWithPaging(i,r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}).then(function(e){var t=e.data;if(200!=t.code)return Promise.reject(t.message||"\u83b7\u53d6\u8f66\u8f86\u6570\u636e\u5931\u8d25");a.setState({list:t.data.list}),a.props.updateQuery(a.props.query,{current:vO()(t,"data.pageNum",1),pageSize:vO()(t,"data.pageSize",10),total:vO()(t,"data.total",1)})}).catch(function(e){S.a.error(e.message||e),a.setState({list:[]})})},a.showTotal=function(e){return"\u5171 ".concat(e," \u6761\u6570\u636e")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query)}},{key:"render",value:function(){var e=this.props,t=e.query,a=e.updateQuery,n=e.paging,r=e.isCertificateSpot,i=this.state.selectedRowKeys;return o.a.createElement("div",null,o.a.createElement(Gf,{formItemList:r?[kI,AI,$e,qe]:[$e,ft,qe,kI,ea],query:t,onUpdateQuery:function(e){return a(e,n)},onSearch:this.handleSearch}),o.a.createElement(ae,{columns:r?jI:wI,onChange:this.handlePageChange,onPageChange:this.handlePageChange,data:this.state.list,paging:Object(E.a)({},n,{pageSizeOptions:["10","30","50","100"],showSizeChanger:!0,showQuickJumper:!0,onChange:this.props.onChange,onShowSizeChange:this.props.onPageChange,showTotal:this.showTotal}),size:"small",scroll:{x:"max-content"},bordered:!1,rowSelection:{selectedRowKeys:i,onChange:this.handleRowSelectChange},rowKey:"id"}))}}]),t}(i.PureComponent),TI=ie.a.Item,AI=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"areaManagerName"},o.a.createElement(TI,{label:"\u533a\u57df\u7ecf\u7406"},e("areaManagerName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u9009\u62e9\u5c0f\u533a\u540d\u79f0"}))))},kI=function(e){return o.a.createElement(L.a,{md:6,sm:24,key:"subAreaName"},o.a.createElement(TI,{label:"\u5c0f\u533a\u540d\u79f0"},e("subAreaName")(o.a.createElement(he.a,{placeholder:"\u8bf7\u8f93\u5165\u5c0f\u533a\u540d\u79f0"}))))},wI=[{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName"},{title:"\u8f66\u8f86\u72b6\u6001",dataIndex:"additionStatusName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u5c0f\u533a",dataIndex:"subAreaName"},{title:"\u4e0a\u6b21\u62bd\u67e5\u65f6\u95f4",dataIndex:"spottestTime"}],jI=[{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u8f66\u8f86\u72b6\u6001",dataIndex:"additionStatusName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u5c0f\u533a",dataIndex:"subAreaName"},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"areaManagerName"},{title:"\u4e0a\u6b21\u62bd\u67e5\u65f6\u95f4",dataIndex:"spottestTime"}],xI=ie.a.Item,DI=ts.a.Group,MI=ie.a.create()(tI=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={orderType:a.props.record.orderType||null,bookTime:a.props.record.bookTime||null},a.onTypeChange=function(e){e&&e.target&&a.setState({orderType:e.target.value},a.updateQuery)},a.onDateChange=function(e){a.setState({bookTime:e},a.updateQuery)},a.updateQuery=function(){var e=a.state,t=e.orderType,n=e.bookTime;a.props.onChange(t,n)},a.disabledTime=function(e){if(e&&e.isSame(je()(),"day"))return{disabledHours:function(){return ib()(0,je()().hour()+1)}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},o.a.createElement(ie.a,Object.assign({},{labelCol:{span:8},wrapperCol:{span:16}},{onSubmit:this.handleSubmit,style:{width:"400px"}}),o.a.createElement(xI,{label:"\u4e0b\u53d1\u65b9\u5f0f",key:"orderType"},e("orderType",{initialValue:this.state.orderType,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0b\u53d1\u65b9\u5f0f"}]})(o.a.createElement(DI,{onChange:this.onTypeChange},o.a.createElement(ts.a,{value:1},"\u7acb\u5373\u4e0b\u53d1"),o.a.createElement(ts.a,{value:2},"\u9884\u7ea6\u4e0b\u53d1")))),2===this.state.orderType&&o.a.createElement(xI,{label:"\u4e0b\u53d1\u65e5\u671f",key:"bookTime"},e("bookTime",{initialValue:this.state.bookTime,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u4e0b\u53d1\u65e5\u671f"}]})(o.a.createElement(ge.a,{onChange:this.onDateChange,showTime:!0,format:"YYYY-MM-DD HH:mm:ss",showToday:!1,disabledDate:function(e){return e&&e<je()().subtract(1,"d").endOf("day")},disabledTime:this.disabledTime})))))}}]),t}(i.Component))||tI,NI=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.ifSuccess;return o.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column",height:"160px"}},o.a.createElement("div",{style:{marginBottom:"24px",fontSize:"72px",lineHeight:"72px",color:e?"#52c41a":"#f5222d"}},o.a.createElement(k.a,{type:e?"check-circle":"close-circle"})),o.a.createElement("p",{style:{marginBottom:"24px",fontSize:"24px",lineHeight:"22px",color:"rgba(0,0,0,.45)"}},e?"\u4efb\u52a1\u4e0b\u53d1\u6210\u529f":"\u4efb\u52a1\u4e0b\u53d1\u5931\u8d25"),!e&&o.a.createElement("p",{style:{marginBottom:"16px",fontSize:"14px",lineHeight:"32px",color:"rgba(0,0,0,.45)"}},"\u8bf7\u6838\u5bf9\u9009\u62e9\u7684\u8f66\u8f86\u4fe1\u606f\uff0c\u518d\u91cd\u65b0\u4e0b\u53d1\u4efb\u52a1"))}}]),t}(i.Component),LI=Sc.a.Step,RI=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={step:0,carRecordList:[],orderRecord:{},carQuery:{},ifSuccess:!1,isLoading:!1,carPaging:{current:1,pageSize:10,total:10}},a.handleCancel=function(){a.resetQuery(),a.props.onCancel()},a.renderFooter=function(){var e=a.state,t=e.step,n=e.carRecordList,r=e.orderRecord,i=e.ifSuccess,l=e.isLoading;return o.a.createElement("div",null,0!==t&&(2!==t||!i)&&o.a.createElement(re.a,{key:"back",icon:"left",onClick:function(){return a.setState({step:Math.max(0,a.state.step-1)})}},"\u4e0a\u4e00\u6b65"),o.a.createElement(re.a,{key:"next",icon:t>=1?"check":"right",type:t>=1?"primary":"",loading:2===t&&l,disabled:l||0===t&&(!Array.isArray(n)||0===n.length)||1===t&&(!r.orderType||2===r.orderType&&!r.bookTime),onClick:function(){t<1?a.setState({step:Math.min(3,a.state.step+1)}):1===t?a.handleSubmit():2===t&&a.props.onOk()}},2===t?"\u5b8c\u6210":2===t?"\u63d0\u4ea4":"\u4e0b\u4e00\u6b65"))},a.handleSubmit=function(){var e=a.props.isCertificateSpot,t=a.state,n=t.carRecordList,r=t.orderRecord;try{var i=n.map(function(e){return e.id}).join(),o={bookTime:2===r.orderType?r.bookTime.format("YYYY-MM-DD HH:mm:ss"):void 0,carIds:i,spottesttype:e?30:20};return new Date(o.bookTime)<new Date?void S.a.error("\u4e0b\u53d1\u65f6\u95f4\u4e0d\u80fd\u65e9\u4e8e\u5f53\u524d\u65f6\u95f4"):(a.setState({isLoading:!0}),H.d.submit("/self-car/v1.0/selfSpottest/add",o).then(function(e){var t=e.data,n=void 0===t?{}:t;if(200!=n.code)return Promise.reject(n.message||"\u4e0b\u53d1\u62bd\u67e5\u5931\u8d25");a.setState({step:2,ifSuccess:!0,isLoading:!1})}).catch(function(e){a.setState({step:2,ifSuccess:!1,isLoading:!1}),S.a.error(e.message||e)}))}catch(l){S.a.error(l.message)}},a.handleCarSelectRow=function(e,t){var n=a.state.carRecordList,r=Object(pe.a)(n).concat(t.filter(function(e){return!n.map(function(e){return e.id}).includes(e.id)})).filter(function(t){return e.includes(t.id)});a.setState({carRecordList:r})},a.handleOrderChange=function(e,t){a.setState({orderRecord:Object(E.a)({},a.state.orderRecord,{orderType:e,bookTime:t})})},a.updateCarQuery=function(e,t){a.setState({carQuery:e,carPaging:t})},a.resetQuery=function(){a.setState({firstStepQuery:{},carQuery:{}})},a.renderCarDesc=function(){var e=a.state.carRecordList;if(0===e.length)return null;if(1===e.length)return e[0].chassis;var t=o.a.createElement("span",null,"\u8f66\u67b6\u53f7\u5217\u8868\uff1a",o.a.createElement("br",null),e.map(function(e){return o.a.createElement("span",{key:e.id},e.chassis," ",o.a.createElement("br",null))}));return o.a.createElement(G.a,{title:t,placement:"right"},"\u5df2\u9009\u62e9".concat(e.length,"\u8f86\u8f66 "),o.a.createElement(k.a,{type:"info-circle"}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.isCertificateSpot,t=this.state,a=t.step,n=t.carRecordList,r=t.orderRecord,i=t.ifSuccess;return o.a.createElement(z.a,{title:e?"\u65b0\u5efa\u76d8\u8bc1\u62bd\u67e5\u4efb\u52a1":"\u65b0\u5efa\u81ea\u6709\u8f66\u62bd\u67e5\u4efb\u52a1",visible:!0,onCancel:this.handleCancel,footer:this.renderFooter(),width:1100,height:800,destroyOnClose:!0},o.a.createElement("div",{style:{marginBottom:"10px",minHeight:"65px"}},o.a.createElement(Sc.a,{size:"small",current:a},o.a.createElement(LI,{title:"\u9009\u62e9\u8f66\u8f86",description:this.renderCarDesc()}),o.a.createElement(LI,{title:"\u9009\u62e9\u9884\u7ea6\u65b9\u5f0f"}),o.a.createElement(LI,{title:"\u5b8c\u6210"}))),o.a.createElement("div",{style:{padding:"20px 10px",border:"1px dashed #e9e9e9",borderRadius:"6px",backgroundColor:"#fafafa",minHeight:"200px"}},0===a&&o.a.createElement(_I,{query:this.state.carQuery,paging:this.state.carPaging,updateQuery:this.updateCarQuery,onSelectRow:this.handleCarSelectRow,record:n,isCertificateSpot:e}),1===a&&o.a.createElement(MI,{record:r,onChange:this.handleOrderChange}),2===a&&o.a.createElement(NI,{ifSuccess:i})))}}]),t}(i.Component),PI=a(526),UI=a.n(PI),YI=z.a.confirm,FI=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showManuSpotModal:!1,showReportModal:!1,record:{},excepList:[],financialList:[]},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(e||a.props.query.value,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}),a.financialList()},a.stopTask=function(e){var t=Object(Oc.a)(Object(Oc.a)(a));Is()(e)||YI({title:"\u60a8\u771f\u7684\u8981\u7ec8\u6b62\u8be5\u4efb\u52a1\u5417\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfSpottestDetail/update/stop",{id:e.id,terminationRemark:"TBC"}).then(function(e){var a=e.data,n=void 0===a?{}:a;if(200!==n.code)return Promise.reject(n.message||"\u7ec8\u6b62\u4efb\u52a1\u5931\u8d25");S.a.success("\u7ec8\u6b62\u4efb\u52a1\u6210\u529f"),t.handleSearch()}).catch(function(e){S.a.error(e.message||e)})}})},a.cancelMove=function(e){var t=Object(Oc.a)(Object(Oc.a)(a));YI({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u53d6\u6d88\u79fb\u52a8",onOk:function(){H.d.post("/self-car/v1.0/moveCars/selfMoveCars/cance-move/".concat(e.spottest.taskId),{remark:"\u79fb\u52a8\u4efb\u52a1\u53d6\u6d88\u79fb\u52a8"}).then(function(e){if(200!=e.data.code)return Promise.reject(e.data.message);S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handleSearch()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})},a.calcColumns=function(){var e=[],t=a.props.menuId;switch(t){case"commonTodo":e=Object(pe.a)(EI);break;case"commonDone":e=Object(pe.a)(yI);break;case"certificateTodo":e=Object(pe.a)(OI);break;case"certificateDone":e=Object(pe.a)(SI);break;case"movingTodo":e=Object(pe.a)(fI);break;case"movingDone":e=Object(pe.a)(bI);break;default:e=Object(pe.a)(EI)}return e.push({title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",fixed:"right",align:"center",render:function(e,n){return o.a.createElement("div",null,"certificateTodo"!==t&&"certificateDone"!==t&&[o.a.createElement(G.a,{title:"\u6240\u5c5e\u4fe1\u606f",key:"\u6240\u5c5e\u4fe1\u606f"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.setState({showReportModal:!0,record:n})}},o.a.createElement(k.a,{type:"user",style:{color:"rgba(0, 0, 0, 0.65)"}}))),o.a.createElement(W.a,{type:"vertical",key:"Divider"})],"certificateTodo"!==t&&"certificateDone"!==t&&o.a.createElement(G.a,{title:"\u5ba1\u6838",key:"\u5ba1\u6838"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.jumpToDetail(n.id)}},o.a.createElement(k.a,{type:"search"}))),("certificateTodo"===t||"certificateDone"===t)&&o.a.createElement(G.a,{title:"\u5ba1\u6838",key:"\u5ba1\u6838"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.jumpToDetail(n.id,"cert")}},o.a.createElement(k.a,{type:"search"}))),("commonTodo"===t||"movingTodo"===t)&&o.a.createElement(W.a,{type:"vertical",key:"Divider"}),"commonTodo"===t&&o.a.createElement(G.a,{title:"\u7ec8\u6b62",key:"\u7ec8\u6b62"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.stopTask(n)}},o.a.createElement(k.a,{type:"poweroff",style:{color:"red"}}))),"movingTodo"===t&&o.a.createElement(G.a,{title:"\u53d6\u6d88\u79fb\u52a8",key:"\u53d6\u6d88\u79fb\u52a8"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return a.cancelMove(n)}},o.a.createElement(k.a,{type:"poweroff",style:{color:"red"}}))))}}),e},a.jumpToDetail=function(e,t){if(e){var n=a.props.match,r=Object(J.a)(n.path,{path:"/:menu/list/:tab"}).params,i=(r=void 0===r?{}:r).menu,o=r.tab,l={pathname:t?"/".concat(i,"/CerDetail/").concat(e):"/".concat(i,"/detail/").concat(e),search:"?tab=".concat(o)};a.props.history.push(l)}},a.setClassName=function(e){var t="";return e.deadline&&new Date(e.deadline)<new Date&&(10==e.status||30==e.status||e.unuploadNum>0)&&(t=UI.a.trColor),t},a.excReasonList=function(e){H.d.submit("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:e}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({excepList:n})}})},a.financialList=function(){H.d.submit("/self-car/v1.0/selfFinancialProducts/find/list/all",{}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({financialList:n})}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e="commonDone"===this.props.menuId?20:50;this.excReasonList(e),this.financialList(),this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props,a=t.menuId,n=t.query,r=t.paging,i=t.dealer;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:this.props.location.pathname,onUpdateQuery:this.props.updateQuery,query:n,financialList:("commonTodo"===a||"commonDone"===a)&&this.state.financialList,excReasonList:("commonDone"===a||"movingDone"===a)&&this.state.excepList})),o.a.createElement(ae,{columns:this.calcColumns(),loading:this.props.loading,data:this.props.list,paging:r,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowClassName:a.indexOf("Todo")>-1?this.setClassName:""}),a.indexOf("Todo")>-1&&o.a.createElement("div",{className:UI.a.iocnCer},o.a.createElement("span",null),"\u8d85\u65f6\u672a\u62cd\u7167"),this.state.showManuSpotModal&&o.a.createElement(RI,{isCertificateSpot:"commonTodo"!==a,onCancel:function(){return e.setState({showManuSpotModal:!1})},onOk:function(){return e.setState({showManuSpotModal:!1},e.handleSearch)}}),o.a.createElement(z.a,{title:"\u6240\u5c5e\u4fe1\u606f",visible:this.state.showReportModal,onCancel:function(){return e.setState({showReportModal:!1})},width:1100,footer:null,destroyOnClose:!0},o.a.createElement("div",null,o.a.createElement(Z.a,{dataSource:[this.state.record.areaInfo],columns:vI,rowKey:function(e){return"".concat(e.areaId)},pagination:!1,loading:!1}))),o.a.createElement(Ic.a,null,"commonTodo"===a&&o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){e.setState({showManuSpotModal:!0})}},"\u65b0\u589e\u62bd\u67e5\u4efb\u52a1"),"certificateTodo"===a&&o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){i.certificateFlag?e.setState({showManuSpotModal:!0}):S.a.error("\u5bf9\u4e0d\u8d77\uff01\u76d8\u8bc1\u62bd\u67e5\u6743\u9650\u5c1a\u672a\u5f00\u901a\uff0c\u8bf7\u8054\u7cfb\u5e73\u53f0\u7ba1\u7406\u5458\u5f00\u901a\u6743\u9650\uff01")}},"\u65b0\u589e\u76d8\u8bc1\u4efb\u52a1")))}}]),t}(i.Component),HI=Object(Y.a)((aI={},Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_COMMON_TODO_LIST",{next:function(e,t){return Object(E.a)({},e,{commonTodo:Object(E.a)({},e.commonTodo,{list:vO()(t.payload.data,"data.pageList.list",[]),sellOnCreditFlag:vO()(t.payload.data,"data.sellOnCreditFlag",""),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_COMMON_DONE_LIST",{next:function(e,t){return Object(E.a)({},e,{commonDone:Object(E.a)({},e.commonDone,{list:vO()(t.payload.data,"data.pageList.list",[]),sellOnCreditFlag:vO()(t.payload.data,"data.sellOnCreditFlag",""),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_COMMON_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{commonTodo:Object(E.a)({},e.commonTodo,{query:Object(E.a)({},e.commonTodo.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_COMMON_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{commonDone:Object(E.a)({},e.commonDone,{query:Object(E.a)({},e.commonDone.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_MOVING_TODO_LIST",{next:function(e,t){return Object(E.a)({},e,{movingTodo:Object(E.a)({},e.movingTodo,{list:vO()(t.payload.data,"data.pageList.list",[]),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_MOVING_DONE_LIST",{next:function(e,t){return Object(E.a)({},e,{movingDone:Object(E.a)({},e.movingDone,{list:vO()(t.payload.data,"data.pageList.list",[]),paging:{current:vO()(t.payload.data,"data.pageList.pageNum",1),pageSize:vO()(t.payload.data,"data.pageList.pageSize",10),total:vO()(t.payload.data,"data.pageList.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_MOVING_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{movingTodo:Object(E.a)({},e.movingTodo,{query:Object(E.a)({},e.movingTodo.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_MOVING_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{movingDone:Object(E.a)({},e.movingDone,{query:Object(E.a)({},e.movingDone.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_CERTIFICATE_TODO_LIST",{next:function(e,t){return Object(E.a)({},e,{certificateTodo:Object(E.a)({},e.certificateTodo,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/FETCH_CERTIFICATE_DONE_LIST",{next:function(e,t){return Object(E.a)({},e,{certificateDone:Object(E.a)({},e.certificateDone,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_CERTIFICATE_TODO_QUERY",{next:function(e,t){return Object(E.a)({},e,{certificateTodo:Object(E.a)({},e.certificateTodo,{query:Object(E.a)({},e.certificateTodo.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/UPDATE_CERTIFICATE_DONE_QUERY",{next:function(e,t){return Object(E.a)({},e,{certificateDone:Object(E.a)({},e.certificateDone,{query:Object(E.a)({},e.certificateDone.query,t.payload)})})}}),Object(U.a)(aI,"YICHAKU/SELFCAR_SPOTTEST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),aI),{commonTodo:{list:[],sellOnCreditFlag:0,paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},commonDone:{list:[],sellOnCreditFlag:0,paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},movingTodo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},movingDone:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},certificateTodo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},certificateDone:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},loading:!0}),KI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_COMMON_TODO_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottestDetail/find/list/uncompleted",Object(E.a)({},e,{spottesttype:20}),t)}),qI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_COMMON_TODO_QUERY"),BI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_COMMON_DONE_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottestDetail/find/list/completed",Object(E.a)({},e,{spottesttype:20}),t)}),VI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_COMMON_DONE_QUERY"),QI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_MOVING_TODO_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottestDetail/find/list/uncompleted",Object(E.a)({},e,{spottesttype:50}),t)}),zI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_MOVING_TODO_QUERY"),WI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_MOVING_DONE_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottestDetail/find/list/completed",Object(E.a)({},e,{spottesttype:50}),t)}),GI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_MOVING_DONE_QUERY"),XI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_CERTIFICATE_TODO_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottest/find/list/pending",Object(E.a)({},e,{spottesttype:30}),t)}),JI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_CERTIFICATE_TODO_QUERY"),ZI=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/FETCH_CERTIFICATE_DONE_LIST",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfSpottest/find/list/complete",Object(E.a)({},e,{spottesttype:30}),t)}),$I=Object(F.a)("YICHAKU/SELFCAR_SPOTTEST/UPDATE_CERTIFICATE_DONE_QUERY");var eC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.commonTodo.list,paging:e.selfCarSpottest.commonTodo.paging,query:e.selfCarSpottest.commonTodo.query,sellOnCreditFlag:e.selfCarSpottest.commonTodo.sellOnCreditFlag,menuId:"commonTodo"}},function(e){return{fetch:function(t,a){return e(KI(Object(E.a)({},t),a))},updateQuery:function(t){return e(qI(t))}}})(FI);var tC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.commonDone.list,paging:e.selfCarSpottest.commonDone.paging,query:e.selfCarSpottest.commonDone.query,sellOnCreditFlag:e.selfCarSpottest.commonDone.sellOnCreditFlag,menuId:"commonDone"}},function(e){return{fetch:function(t,a){return e(BI(Object(E.a)({},t),a))},updateQuery:function(t){return e(VI(t))}}})(FI);var aC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.movingTodo.list,paging:e.selfCarSpottest.movingTodo.paging,query:e.selfCarSpottest.movingTodo.query,menuId:"movingTodo"}},function(e){return{fetch:function(t,a){return e(QI(Object(E.a)({},t),a))},updateQuery:function(t){return e(zI(t))}}})(FI);var nC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.movingDone.list,paging:e.selfCarSpottest.movingDone.paging,query:e.selfCarSpottest.movingDone.query,menuId:"movingDone"}},function(e){return{fetch:function(t,a){return e(WI(Object(E.a)({},t),a))},updateQuery:function(t){return e(GI(t))}}})(FI);var rC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.certificateTodo.list,paging:e.selfCarSpottest.certificateTodo.paging,query:e.selfCarSpottest.certificateTodo.query,dealer:e.session.dealer,menuId:"certificateTodo"}},function(e){return{fetch:function(t,a){return e(XI(Object(E.a)({},t),a))},updateQuery:function(t){return e(JI(t))}}})(FI);var iC,oC=Object(h.b)(function(e){return{loading:e.selfCarSpottest.loading,list:e.selfCarSpottest.certificateDone.list,paging:e.selfCarSpottest.certificateDone.paging,query:e.selfCarSpottest.certificateDone.query,menuId:"certificateDone"}},function(e){return{fetch:function(t,a){return e(ZI(Object(E.a)({},t),a))},updateQuery:function(t){return e($I(t))}}})(FI),lC=a(284),cC=a.n(lC),sC=jf.a.TabPane,dC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,activeKey:"",tabKey:{},map:null,mapData:{},BMap:null},a.markerMaker=function(e,t,a,n){try{var r=new t.Icon(ZE.a,new t.Size(32,32)),i=e.file,o=(i=void 0===i?{}:i).latitude,l=i.longitude,c=i.location,s=i.opStarttime,d=e.codetypeDesc,u=e.distance,p=new t.Point(l,o),m=new t.Marker(p,{icon:r}),h={width:200,height:100,title:d,enableMessage:!0},g=new t.InfoWindow('<p style="font-size: 12px;"><span>\u8ddd\u79bb'.concat(n,'\uff1a<b style="font-size: 16px;">').concat(u,'</b> \u7c73</span><br /><span style="font-size: 12px;">\u62cd\u6444\u65f6\u95f4\uff1a').concat(cn(s),'</span><br /><span style="font-size: 12px;">\u5730\u5740\uff1a').concat(c,"</span>"),h);return m.addEventListener("click",function(){a.openInfoWindow(g,p)}),{marker:m,point:p,infoWindow:g}}catch(f){return{}}},a.onCardClick=function(e,t){return function(){var n=a.state,r=n.mapData,i=n.map;if(a.setState({activeKey:e}),!Is()(r[t])){var o=r[t],l=o.point,c=o.infoWindow;i.centerAndZoom(l,15),i.setViewport([l],{margins:[100,100,0,100]}),i.openInfoWindow(c,l)}}},a.addResetControl=function(e,t){var n=Object(Oc.a)(Object(Oc.a)(a));function r(){this.defaultAnchor=window.BMAP_ANCHOR_TOP_RIGHT,this.defaultOffset=new t.Size(10,10)}r.prototype=new t.Control,r.prototype.initialize=function(e){var t=document.createElement("div");return t.appendChild(document.createTextNode("\u91cd\u7f6e")),t.style.cursor="pointer",t.style.border="1px solid gray",t.style.backgroundColor="white",t.onclick=function(){n.resetMap()},e.getContainer().appendChild(t),t};var i=new r;e.addControl(i)},a.resetMap=function(){var e=a.state,t=e.mapData,n=e.map,r=Object(pe.a)(Object.keys(t).map(function(e){return t[e].point}));n.setViewport(r)},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props.photoList;Array.isArray(t)&&t.length>0?[t[0]].concat(Object(pe.a)(t[0].hisList)).length>0?ln().then(function(a){var n=new a.Map("mapContainer"),r=t[0];n.enableScrollWheelZoom(!0);var i=new a.ScaleControl({anchor:"BMAP_ANCHOR_TOP_LEFT"}),o=new a.NavigationControl;n.addControl(o),n.addControl(i);var l=e.markerMaker(r,a,n,r.locationTypeName),c=l.marker,s=l.point,d=l.infoWindow;c&&(n.centerAndZoom(s,15),n.addOverlay(d),c.addEventListener("click",function(){n.openInfoWindow(d,s)}));var u={};t.forEach(function(t){[t].concat(Object(pe.a)(t.hisList)).reverse().filter(function(e){return e.file}).forEach(function(t,r){var i=e.markerMaker(t,a,n,t.locationTypeName),o=i.marker,l=i.point,c=i.infoWindow;n.addOverlay(o),u["".concat(t.name,"-").concat(r)]={marker:o,point:l,infoWindow:c}})}),e.addResetControl(n,a),e.setState({map:n,mapData:u,loading:!1,BMap:a},e.resetMap)}):(S.a.error("\u7167\u7247\u6570\u636e\u5f02\u5e38\uff0c\u65e0\u6cd5\u5728\u5730\u56fe\u4e2d\u6e32\u67d3"),this.setState({loading:!1})):(S.a.error("\u7167\u7247\u6570\u636e\u5f02\u5e38\uff0c\u65e0\u6cd5\u5728\u5730\u56fe\u4e2d\u6e32\u67d3"),this.setState({loading:!1}))}},{key:"render",value:function(){var e=this,t=this.props,a=t.photoList,n=t.url,r=this.state,i=r.activeKey,l=r.loading;r.tabKey;return o.a.createElement(vc.a,{spinning:l},o.a.createElement("div",{className:cC.a.infoWrapper},a.map(function(t,a){return o.a.createElement("div",{className:"".concat(cC.a.infoCard," ").concat([t].concat(Object(pe.a)(t.hisList)).filter(function(e){return e.file}).length<=1?cC.a.hideNav:""," ").concat(i===a?cC.a.active:""),key:a},o.a.createElement(jf.a,{type:"card",onTabClick:function(n){return e.onCardClick(a,"".concat(t.name,"-").concat(n))()},defaultActiveKey:String([t].concat(Object(pe.a)(t.hisList)).filter(function(e){return e.file}).length-1)},[t].concat(Object(pe.a)(t.hisList)).reverse().filter(function(e){return e.file}).map(function(r,i){return o.a.createElement(sC,{key:"".concat(i),tab:i+1},o.a.createElement("a",{href:"javascript:;",onClick:e.onCardClick(a,"".concat(t.name,"-").concat(i))},o.a.createElement("div",{className:cC.a.infoCardDiv},o.a.createElement("p",null,r.codetypeDesc),!String(n).startsWith("/certificateTask")&&o.a.createElement("span",{style:{margin:"10px 0"}},"\u8ddd\u79bb",r.locationTypeName,"\uff1a",o.a.createElement("b",null,r.distance)," \u7c73"),o.a.createElement("span",{style:{fontSize:"12px"}},o.a.createElement(k.a,{type:"clock-circle",style:{marginRight:"5px"}}),cn(r.file.opStarttime)),o.a.createElement("span",{style:{fontSize:"12px"}},o.a.createElement(k.a,{type:"environment",style:{marginRight:"5px"}}),r.file.location))))})))})),o.a.createElement("div",{id:"mapContainer",style:{width:"100%",height:"600px"}}))}}]),t}(i.Component),uC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showModal:!1,showPreviewModal:!1,record:null,image:{}},a.handleSubmit=function(e){var t=a.state.record;return H.d.submit("/self-car/v1.0/selfSpottestPhoto/update/retake",{id:t.id,remark:e.remark})},a.handleShowModal=function(e){a.setState({showModal:!0,record:e})},a.handleModalOk=function(){a.setState({showModal:!1}),a.props.onSearch()},a.handleCancel=function(){a.setState({showModal:!1,showPreviewModal:!1}),a.container.style.display="none"},a.showPreview=function(e,t){a.container.parentNode.removeChild(a.container),document.getElementById("root").appendChild(a.container),a.container.style.display="block",a.setState({image:{alt:e,src:t},showPreviewModal:!!t})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.list,n=t.readOnly,r=t.url,i=this.state.record;return o.a.createElement("div",null,ce()(a,4).map(function(t,a){return o.a.createElement(N.a,{gutter:16,key:a},t.map(function(t,a){return o.a.createElement(L.a,{lg:12,xl:6,key:a,style:{minWidth:"320px"}},o.a.createElement(YE,{data:t,onShowModal:e.handleShowModal,showPreview:e.showPreview,readOnly:n,url:r}))}))}),o.a.createElement("div",{id:"detailImageModal",ref:function(t){return e.container=t}},o.a.createElement("div",{className:"detailImageSubContent",ref:function(t){return e.subContainer=t}})),this.state.showModal&&o.a.createElement(ls,{title:"\u9000\u56de\u91cd\u62cd",onOk:this.handleModalOk,onCancel:this.handleCancel,onSubmit:this.handleSubmit,configList:[{label:"\u9000\u56de\u7c7b\u578b",type:"label",value:i.name},{label:"\u5907\u6ce8",type:"input",key:"remark",required:!0}]}),o.a.createElement(ms.a,{container:this.subContainer,visible:this.state.showPreviewModal,onClose:this.handleCancel,noNavbar:!0,images:[this.state.image]}))}}]),t}(i.Component),pC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,saveLoading:!1,list:[]},a.handleSearch=function(){var e=a.props.id;return H.d.submit("/self-car/v1.0/selfSpottestPhoto/find/list/distance",{spotdetailId:e}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(200!==e.code)return Promise.reject(e.message);a.setState({list:e.data,loading:!1})}).catch(function(e){S.a.error(e.message||e),a.setState({loading:!1})})},a.handleUpdate=function(){var e=a.props.id;return a.setState({saveLoading:!0}),H.d.submit("/self-car/v1.0/selfSpottestPhoto/update/distance",{spotdetailId:e}).then(function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).data;if(200!==e.code)return Promise.reject(e.message);a.setState({saveLoading:!1}),S.a.success(e.message),a.props.onOk()}).catch(function(e){S.a.error(e.message||e),a.setState({saveLoading:!1})})},a.renderFooter=function(){var e=a.state.saveLoading;return o.a.createElement("div",null,o.a.createElement(re.a,{type:"primary",icon:"check",onClick:a.handleUpdate,loading:e},"\u4fdd\u5b58"),o.a.createElement(re.a,{onClick:function(){return a.props.onCancel()}},"\u53d6\u6d88"))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.visible,a=this.state,n=a.loading,r=a.list;return o.a.createElement(z.a,{title:"\u8ddd\u79bb\u91cd\u6d4b",visible:t,footer:this.renderFooter(),onCancel:function(){return e.props.onCancel()}},o.a.createElement(vc.a,{spinning:n},o.a.createElement(Z.a,{columns:mC,rowKey:"id",dataSource:r,pagination:!1})))}}]),t}(i.Component),mC=[{title:"\u4f4d\u7f6e",dataIndex:"name"},{title:"\u539f\u8def\u7a0b (\u7c73)",dataIndex:"distance"},{title:"\u65b0\u8def\u7a0b (\u7c73)",dataIndex:"newDistance"}],hC=z.a.confirm,gC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,showMapModal:!1,showLocationModal:!1,showDistanceModal:!1,carDetail:{},spotDetail:{},mediaList:[],excepList:[],location:{},distanceList:[],text:[]},a.handleSearch=function(){a.setState({loading:!0});var e=a.props.match.params.id;return H.d.submit("/self-car/v1.0/selfSpottestDetail/find/one/items/audit-or-complete",{id:e}).then(function(e){var t=e.data,n=void 0===t?{}:t;if(200===n.code){var r=n.data,i=r.detail,o=void 0===i?{}:i,l=r.multimedia,c=void 0===l?[]:l,s=r.text,d=void 0===s?[]:s,u=o.carId,p=void 0===u?"":u;return H.d.submit("/self-car/v1.0/cars/detail/".concat(p)).then(function(e){var t=e.data,n=void 0===t?{}:t;if(200!==n.code)return Promise.reject(n.message||"\u83b7\u53d6\u8f66\u8f86\u4fe1\u606f\u5931\u8d25");var r=n.data.carDetail,i=void 0===r?{}:r,l=fC(c),s=l.find(function(e){return"100000"===e.category}),u={};try{if(s&&!Is()(s)){var p=[s].concat(Object(pe.a)(s.hisList)).filter(function(e){return e.file});p.length>0&&(u={ewName:i.locationName,address:p[0].file.location,longitude:p[0].file.longitude,latitude:p[0].file.latitude})}}catch(m){}a.setState({spotDetail:o,carDetail:i,mediaList:l,location:u,loading:!1,text:d})})}return Promise.reject(n.message||"\u83b7\u53d6\u4efb\u52a1\u660e\u7ec6\u5931\u8d25")}).catch(function(){a.setState({loading:!1}),S.a.error("\u83b7\u53d6\u4efb\u52a1\u4fe1\u606f\u5931\u8d25")})},a.handleSearchExcepList=function(){var e=a.props.match.url,t=20;return e.startsWith("/movingTask")?t=50:e.startsWith("/certificateTask")&&(t=30),H.d.submit("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:t}).then(function(e){var t=e.data;if(200===t.code){var n=t.data,r=void 0===n?[]:n;a.setState({excepList:r})}})},a.handleAuditPass=function(){var e=a.props.match.params.id,t=Object(Oc.a)(Object(Oc.a)(a));hC({title:"\u786e\u5b9a\u8981\u5ba1\u6838\u901a\u8fc7\u8be5\u62bd\u67e5\u4efb\u52a1\u5417\uff1f",onOk:function(){return H.d.submit("/self-car/v1.0/selfSpottestDetail/update/pass",{id:e}).then(function(e){var a=e.data,n=void 0===a?{}:a;if(200!==n.code)return Promise.reject(n.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01");S.a.success(n.msg||"\u64cd\u4f5c\u6210\u529f\uff01"),t.props.history.goBack()}).catch(function(e){S.a.error(e.message||e)})}})},a.handleExcepOk=function(){a.setState({showExcepModal:!1}),a.props.history.goBack()},a.handleLocationOk=function(){a.setState({showLocationModal:!1}),a.handleSearch()},a.excepSubmit=function(e){var t=a.props.match.params.id;return H.d.submit("/self-car/v1.0/selfSpottestDetail/update/notpass",Object(E.a)({},e,{id:t}))},a.locationSubmit=function(e){var t=a.props.match.params.id,n=a.state,r=n.location,i=void 0===r?{}:r,o=n.carDetail,l=i.address,c=i.longitude,s=i.latitude;return H.d.submit("/self-car/v1.0/locations/add",Object(E.a)({},e,{id:t,locationAddress:l,longitude:c,latitude:s,ewId:o.locationId}))},a.renderCarInfo=function(){var e=a.state.carDetail;return Is()(e)?[]:[{label:"\u8f66\u67b6\u53f7",value:e.chassis},{label:"\u8f66\u8f86\u989c\u8272",value:e.color},{label:"\u53d1\u52a8\u673a\u53f7",value:e.engine},{label:"\u54c1\u724c",value:e.brandName},{label:"\u8f66\u7cfb",value:e.trimName},{label:"\u8f66\u578b",value:e.modelName}]},a.handleOkAndReloadData=function(){a.setState({showDistanceModal:!1}),a.handleSearch(),a.handleSearchExcepList()},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.mediaList,n=void 0===a?[]:a,r=t.excepList,i=void 0===r?[]:r,l=t.location,c=t.spotDetail,s=void 0===c?{}:c,d=t.text,u=void 0===d?[]:d,p=!!Is()(n.filter(function(e){return!Is()(e.file)})),m=20!=s.status&&30!=s.status,h=this.props.match.url;return o.a.createElement(vc.a,{spinning:this.state.loading},s.feedbackName&&o.a.createElement(Wc,{title:"\u5f02\u5e38\u53cd\u9988"},o.a.createElement("div",null,o.a.createElement("span",{style:{marginRight:"60px"}},s.feedbackName),s.feedbackReason&&o.a.createElement("span",null,"\u539f\u56e0: ",s.feedbackReason))),o.a.createElement(Wc,{title:"\u8f66\u8f86\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderCarInfo(),layout:"vertical"})),o.a.createElement(Wc,{title:"\u5f71\u50cf\u8d44\u6599"},10!==s.status&&90!==s.status&&o.a.createElement("div",{style:{position:"absolute",display:"inline-block",top:"22px",right:"50px"}},!p&&o.a.createElement(G.a,{title:"\u67e5\u770b\u5730\u56fe"},o.a.createElement("a",{href:"javascript:;",key:"\u67e5\u770b\u5730\u56fe",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showMapModal:!0})}},o.a.createElement(k.a,{type:"environment"})," \u67e5\u770b\u5730\u56fe")),o.a.createElement(W.a,{type:"vertical"}),20==s.status&&!h.startsWith("/certificateTask")&&o.a.createElement(G.a,{title:"\u8ddd\u79bb\u91cd\u6d4b"},o.a.createElement("a",{href:"javascript:;",key:"\u8ddd\u79bb\u91cd\u6d4b",style:{color:"rgba(0, 0, 0, 0.65)"},onClick:function(){return e.setState({showDistanceModal:!0})}},o.a.createElement(k.a,{type:"redo"})," \u8ddd\u79bb\u91cd\u6d4b"))),p?o.a.createElement(OE.a,{description:"\u6682\u65e0\u62cd\u6444\u6570\u636e"}):o.a.createElement(uC,{list:n,onSearch:this.handleSearch,readOnly:m,url:h})),u.length>0&&o.a.createElement(Wc,{title:"\u6587\u5b57\u6807\u7b7e"},u.map(function(e,t){return o.a.createElement("div",{key:t},o.a.createElement("div",{style:{fontWeight:"bold"}},o.a.createElement("span",null,t+1,". "),e.name),o.a.createElement("div",null,"\xa0\xa0\xa0\xa0",e.context),o.a.createElement("br",null))})),this.state.showMapModal&&o.a.createElement(z.a,{title:"\u67e5\u770b\u5730\u56fe",visible:!0,width:1300,onOk:function(){e.setState({showMapModal:!1})},onCancel:function(){e.setState({showMapModal:!1})}},o.a.createElement(dC,{photoList:n,url:h})),this.state.showExcepModal&&o.a.createElement(ls,{title:"\u6807\u8bb0\u5f02\u5e38",onOk:this.handleExcepOk,onCancel:function(){e.setState({showExcepModal:!1})},onSubmit:this.excepSubmit,configList:[{type:"select",key:"excReason",label:"\u5f02\u5e38\u539f\u56e0",required:!0,optionList:i.map(function(e){return{name:e.excName,value:e.excCode}})},{label:"\u5f02\u5e38\u63cf\u8ff0",type:"textArea",key:"excRemark"}]}),this.state.showLocationModal&&o.a.createElement(ls,{title:"\u65b0\u589e\u5b9a\u4f4d\u70b9",onOk:this.handleLocationOk,onCancel:function(){e.setState({showLocationModal:!1})},onSubmit:this.locationSubmit,configList:[{type:"label",label:"\u6240\u5c5e\u4e8c\u7f51",value:l.ewName},{label:"\u5b9a\u4f4d\u70b9\u540d\u79f0",type:"input",key:"locationName",required:!0},{type:"label",label:"\u5b9a\u4f4d\u70b9\u5730\u5740",value:l.address},{type:"label",label:"\u7ecf\u5ea6",value:l.longitude},{type:"label",label:"\u7eac\u5ea6",value:l.latitude}]}),this.state.showDistanceModal&&o.a.createElement(pC,{id:s.id,visible:this.state.showDistanceModal,onOk:this.handleOkAndReloadData,onCancel:function(){return e.setState({showDistanceModal:!1})}}),o.a.createElement(Ic.a,null,20===s.status&&o.a.createElement(re.a,{onClick:this.handleAuditPass,icon:"check-circle",type:"primary"},"\u5ba1\u6838\u901a\u8fc7"),(10===s.status||20===s.status||30===s.status||60===s.status)&&o.a.createElement(re.a,{onClick:function(){e.handleSearchExcepList(),e.setState({showExcepModal:!0})},icon:"warning",type:"danger"},"\u6807\u8bb0\u5f02\u5e38"),20===s.status&&!h.startsWith("/certificateTask")&&o.a.createElement(re.a,{onClick:function(){return e.setState({showLocationModal:!0})},icon:"environment",type:"danger"},"\u8bbe\u4e3a\u5b9a\u4f4d\u70b9"),h.startsWith("/certificateTask")?o.a.createElement(re.a,{onClick:function(){window.history.go(-1)}},"\u8fd4\u56de\u8f66\u8f86\u4fe1\u606f"):o.a.createElement(Vc,null)))}}]),t}(i.Component),fC=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Object(pe.a)(new Set(e.map(function(e){return e.name}))),a=[],n=function(n){var r=e.filter(function(e){return e.name===t[n]}).map(function(e){return Object(E.a)({},e,{codetypeDesc:e.name,useflag:1===e.useflag?0:1,locationTypeName:0===e.locationType?"\u4e8c\u7f51":1===e.locationType?"\u4e8c\u5e93":e.locationName})});a.push(bC(r))};for(var r in t)n(r);return a},bC=function(e){try{if(1===e.length)return Object(E.a)({},e[0],{hisList:[]});var t=e.sort(function(e,t){return t.id-e.id}),a=t[0];return a.hisList=t.slice(1),a}catch(n){return{}}},EC=gC,yC=z.a.confirm,vC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!0,list:[],managerDetail:{}},a.handleSearch=function(){a.setState({loading:!0});var e=a.props.match.params.id;return H.d.submit("/self-car/v1.0/selfSpottestDetail/find/one/all",{spottestId:e}).then(function(e){var t=e.data,n=void 0===t?{}:t;a.setState({list:n.data,loading:!1})}).catch(function(){a.setState({loading:!1}),S.a.error("\u83b7\u53d6\u4efb\u52a1\u4fe1\u606f\u5931\u8d25")})},a.handleSearchExcepList=function(){var e=a.props.match.params.id;return H.d.submit("/self-car/v1.0/selfSpottest/find/one/area-manager",{id:e}).then(function(e){var t=e.data;200===t.code&&a.setState({managerDetail:t.data,loading:!1})})},a.renderCarInfo=function(){var e=a.state.managerDetail;return Is()(e)?[]:[{label:"\u5c0f\u533a\u540d\u79f0",value:e.subAreaName},{label:"\u533a\u57df\u7ecf\u7406",value:e.managerName},{label:"\u8054\u7cfb\u7535\u8bdd",value:e.managerTel}]},a.jumpToDetail=function(e){if(e){var t=a.props.match,n=Object(J.a)(t.path,{path:"/:menu/:tab"}).params,r=(n=void 0===n?{}:n).menu,i=n.tab,o={pathname:"/".concat(r,"/detail/").concat(e),search:"?tab=".concat(i)};a.props.history.push(o)}},a.stopTask=function(e){var t=Object(Oc.a)(Object(Oc.a)(a));Is()(e)||yC({title:"\u60a8\u771f\u7684\u8981\u7ec8\u6b62\u8be5\u4efb\u52a1\u5417\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfSpottestDetail/update/stop",{id:e.id,terminationRemark:"TBC"}).then(function(e){var a=e.data,n=void 0===a?{}:a;if(200!==n.code)return Promise.reject(n.message||"\u7ec8\u6b62\u4efb\u52a1\u5931\u8d25");S.a.success("\u7ec8\u6b62\u4efb\u52a1\u6210\u529f"),t.handleSearch()}).catch(function(e){S.a.error(e.message||e)})}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(),this.handleSearchExcepList()}},{key:"render",value:function(){var e=this,t=[{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"car.chassis"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"car.carTypeName"},{title:"\u54c1\u724c",dataIndex:"car.brandName"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"spottest.bookTime"},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"submitTime"},{title:"\u5ba1\u6838\u72b6\u6001",dataIndex:"statusName"},{title:"\u64cd\u4f5c",render:function(t,a){return o.a.createElement("div",null,o.a.createElement(G.a,{title:"\u5ba1\u6838",key:"\u5ba1\u6838"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return e.jumpToDetail(a.id)}},o.a.createElement(k.a,{type:"search"}))),(10==a.status||20==a.status||30==a.status)&&o.a.createElement(W.a,{type:"vertical",key:"Divider"}),(10==a.status||20==a.status||30==a.status)&&o.a.createElement(G.a,{title:"\u7ec8\u6b62",key:"\u7ec8\u6b62"},o.a.createElement("a",{href:"javascript:;",onClick:function(){return e.stopTask(a)}},o.a.createElement(k.a,{type:"poweroff",style:{color:"red"}}))))}}];return o.a.createElement(vc.a,{spinning:this.state.loading},o.a.createElement(Wc,{title:"\u8f66\u8f86\u4fe1\u606f"},o.a.createElement(Z.a,{dataSource:this.state.list,columns:t,rowKey:"id"})),o.a.createElement(Wc,{title:"\u533a\u57df\u4fe1\u606f"},o.a.createElement(Jc,{list:this.renderCarInfo(),layout:"vertical"})),o.a.createElement(Ic.a,null,o.a.createElement(Vc,null)))}}]),t}(i.Component);function OC(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"/commonTask/list/todo",component:eC}),o.a.createElement(b.a,{path:"/commonTask/list/done",component:tC}),o.a.createElement(b.a,{path:"/commonTask/detail/:id",component:EC}),o.a.createElement(Q.a,{from:"/commonTask",to:"/commonTask/list/todo"}),o.a.createElement(b.a,{path:"/movingTask/list/todo",component:aC}),o.a.createElement(b.a,{path:"/movingTask/list/done",component:nC}),o.a.createElement(b.a,{path:"/movingTask/detail/:id",component:EC}),o.a.createElement(Q.a,{from:"/movingTask",to:"/movingTask/list/todo"}),o.a.createElement(b.a,{path:"/certificateTask/list/todo",component:rC}),o.a.createElement(b.a,{path:"/certificateTask/list/done",component:oC}),o.a.createElement(b.a,{path:"/certificateTask/detail/:id",component:EC}),o.a.createElement(b.a,{path:"/certificateTask/CerDetail/:id",component:vC}),o.a.createElement(Q.a,{from:"/certificateTask",to:"/certificateTask/list/todo"}))}var SC=Object(Y.a)((iC={},Object(U.a)(iC,"YICHAKU/EXUPLOADALL/FETCH_RESERVED_LIST ",{next:function(e,t){return Object(E.a)({},e,{reserved_add:Object(E.a)({},e.reserved_add,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/FETCH_RECORD_LIST ",{next:function(e,t){return Object(E.a)({},e,{reserved_sell:Object(E.a)({},e.reserved_sell,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/FETCH_SELLDATA_LIST ",{next:function(e,t){return Object(E.a)({},e,{reserved_list:Object(E.a)({},e.reserved_list,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/UPDATE_RESERVED_QUERY ",{next:function(e,t){return Object(E.a)({},e,{reserved_add:Object(E.a)({},e.reserved_add,{query:Object(E.a)({},e.reserved_add.query,t.payload)})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/UPDATE_RECORD_QUERY ",{next:function(e,t){return Object(E.a)({},e,{reserved_sell:Object(E.a)({},e.reserved_sell,{query:Object(E.a)({},e.reserved_sell.query,t.payload)})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/UPDATE_SELLDATA_QUERY ",{next:function(e,t){return Object(E.a)({},e,{reserved_list:Object(E.a)({},e.reserved_list,{query:Object(E.a)({},e.reserved_list.query,t.payload)})})}}),Object(U.a)(iC,"YICHAKU/EXUPLOADALL/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),iC),{reserved_add:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},selfcarForm:!0}},reserved_sell:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},selfcarForm:!0}},reserved_list:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},selfcarForm:!0}},loading:!0}),IC=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_RESERVED_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/excelUpload/find/inc/list",e,t)}),CC=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_RECORD_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/excelUpload/find/inc/list",e,t)}),_C=Object(F.a)("YICHAKU/EXUPLOADALL/FETCH_SELLDATA_LIST ",function(e,t){return H.d.postWithPaging("/self-car/v1.0/carImports/find/inc/list",e,t)}),TC=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_RESERVED_QUERY "),AC=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_RECORD_QUERY "),kC=Object(F.a)("YICHAKU/EXUPLOADALL/UPDATE_SELLDATA_QUERY "),wC=z.a.confirm,jC="YYYY-MM-DD HH:mm:ss",xC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.columns=[{title:"\u6587\u4ef6\u4e0a\u4f20\u65f6\u95f4",dataIndex:"uploadTime",render:function(e){return e&&je()(e).format(jC)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"uploadUserName"},{title:"\u4e0a\u4f20\u6587\u4ef6\u540d",dataIndex:"fileName"},{title:"\u5904\u7406\u72b6\u6001",dataIndex:"statusName"},{title:"\u6700\u540e\u5904\u7406\u65f6\u95f4",dataIndex:"handleTime"},{title:"\u6279\u6b21\u53f7",dataIndex:"batchno"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:250,render:function(e,t){return o.a.createElement("div",null,"\u5f85\u5904\u7406"===t.statusName&&o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",onClick:a.importOper(t)},"\u5bfc\u5165"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.deleOper(t)},"\u5220\u9664")))}}],a.sellData=function(e){return function(){a.props.history.push("/excUploadAll/sellData/".concat(e.batchno))}},a.importOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));wC({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5bfc\u5165\u8be5\u6587\u4ef6?",onOk:function(){t.setState({loading:!0}),H.d.post("/self-car/v1.0/excelUpload/importCars/inc/".concat(e.batchno),{}).then(function(e){200===e.data.code?(t.setState({loading:!1}),S.a.success("\u5bfc\u5165\u6210\u529f"),t.handleSearch()):(t.setState({loading:!1}),S.a.error(e.data.message))})}})}},a.deleOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));wC({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5220\u9664\u8be5\u6587\u4ef6?",onOk:function(){H.d.deleteMeth("/self-car/v1.0/excelUpload/delete/inc/".concat(e.fileId)).then(function(e){200===e.data.code?S.a.success("\u64cd\u4f5c\u6210\u529f"):S.a.error("\u64cd\u4f5c\u5931\u8d25"),t.handleSearch()})}})}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);r.importType=2,a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t={name:"file",action:"/self-car/v1.0/excelUpload/upload/inc",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",beforeUpload:function(e){console.log(e.name)},onChange:function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?t.file&&t.file.response&&(200===t.file.response.code?(S.a.success("\u4e0a\u4f20\u6210\u529f"),e.handleSearch()):S.a.error(t.file.response.message)):"error"===t.file.status&&S.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))}};return o.a.createElement(Hl,null,o.a.createElement(Av.a,t,o.a.createElement(re.a,null,"\u8bf7\u9009\u62e9\u4e00\u4e2aexcel\u6587\u4ef6")),o.a.createElement("br",null),o.a.createElement(vc.a,{tip:"\u5bfc\u5165\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",spinning:this.state.loading},o.a.createElement(ae,{columns:this.columns,data:this.props.list,loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,bordered:!0})))}}]),t}(i.Component);var DC=Object(h.b)(function(e){return{loading:e.exUploadAdd.loading,list:e.exUploadAdd.reserved_add.list,paging:e.exUploadAdd.reserved_add.paging,query:e.exUploadAdd.reserved_add.query}},function(e){return{fetch:function(t,a){return e(IC(t,a))},updateQuery:function(t){e(TC(Object(E.a)({},t)))}}})(xC),MC="YYYY-MM-DD HH:mm:ss",NC=z.a.confirm,LC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1},a.columns=[{title:"\u6587\u4ef6\u4e0a\u4f20\u65f6\u95f4",dataIndex:"uploadTime",render:function(e){return e&&je()(e).format(MC)}},{title:"\u64cd\u4f5c\u4eba",dataIndex:"uploadUserName"},{title:"\u4e0a\u4f20\u6587\u4ef6\u540d",dataIndex:"fileName"},{title:"\u5904\u7406\u72b6\u6001",dataIndex:"statusName"},{title:"\u6700\u540e\u5904\u7406\u65f6\u95f4",dataIndex:"handleTime"},{title:"\u6279\u6b21\u53f7",dataIndex:"batchno"},{title:"\u64cd\u4f5c",dataIndex:"operation",key:"operation",width:250,render:function(e,t){return o.a.createElement("div",null,"\u5f85\u5904\u7406"===t.statusName&&o.a.createElement("div",null,o.a.createElement("a",{href:"javascript:;",onClick:a.importOper(t)},"\u5bfc\u5165"),"\xa0\xa0\xa0\xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.deleOper(t)},"\u5220\u9664")))}}],a.sellData=function(e){return function(){a.props.history.push("/excUploadAll/sellData/".concat(e.batchno))}},a.importOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));NC({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5bfc\u5165\u8be5\u6587\u4ef6?",onOk:function(){t.setState({loading:!0}),H.d.post("/self-car/v1.0/excelUpload/importCars/inc/sells/".concat(e.batchno),{}).then(function(e){200===e.data.code?(t.setState({loading:!1}),S.a.success("\u5bfc\u5165\u6210\u529f"),t.handleSearch()):(t.setState({loading:!1}),S.a.error(e.data.message))})}})}},a.deleOper=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));NC({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u5220\u9664\u8be5\u6587\u4ef6?",onOk:function(){H.d.deleteMeth("/self-car/v1.0/excelUpload/delete/inc/sell/".concat(e.fileId)).then(function(e){200===e.data.code?S.a.success("\u64cd\u4f5c\u6210\u529f"):S.a.error("\u64cd\u4f5c\u5931\u8d25"),t.handleSearch()})}})}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);r.importType=3,a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t={name:"file",action:"/self-car/v1.0/excelUpload/upload/inc/sells",accept:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet, application/vnd.ms-excel",beforeUpload:function(e){console.log(e.name)},onChange:function(t){"uploading"!==t.file.status&&console.log(t.file,t.fileList),"done"===t.file.status?t.file&&t.file.response&&(200===t.file.response.code?(S.a.success("\u4e0a\u4f20\u6210\u529f"),e.handleSearch()):S.a.error(t.file.response.message)):"error"===t.file.status&&S.a.error("".concat(t.file.name," \u4e0a\u4f20\u5931\u8d25"))}};return o.a.createElement(Hl,null,o.a.createElement(Av.a,t,o.a.createElement(re.a,null,"\u8bf7\u9009\u62e9\u4e00\u4e2aexcel\u6587\u4ef6")),o.a.createElement("br",null),o.a.createElement(vc.a,{tip:"\u5bfc\u5165\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",spinning:this.state.loading},o.a.createElement(ae,{columns:this.columns,data:this.props.list,loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,bordered:!0})))}}]),t}(i.Component);var RC=Object(h.b)(function(e){return{loading:e.exUploadAdd.loading,list:e.exUploadAdd.reserved_sell.list,paging:e.exUploadAdd.reserved_sell.paging,query:e.exUploadAdd.reserved_sell.query}},function(e){return{fetch:function(t,a){return e(CC(t,a))},updateQuery:function(t){e(AC(Object(E.a)({},t)))}}})(LC),PC=[{title:"\u6279\u6b21\u53f7",dataIndex:"batchno"},{title:"\u5408\u4f5c\u91d1\u878d\u673a\u6784",dataIndex:"bankName"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distributorName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"trimName"},{title:"\u8f66\u578b",dataIndex:"modelName"},{title:"\u8f66\u8eab\u989c\u8272",dataIndex:"color"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName"},{title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName"},{title:"\u8bc1\u4ef6\u4f4d\u7f6e",dataIndex:"certificateLocationName"},{title:"\u72b6\u6001",dataIndex:"processStatusName"},{title:"\u7c7b\u578b",dataIndex:"processTypeName"},{title:"\u5bfc\u5165\u65f6\u95f4",dataIndex:"createTime"},{title:"\u6700\u540e\u5904\u7406\u65f6\u95f4",dataIndex:"handleTime"},{title:"\u5907\u6ce8",dataIndex:"remark"}],UC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handleExport=function(){if(a.props.list.length){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var t=a.props.query.value;H.c.submit("/self-car/v1.0/carImports/export/inc/list",Object(E.a)({},t)).then(function(e){var t=on(e);t&&S.a.warning(t,2.5)}).then(function(t){a.setState({isExporting:!1}),e()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}else S.a.error("\u6682\u65e0\u6570\u636e,\u65e0\u6cd5\u5bfc\u51fa")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery,enableExport:!0,onExport:this.handleExport,isExporting:this.state.isExporting})),o.a.createElement(ae,{columns:PC,data:this.props.list,loading:this.props.loading,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange}))}}]),t}(i.Component);var YC=Object(h.b)(function(e){return{loading:e.exUploadAdd.loading,list:e.exUploadAdd.reserved_list.list,paging:e.exUploadAdd.reserved_list.paging,query:e.exUploadAdd.reserved_list.query}},function(e){return{fetch:function(t,a){return e(_C(t,a))},updateQuery:function(t){e(kC(Object(E.a)({},t)))}}})(UC);function FC(e){var t=e.match;return o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/add"),component:DC}),o.a.createElement(b.a,{path:"".concat(t.url,"/sell"),component:RC}),o.a.createElement(b.a,{path:"".concat(t.url,"/list"),component:YC}),o.a.createElement(Q.a,{from:"/excUploadAdd",to:"".concat(t.url,"/add")}))}var HC=a(92),KC=a.n(HC),qC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isHover:!1},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state.isHover,a=this.props,n=a.name,r=a.id,i=a.onClick,l=a.onDelete,c=a.active,s=c||t;return o.a.createElement("div",{onClick:function(){return"function"===typeof i&&i(r)},onMouseOver:function(){return e.setState({isHover:!0})},onMouseLeave:function(){return e.setState({isHover:!1})},className:KC.a.cellWrapper},o.a.createElement(me.a,{status:s?"success":"default"}),o.a.createElement("span",{className:"".concat(KC.a.cell," ").concat(c?KC.a.active:"")},o.a.createElement(G.a,{placement:"topLeft",title:n},n)),o.a.createElement(G.a,{title:"\u5220\u9664"},o.a.createElement(k.a,{type:"delete",onClick:function(){return l(r)},className:KC.a.delBtn})))}}]),t}(i.Component),BC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={isEditing:!1,isSubmitting:!1,value:""},a.onChange=function(e){var t=e&&e.target.value;a.setState({value:t})},a.handleSubmit=function(){var e=a.props.onSubmit,t=Object(Oc.a)(Object(Oc.a)(a));"function"!==typeof e||a.state.isSubmitting||(t.setState({isSubmitting:!0}),e(t.state.value).then(function(){t.setState({value:"",isEditing:!1,isSubmitting:!1})}).catch(function(e){t.setState({value:"",isEditing:!1,isSubmitting:!1}),S.a.error(e.message||e)}))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.state,a=t.isEditing,n=t.isSubmitting;return a?o.a.createElement(he.a,{onChange:this.onChange,disabled:n,onPressEnter:this.handleSubmit,maxLength:100,addonAfter:n?o.a.createElement(k.a,{type:"loading"}):o.a.createElement("div",null,o.a.createElement(k.a,{type:"check",style:{marginRight:"10px",cursor:"pointer"},onClick:this.handleSubmit}),o.a.createElement(k.a,{type:"close",style:{cursor:"pointer"},onClick:function(){return e.setState({isEditing:!1})}}))}):o.a.createElement(G.a,{title:"\u6dfb\u52a0"},o.a.createElement(k.a,{type:"plus-circle",className:KC.a.newBtn,onClick:function(){return e.setState({isEditing:!0})}}))}}]),t}(i.Component),VC=a(240),QC=a.n(VC),zC=z.a.confirm,WC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={brandList:[],modelList:[],trimList:[],selectedBrandId:"",selectedTrimId:"",loading:!0,isInit:!0},a.handleSearch=function(){return a.setState({loading:!0}),H.d.submit("/self-car/v1.0/brands/find/list").then(function(e){var t=e.data,n=void 0===t?{}:t;if(200!==n.code)return Promise.reject(n.message||"\u83b7\u53d6\u54c1\u724c\u4fe1\u606f\u5931\u8d25");var r=n.data,i=r.brandList,o=void 0===i?[]:i,l=r.modelList,c=void 0===l?[]:l,s=r.trimList,d=void 0===s?[]:s;a.setState({brandList:o,modelList:c,trimList:d,loading:!1},a.selectHeadItem)}).catch(function(e){a.setState({brandList:[],modelList:[],trimList:[],selectedBrandId:"",selectedTrimId:"",loading:!1}),S.a.error(e.message||e)})},a.selectHeadItem=function(){try{if(!a.state.isInit)return;var e=a.state,t=e.brandList,n=void 0===t?[]:t,r=e.trimList,i=void 0===r?[]:r,o=QC()(n)&&QC()(n).brandId||"",l="";if(o){var c=i.filter(function(e){return e.brandId===o});c.length>0&&(l=QC()(c).trimId)}a.setState({selectedBrandId:o,selectedTrimId:l,isInit:!1})}catch(s){a.setState({selectedBrandId:"",selectedTrimId:""})}},a.handleBrandClick=function(e){var t=a.state.trimList.filter(function(t){return t.brandId===e}),n=QC()(t)&&QC()(t).trimId||"";a.setState({selectedBrandId:e,selectedTrimId:n})},a.addNewItem=function(e){return function(t){var n={},r="",i="";if("brand"===e)n={brandName:t},r="/self-car/v1.0/brands/add",i="\u6dfb\u52a0\u54c1\u724c\u6210\u529f";else if("trim"===e&&a.state.selectedBrandId)n={brandId:a.state.selectedBrandId,trimName:t},r="/self-car/v1.0/trims/add",i="\u6dfb\u52a0\u8f66\u7cfb\u6210\u529f";else if("model"===e&&a.state.selectedBrandId&&a.state.selectedTrimId){try{if(a.state.trimList.find(function(e){return e.trimId===a.state.selectedTrimId}).brandId!==a.state.selectedBrandId)throw new Error("\u54c1\u724c\u548c\u8f66\u7cfb\u4e0d\u5339\u914d")}catch(o){return Promise.reject("\u8bf7\u9009\u62e9\u6709\u5173\u8054\u7684\u54c1\u724c\u548c\u8f66\u7cfb")}n={brandId:a.state.selectedBrandId,trimId:a.state.selectedTrimId,modelName:t},r="/self-car/v1.0/models/add",i="\u6dfb\u52a0\u8f66\u578b\u6210\u529f"}return H.d.submit(r,n).then(function(e){var t=e.data,n=void 0===t?{}:t;return 200===n.code?(S.a.success(i),a.handleSearch()):Promise.reject(n.message||"\u64cd\u4f5c\u5931\u8d25")})}},a.handleDelete=function(e){return function(t){var n="";if(e&&t){"\u54c1\u724c"===e?n="/self-car/v1.0/brands/delete/".concat(t):"\u8f66\u7cfb"===e?n="/self-car/v1.0/trims/delete/".concat(t):"\u8f66\u578b"===e&&(n="/self-car/v1.0/models/delete/".concat(t));var r=Object(Oc.a)(Object(Oc.a)(a));zC({title:"\u5220\u9664\u786e\u8ba4",content:"\u786e\u5b9a\u8981\u5220\u9664\u8be5".concat(e,"\u5417"),onOk:function(){H.d.deleteMeth(n).then(function(t){var a=t.data,n=void 0===a?{}:a;if(200!==n.code)return Promise.reject(n.message||"\u64cd\u4f5c\u5931\u8d25");S.a.success("\u5220\u9664".concat(e,"\u6210\u529f")),r.handleSearch()}).catch(function(e){S.a.error(e.message||e)})},onCancel:function(){}})}}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.state,a=t.brandList,n=t.modelList,r=t.trimList,i=t.selectedBrandId,l=t.selectedTrimId;return o.a.createElement(Hl,{className:KC.a.container},o.a.createElement("div",{className:KC.a.column},o.a.createElement("div",{className:KC.a.titleWrapper},o.a.createElement("span",{className:KC.a.title},"\u54c1\u724c ",a.length)),o.a.createElement("div",{className:KC.a.contentWrapper},o.a.createElement("div",{className:KC.a.content},a.map(function(t){return o.a.createElement(qC,{key:t.brandId,id:t.brandId,name:t.brandName,onClick:function(){return e.handleBrandClick(t.brandId)},onDelete:e.handleDelete("\u54c1\u724c"),active:i===t.brandId})}),o.a.createElement(BC,{onSubmit:this.addNewItem("brand")})))),o.a.createElement("div",{className:KC.a.column},o.a.createElement("div",{className:KC.a.titleWrapper},o.a.createElement("span",{className:KC.a.title},"\u8f66\u7cfb ",r.length)),o.a.createElement("div",{className:KC.a.contentWrapper},o.a.createElement("div",null,r.filter(function(e){return e.brandId===i}).map(function(t){return o.a.createElement(qC,{key:t.trimId,id:t.trimId,name:t.trimName,onClick:function(){return e.setState({selectedTrimId:t.trimId})},onDelete:e.handleDelete("\u8f66\u7cfb"),active:l===t.trimId})}),o.a.createElement(BC,{onSubmit:this.addNewItem("trim")})))),o.a.createElement("div",{className:KC.a.column},o.a.createElement("div",{className:KC.a.titleWrapper},o.a.createElement("span",{className:KC.a.title},"\u8f66\u578b ",n.length)),o.a.createElement("div",{className:KC.a.contentWrapper},o.a.createElement("div",null,n.filter(function(e){return e.trimId===l&&e.brandId===i}).map(function(t){return o.a.createElement(qC,{key:t.modelId,id:t.modelId,name:t.modelName,onDelete:e.handleDelete("\u8f66\u578b")})}),o.a.createElement(BC,{onSubmit:this.addNewItem("model")})))))}}]),t}(i.Component),GC=a(107),XC=a.n(GC),JC=z.a.confirm,ZC=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.handleSearch=function(){H.d.post("/self-car/v1.0/selfDistributorParamItem/find/list",{}).then(function(e){var t=e.data.data;t?a.setState({data:t}):S.a.error(e.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a.onChange=function(e){return function(t){var n=a.state.data,r=t.target.value;Ov.a.set(n,e,"number"==typeof r?r:r.replace(/[^\d]/g,"")),a.setState({data:n})}},a.saveData=function(){var e=Object(Oc.a)(Object(Oc.a)(a)),t=e.state.data,n=[t[1600],t[1700],t[1900],t[2e3]].filter(function(e){return 2==e.confirmEndTimeType&&!e.confirmEndTimeValue});n.length?S.a.error("".concat(n[0].itemName,"\u65f6\u6548\u672a\u586b\u5199 \uff01")):JC({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u4fdd\u5b58?",onOk:function(){H.d.post("/self-car/v1.0/selfDistributorParamItem/update",t).then(function(t){200===t.data.code?(S.a.success("\u4fdd\u5b58\u6210\u529f"),e.handleSearch()):S.a.error(t.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.state.data;return o.a.createElement("div",null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",onClick:this.saveData},"\u4fdd\u5b58")),o.a.createElement("table",{border:"1",width:"100%",className:XC.a.table},o.a.createElement("thead",null),o.a.createElement("tbody",null,Ov.a.get(e,"1100.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"30%",className:XC.a.tit},"\u79fb\u81f3\u4e8c\u7f51\u662f\u5426\u9700\u8981\u5230\u5e97\u786e\u8ba4"),o.a.createElement("td",{colSpan:"4",className:XC.a.center},o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1100.itemValue",0),onChange:this.onChange("1100.itemValue")},o.a.createElement(ts.a,{value:1},"\u662f"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:0},"\u5426")))),Ov.a.get(e,"1600.useFlag",1)&&Ov.a.get(e,"1700.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"30%",rowSpan:"2",className:XC.a.tit},"\u62bd\u67e5\u4efb\u52a1\u65f6\u6548"),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u65b0\u8f66"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1600.endTimeType",2),onChange:this.onChange("1600.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"1600.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1600.endTimeValue",""),onChange:this.onChange("1600.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"1600.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1600.endTimeValue",""),onChange:this.onChange("1600.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548"))),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u770b\u5230\u8f66\u67b6\u53f7\u540e\u65f6\u6548"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1600.confirmEndTimeType",1),onChange:this.onChange("1600.confirmEndTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u539f\u6709\u65f6\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4\u52a0\xa0",o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1600.confirmEndTimeValue"),onChange:this.onChange("1600.confirmEndTimeValue")}),"\xa0\u5c0f\u65f6\u6709\u6548")))),Ov.a.get(e,"1600.useFlag",1)&&Ov.a.get(e,"1700.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u4e8c\u624b\u8f66"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1700.endTimeType",2),onChange:this.onChange("1700.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"1700.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1700.endTimeValue"),onChange:this.onChange("1700.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"1700.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1700.endTimeValue"),onChange:this.onChange("1700.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548"))),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u770b\u5230\u8f66\u67b6\u53f7\u540e\u65f6\u6548"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1700.confirmEndTimeType",1),onChange:this.onChange("1700.confirmEndTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u539f\u6709\u65f6\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4\u52a0\xa0",o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1700.confirmEndTimeValue"),onChange:this.onChange("1700.confirmEndTimeValue")}),"\xa0\u5c0f\u65f6\u6709\u6548")))),Ov.a.get(e,"2100.useFlag",1)&&Ov.a.get(e,"2200.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"30%",rowSpan:"2",className:XC.a.tit},"\u79fb\u52a8\u4efb\u52a1\u65f6\u6548"),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u65b0\u8f66"),o.a.createElement("td",{colSpan:"3"},o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"2100.endTimeType",2),onChange:this.onChange("2100.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"2100.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2100.endTimeValue"),onChange:this.onChange("2100.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"2100.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2100.endTimeValue"),onChange:this.onChange("2100.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548")))),Ov.a.get(e,"2100.useFlag",1)&&Ov.a.get(e,"2200.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u4e8c\u624b\u8f66"),o.a.createElement("td",{colSpan:"3"},o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"2200.endTimeType",2),onChange:this.onChange("2200.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"2200.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2200.endTimeValue"),onChange:this.onChange("2200.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"2200.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2200.endTimeValue"),onChange:this.onChange("2200.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548")))),!!Ov.a.get(e,"1900.useFlag",1)&&!!Ov.a.get(e,"2000.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"30%",rowSpan:"2",className:XC.a.tit},"\u76d8\u8bc1\u62bd\u67e5\u4efb\u52a1\u65f6\u6548"),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u65b0\u8f66"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1900.endTimeType",2),onChange:this.onChange("1900.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"1900.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1900.endTimeValue"),onChange:this.onChange("1900.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"1900.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1900.endTimeValue"),onChange:this.onChange("1900.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548"))),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u63a5\u4efb\u52a1\u540e\u65f6\u6548"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"1900.confirmEndTimeType",1),onChange:this.onChange("1900.confirmEndTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u539f\u6709\u65f6\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u63a5\u4efb\u52a1\u65f6\u95f4\u52a0\xa0",o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"1900.confirmEndTimeValue"),onChange:this.onChange("1900.confirmEndTimeValue")}),"\xa0\u5c0f\u65f6\u6709\u6548")))),!!Ov.a.get(e,"1900.useFlag",1)&&!!Ov.a.get(e,"2000.useFlag",1)&&o.a.createElement("tr",null,o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u4e8c\u624b\u8f66"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"2000.endTimeType",2),onChange:this.onChange("2000.endTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==Ov.a.get(e,"2000.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2000.endTimeValue"),onChange:this.onChange("2000.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==Ov.a.get(e,"2000.endTimeType",2)?o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2000.endTimeValue"),onChange:this.onChange("2000.endTimeValue")}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548"))),o.a.createElement("td",{width:"10%",className:XC.a.titItem},"\u63a5\u4efb\u52a1\u540e\u65f6\u6548"),o.a.createElement("td",null,o.a.createElement(ts.a.Group,{value:Ov.a.get(e,"2000.confirmEndTimeType",1),onChange:this.onChange("2000.confirmEndTimeType")},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u539f\u6709\u65f6\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u63a5\u4efb\u52a1\u65f6\u95f4\u52a0\xa0",o.a.createElement(he.a,{size:"small",value:Ov.a.get(e,"2000.confirmEndTimeValue"),onChange:this.onChange("2000.confirmEndTimeValue")}),"\xa0\u5c0f\u65f6\u6709\u6548")))))))}}]),t}(i.Component),$C=a(773),e_=a(774);function t_(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/carPhoTemp/newCar",component:$C.a}),o.a.createElement(b.a,{exact:!0,path:"/carPhoTemp/esCar",component:e_.a}),o.a.createElement(Q.a,{from:"/carPhoTemp",to:"/carPhoTemp/newCar"}))}var a_=a(527),n_=a.n(a_),r_=z.a.confirm,i_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={record:{},modVisible:!1,addVisible:!1},a.delList=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));r_({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664\uff1f",onOk:function(){H.d.post("/self-car/v1.0/selfExceptionType/delete",{id:e}).then(function(e){S.a.success("\u64cd\u4f5c\u6210\u529f"),t.props.handleSearch()}).catch(function(e){S.a.success("\u64cd\u4f5c\u5931\u8d25")})}})}},a.onCancel=function(){a.setState({modVisible:!1,addVisible:!1})},a.modList=function(e){return function(){a.setState({modVisible:!0,record:e})}},a.modSubmit=function(e){return H.d.post("/self-car/v1.0/selfExceptionType/update/remark",{id:a.state.record.id,remark:e.remark}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 200===a.code?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a.onOk=function(){a.setState({modVisible:!1,addVisible:!1}),a.props.handleSearch()},a.addSubmit=function(e){return H.d.post("/self-car/v1.0/selfExceptionType/add",{excName:e.excName,remark:e.remark,spottesttype:a.props.spottesttype}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 200===a.code?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.message||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:n_.a.conBar},this.props.data.map(function(t,a){return o.a.createElement("div",{key:t.id},o.a.createElement("span",null,a+1),t.excName,o.a.createElement("hr",null),t.remark,"\xa0 \xa0",o.a.createElement(G.a,{title:"\u4fee\u6539",onClick:e.modList(t)},o.a.createElement(k.a,{type:"edit",style:{color:"#66CD00"}})),"\xa0 \xa0",o.a.createElement(G.a,{title:"\u5220\u9664",onClick:e.delList(t.id)},o.a.createElement(k.a,{type:"close-circle",style:{color:"#FF3030"}})))}),o.a.createElement(G.a,{title:"\u589e\u52a0",onClick:function(){e.setState({addVisible:!0})}},o.a.createElement(k.a,{type:"plus-circle",className:n_.a.icon})),this.state.modVisible&&o.a.createElement(ls,{title:"\u4fee\u6539\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8",onOk:this.onOk,onCancel:this.onCancel,onSubmit:this.modSubmit,configList:[{label:"\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8",type:"input",key:"remark",required:!0,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8\uff01"}]}]}),this.state.addVisible&&o.a.createElement(ls,{title:"\u65b0\u589e\u5f02\u5e38\u7c7b\u578b",onOk:this.onOk,onCancel:this.onCancel,onSubmit:this.addSubmit,configList:[{label:"\u5f02\u5e38\u7c7b\u578b",type:"input",key:"excName",required:!0,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5f02\u5e38\u7c7b\u578b\uff01"}]},{label:"\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8",type:"input",key:"remark",required:!0,rules:[{required:!0,message:"\u8bf7\u586b\u5199\u5f02\u5e38\u7c7b\u578b\u5907\u6ce8\uff01"}]}]}))}}]),t}(i.Component),o_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.handleSearch=function(){H.d.post("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:20}).then(function(e){if(200==e.data.code){var t=e.data.data;a.setState({data:t})}}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.data.length>0&&o.a.createElement(i_,{spottesttype:20,data:this.state.data,handleSearch:this.handleSearch}))}}]),t}(i.Component),l_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.handleSearch=function(){H.d.post("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:50}).then(function(e){if(200==e.data.code){var t=e.data.data;a.setState({data:t})}}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.data.length>0&&o.a.createElement(i_,{spottesttype:50,data:this.state.data,handleSearch:this.handleSearch}))}}]),t}(i.Component),c_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={data:[]},a.handleSearch=function(){H.d.post("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:30}).then(function(e){if(200==e.data.code){var t=e.data.data;a.setState({data:t})}}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return o.a.createElement("div",null,this.state.data.length>0&&o.a.createElement(i_,{spottesttype:30,data:this.state.data,handleSearch:this.handleSearch}))}}]),t}(i.Component);function s_(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/exceSetting/car",component:o_}),o.a.createElement(b.a,{exact:!0,path:"/exceSetting/move",component:l_}),o.a.createElement(b.a,{exact:!0,path:"/exceSetting/plate",component:c_}),o.a.createElement(Q.a,{from:"/exceSetting",to:"/exceSetting/car"}))}var d_,u_="YYYY-MM-DD",p_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={excepList:[],financialList:[],isExporting:!1},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e),i=e.taskStartTimeRange;if(i){var o=Object(y.a)(i,2),l=o[0],c=o[1];r.startDate=l&&l.format(u_),r.endDate=c&&c.format(u_),delete r.taskStartTimeRange}a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize}),a.financialList()},a.excReasonList=function(e){H.d.submit("/self-car/v1.0/selfExceptionType/find/list/used",{spottesttype:e}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({excepList:n})}})},a.financialList=function(){H.d.submit("/self-car/v1.0/selfFinancialProducts/find/list/all",{}).then(function(e){var t=e.data;if(200===t.code){var n=t.data;a.setState({financialList:n})}})},a.handleExport=function(){if(a.props.list.length){var e="car"===a.props.menuId?20:30,t=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0});var n=a.props.query.value,r=n.taskStartTimeRange;if(r){var i=Object(y.a)(r,2),o=i[0],l=i[1];n.startDate=o&&o.format(u_),n.endDate=l&&l.format(u_),delete n.taskStartTimeRange}H.c.submit("/self-car/v1.0/standingBook/export/spot/list",Object(E.a)({},n,{spottesttype:e})).then(function(e){var t=on(e);t&&S.a.warning(t,2.5)}).then(function(e){a.setState({isExporting:!1}),t()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}else S.a.error("\u6682\u65e0\u6570\u636e,\u65e0\u6cd5\u5bfc\u51fa")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e="car"===this.props.menuId?20:30;this.excReasonList(e),this.financialList(),this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=e.list,r=e.loading,i=e.columns;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery,enableExport:!0,onExport:this.handleExport,isExporting:this.state.isExporting,excReasonList:this.state.excepList,financialList:this.state.financialList})),o.a.createElement("div",null,o.a.createElement(ae,{columns:i,loading:r,data:n,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})))}}]),t}(i.Component),m_=Object(Y.a)((d_={},Object(U.a)(d_,"YICHAKU/SOLDCONF/FETCH_SOLD_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(d_,"YICHAKU/SOLDCONF/FETCH_SOLD_GONE",{next:function(e,t){return Object(E.a)({},e,{gone:Object(E.a)({},e.gone,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(d_,"YICHAKU/SOLDCONF/UPDATE_SOLD_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(d_,"YICHAKU/SOLDCONF/UPDATE_SOLD_GONE",{next:function(e,t){return Object(E.a)({},e,{gone:Object(E.a)({},e.gone,{query:Object(E.a)({},e.gone.query,t.payload)})})}}),Object(U.a)(d_,"YICHAKU/SOLDCONF/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),d_),{loading:!0,todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}},gone:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}}}),h_=Object(F.a)("YICHAKU/SOLDCONF/FETCH_SOLD_TODO",function(e,t){return H.d.postWithPaging("/self-car/v1.0/standingBook/find/spot/list",Object(E.a)({},e,{spottesttype:20}),t)}),g_=Object(F.a)("YICHAKU/SOLDCONF/FETCH_SOLD_GONE",function(e,t){return H.d.postWithPaging("/self-car/v1.0/standingBook/find/spot/list",Object(E.a)({},e,{spottesttype:30}),t)}),f_=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_SOLD_TODO"),b_=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_SOLD_GONE"),E_=[{title:"\u5927\u533a",dataIndex:"areaInfo.areaName"},{title:"\u5c0f\u533a",dataIndex:"areaInfo.subAreaName"},{title:"\u533a\u57df\u7ecf\u7406",dataIndex:"areaInfo.managerName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis",render:function(e,t){return t.car.chassis}},{title:"\u54c1\u724c\u540d\u79f0",dataIndex:"brandName",render:function(e,t){return t.car.brandName}},{title:"\u8f66\u8f86\u7c7b\u578b",dataIndex:"carTypeName",render:function(e,t){return t.car.carTypeName}},{title:"\u91d1\u878d\u4ea7\u54c1",dataIndex:"financialProductsName",render:function(e,t){return t.car.financialProductsName}},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"spottest.bookTime"},{title:"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4",dataIndex:"viewTime"},{title:"\u4efb\u52a1\u622a\u6b62\u65f6\u95f4",dataIndex:"deadline",render:function(e){return cn(e)}},{title:"\u62cd\u7167\u65f6\u95f4",dataIndex:"submitTime"},{title:"\u4efb\u52a1\u72b6\u6001",dataIndex:"statusName"},{title:"\u5f02\u5e38\u7c7b\u578b",dataIndex:"excReasonName"},{title:"\u5ba1\u6838\u4eba",dataIndex:"auditUserName"},{title:"\u5ba1\u6838\u65f6\u95f4",dataIndex:"auditTime"},{title:"\u5f02\u5e38\u63cf\u8ff0",dataIndex:"excRemark",onCell:function(){return{style:{maxWidth:150,overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",cursor:"pointer"}}},render:function(e){return o.a.createElement(G.a,{placement:"topLeft",title:e},e)}}];var y_=Object(h.b)(function(e){return{loading:e.standMang.loading,list:e.standMang.todo.list,paging:e.standMang.todo.paging,query:e.standMang.todo.query,columns:E_,menuId:"car"}},function(e){return{fetch:function(t,a){return e(h_(t,a))},updateQuery:function(t){e(f_(Object(E.a)({},t)))}}})(p_);var v_=Object(h.b)(function(e){return{loading:e.standMang.loading,list:e.standMang.gone.list,paging:e.standMang.gone.paging,query:e.standMang.gone.query,columns:E_,menuId:"plate"}},function(e){return{fetch:function(t,a){return e(g_(t,a))},updateQuery:function(t){e(b_(Object(E.a)({},t)))}}})(p_);function O_(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/standMang/car",component:y_}),o.a.createElement(b.a,{exact:!0,path:"/standMang/plate",component:v_}),o.a.createElement(Q.a,{from:"/standMang",to:"/standMang/car"}))}var S_,I_=a(775),C_=a(776);function __(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/credPhoTemp/newCar",component:I_.a}),o.a.createElement(b.a,{exact:!0,path:"/credPhoTemp/esCar",component:C_.a}),o.a.createElement(Q.a,{from:"/credPhoTemp",to:"/credPhoTemp/newCar"}))}var T_,A_,k_,w_=Object(Y.a)((S_={},Object(U.a)(S_,"YICHAKU/CLIENTMANAGEMENT/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Object(U.a)(S_,"YICHAKU/CLIENTMANAGEMENT/FETCH_CLIENT_INFO",{next:function(e,t){return Object(E.a)({},e,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})}}),Object(U.a)(S_,"YICHAKU/CLIENTMANAGEMENT/UPDATE_CLIENT_QUERY",{next:function(e,t){return Object(E.a)({},e,{clientQuery:Object(E.a)({},e.clientQuery,t.payload)})}}),S_),{loading:!0,list:[],clientQuery:{value:{},expandForm:!1},paging:{current:1,pageSize:10,total:10}}),j_=Object(F.a)("YICHAKU/CLIENTMANAGEMENT/INSERT_CLIENT_INFO",function(e){return H.e.formSubmit("/EndPointAction_insert","",e)}),x_=Object(F.a)("YICHAKU/CLIENTMANAGEMENT/FETCH_CLIENT_INFO",function(e,t){return H.e.formSubmit("/EndPointAction_findList","",e,t)}),D_=Object(F.a)("YICHAKU/CLIENTMANAGEMENT/UPDATE_CLIENT_QUERY"),M_=a(282),N_=a.n(M_),L_=oe.a.Option,R_=ie.a.create()((k_=A_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){var e=a.props.record;a.props.form.validateFields(function(t,n){n.id=e.id,t||a.props.onSubmit(n)})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r=e.path,i={labelCol:{span:7},wrapperCol:{span:15}};return"/clientManagement"===r?o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u8bbe\u5907\u7c7b\u578b"},i),t("type",{initialValue:0,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\uff01"}]})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"}},Te.map(function(e){return o.a.createElement(L_,{value:e.value,key:e.value},e.name)})))),o.a.createElement(iO.a,Object.assign({label:"\u7ec8\u7aef\u540d\u79f0"},i),t("name",{rules:a.requiredRule})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u7ec8\u7aef\u54c1\u724c"},i),t("brand",{rules:a.requiredRule})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u578b\u53f7"},i),t("modelNumber",{rules:a.requiredRule})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u5e8f\u5217\u53f7"},i),t("serialNumber",{rules:a.requiredRule})(o.a.createElement(he.a,null))))):"/cameraList"===r?o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u5e8f\u5217\u53f7"},i),t("serialNumber",{rules:a.requiredRule,initialValue:n.serialNumber})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u6444\u50cf\u5934\u54c1\u724c"},i),t("brand",{rules:a.requiredRule,initialValue:n.brand})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u578b\u53f7"},i),t("modelNumber",{rules:a.requiredRule,initialValue:n.modelNumber})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u50cf\u7d20"},i),t("pixel",{initialValue:n.pixel})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u8ddd\u79bb"},i),t("distance",{initialValue:n.distance})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u9a8c\u8bc1\u7801"},i),t("code",{rules:a.requiredRule,initialValue:n.code})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"access_token"},i),t("token",{rules:a.requiredRule,initialValue:n.token})(o.a.createElement(he.a,null))))):null},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent),A_.defaultProps={path:""},T_=k_))||T_,P_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showAddModal:!1,newModel:null},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.goDetail=function(e){return function(){console.log(e)}},a.addClient=function(){a.setState({showAddModal:!0,newModel:{type:"0",code:"",name:"",brand:"",modelNumber:"",serialNumber:""}})},a.addClientOk=function(){a.clientForm&&a.clientForm.submit()},a.addClientCancel=function(){a.setState({showAddModal:!1})},a.confirmClientInfo=function(e){console.log(e),e&&a.props.insert(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u589e\u52a0\u6210\u529f\uff01",2.5),a.addClientCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u589e\u52a0\u7ec8\u7aef\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"getColumn",value:function(){var e=this,t=_l(this.props.match.url);return t.map(function(t){"action"===t.dataIndex&&(t.render=function(t,a){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:e.goDetail(a)},o.a.createElement(k.a,{type:"search",style:{color:"rgba(0, 0, 0, 0.65)"}}))))})}),t}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.rowKey;return o.a.createElement(Hl,null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",className:"customBtn",onClick:this.addClient},"\u65b0\u589e\u7ec8\u7aef")),o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",{className:N_.a.wrapper},o.a.createElement(ae,{columns:this.getColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:r})),o.a.createElement(z.a,{title:"\u65b0\u589e\u7ec8\u7aef",visible:this.state.showAddModal,onOk:this.addClientOk,onCancel:this.addClientCancel,destroyOnClose:!0},o.a.createElement(R_,{wrappedComponentRef:function(t){return e.clientForm=t},onSubmit:this.confirmClientInfo,record:this.state.newModel,path:a.url})))}}]),t}(i.Component);var U_,Y_,F_,H_,K_={fetch:function(e,t){return x_(e,t)},updateQuery:function(e){return D_(e)},insert:function(e){return j_(e)}},q_=Object(h.b)(function(e){return{list:e.clientManagement.list,query:e.clientManagement.clientQuery,paging:e.clientManagement.paging,loading:e.clientManagement.loading,rowKey:function(e){return"".concat(e.id,",").concat(e.code)}}},K_)(P_),B_=Object(Y.a)((U_={},Object(U.a)(U_,"YICHAKU/CAMERALIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Object(U.a)(U_,"YICHAKU/CAMERALIST/FETCH_CAMERA_INFO",{next:function(e,t){return Object(E.a)({},e,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})}}),Object(U.a)(U_,"YICHAKU/CAMERALIST/UPDATE_CAMERA_QUERY",{next:function(e,t){return Object(E.a)({},e,{query:Object(E.a)({},e.query,t.payload)})}}),Object(U.a)(U_,"YICHAKU/CAMERALIST/FETCH_ENDPOINT_LIST",{next:function(e,t){return Object(E.a)({},e,{endPointList:t.payload.data.list||[]})}}),Object(U.a)(U_,"YICHAKU/CAMERALIST/FETCH_DEALER_LIST",{next:function(e,t){return Object(E.a)({},e,{dealerList:t.payload.data.list||[]})}}),U_),{loading:!0,list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1},endPointList:[],dealerList:[]}),V_=Object(F.a)("YICHAKU/CAMERALIST/INSERT_CAMERA_INFO",function(e){return H.e.formSubmit("/CameraAction_saveCameraInsert","",e)}),Q_=Object(F.a)("YICHAKU/CAMERALIST/FETCH_CAMERA_INFO",function(e,t){return H.e.formSubmit("/CameraAction_findList","",e,t)}),z_=(Object(F.a)("YICHAKU/CAMERALIST/UPDATE_CAMERA_QUERY"),Object(F.a)("YICHAKU/CAMERALIST/FETCH_ENDPOINT_LIST",function(){return H.e.formSubmit("/CameraAction_findEndPointList","")})),W_=Object(F.a)("YICHAKU/CAMERALIST/FETCH_DEALER_LIST",function(){return H.e.formSubmit("/CameraAction_findDealerList","")}),G_=Object(F.a)("YICHAKU/CAMERALIST/UPDATE_CAMERA_DEALER_BIND",function(e){return H.e.formSubmit("/CameraAction_allocateUsers","",e)}),X_=Object(F.a)("YICHAKU/CAMERALIST/UPDATE_CAMERA_CLIENT_BIND",function(e){return H.e.formSubmit("/CameraAction_bindEnd","",e)}),J_=Object(F.a)("YICHAKU/CAMERALIST/UPDATE_CAMERA_INFO",function(e){return H.e.formSubmit("/CameraAction_saveCameraUpdate","",e)}),Z_=oe.a.Option,$_=ie.a.create()((H_=F_=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r=e.type,i=e.optionList,l={labelCol:{span:7},wrapperCol:{span:15}};return console.log(n),r===rT?o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u7ec8\u7aef\u7f16\u53f7"},l),t("endPointId",{initialValue:n.endPointVO.id,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\uff01"}]})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"},showSearch:!0,filterOption:function(e,t){return t.props.children.indexOf(e)>=0}},i.map(function(e){return o.a.createElement(Z_,{value:e.value,key:e.value},e.label)})))))):r===iT?o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u7ecf\u9500\u5546\u540d\u79f0"},l),t("distributorId",{initialValue:n.whareHouseVO.distributorId,rules:[{required:!0,message:"\u8bf7\u9009\u62e9\uff01"}]})(o.a.createElement(oe.a,{placeholder:"\u8bf7\u9009\u62e9",style:{width:"100%"},showSearch:!0,filterOption:function(e,t){return t.props.children.indexOf(e)>=0}},i.map(function(e){return o.a.createElement(Z_,{value:e.value,key:e.value},e.label)})))),o.a.createElement(iO.a,Object.assign({label:"\u4e8c\u5e93\u540d\u79f0"},l),t("whareHouseName",{initialValue:n.whareHouseVO.whareHouseName,rules:a.requiredRule})(o.a.createElement(he.a,null))))):null},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent),F_.defaultProps={path:""},Y_=H_))||Y_,eT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showAddModal:!1,addModalTitle:"\u65b0\u589e\u6444\u50cf\u5934",record:null,newModel:null,showBindModal:!1,bindType:"",optionList:[]},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.getColumn=function(){var e=_l(a.props.match.url);return e.map(function(e){"action"===e.dataIndex&&(e.render=function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(N_.a.action),onClick:a.addCamera(t)},"\u67e5\u770b"),o.a.createElement("a",{className:"".concat(N_.a.action),onClick:function(){a.bindInfo(iT,t)}},"\u5206\u914d\u7528\u6237"),o.a.createElement("a",{className:"".concat(N_.a.action),onClick:a.realTimePicture(t)},"\u5b9e\u65f6\u753b\u9762"))})}),e},a.addCamera=function(e){return function(){null==e?a.setState({showAddModal:!0,addModalTitle:"\u65b0\u589e\u6444\u50cf\u5934",newModel:{code:"",brand:"",modelNumber:"",pixel:"",distance:"",token:""}}):(console.log(e),a.setState({showAddModal:!0,addModalTitle:"\u4fee\u6539\u4fe1\u606f",newModel:Object(E.a)({},e)}))}},a.addCameraOk=function(){a.cameraForm&&a.cameraForm.submit()},a.addCameraCancel=function(){a.setState({showAddModal:!1})},a.confirmCameraInfo=function(e){console.log(e),e&&(e.id?a.props.update(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u4fee\u6539\u6210\u529f\uff01",2.5),a.addCameraCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u4fee\u6539\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)}):a.props.insert(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success("\u589e\u52a0\u6210\u529f\uff01",2.5),a.addCameraCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){return S.a.error(e.message||"\u589e\u52a0\u6444\u50cf\u5934\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01",2.5)}))},a.bindInfo=function(e,t){a.setState({showBindModal:!0,bindType:e,record:t,optionList:e===rT?a.props.endPointList:a.props.dealerList})},a.bindFormOk=function(){a.bindForm&&a.bindForm.submit()},a.bindFormCancel=function(){a.setState({showBindModal:!1})},a.confirmBind=function(e){console.log(e),e&&(e.cameraId=a.state.record.id,a.state.bindType===rT?a.props.bindClient(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success(t.data.msg,2.5),a.addCameraCancel(),a.handleSearch(a.props.query.value)}):a.state.bindType===iT&&a.props.bindDealer(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(new Error(t.data.msg));S.a.success(t.data.msg,2.5),a.addCameraCancel(),a.handleSearch(a.props.query.value)}))},a.realTimePicture=function(e){return function(){window.open("http://e-chaku.com/resource/template/myparker.html?token="+e.token+"&code="+e.code+"&id="+e.serialNumber)}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value),this.getClientList(),this.getDealerList()}},{key:"getClientList",value:function(){this.props.fetchEndPointList()}},{key:"getDealerList",value:function(){this.props.fetchDealerList()}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.rowKey,r=t.query,i=this.state,l=i.addModalTitle,c=i.newModel;return o.a.createElement(Hl,null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",className:"customBtn",onClick:this.addCamera(null)},"\u65b0\u589e\u6444\u50cf\u5934")),o.a.createElement("div",null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:r,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement(ae,{columns:this.getColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:n})),o.a.createElement(z.a,{title:l,visible:this.state.showAddModal,onOk:this.addCameraOk,onCancel:this.addCameraCancel,destroyOnClose:!0},o.a.createElement(R_,{wrappedComponentRef:function(t){return e.cameraForm=t},onSubmit:this.confirmCameraInfo,record:c,path:a.url})),o.a.createElement(z.a,{visible:this.state.showBindModal,onOk:this.bindFormOk,okText:"\u7ed1\u5b9a",onCancel:this.bindFormCancel,destroyOnClose:!0},o.a.createElement($_,{wrappedComponentRef:function(t){return e.bindForm=t},onSubmit:this.confirmBind,record:this.state.record,type:this.state.bindType,optionList:this.state.optionList})))}}]),t}(i.Component);var tT,aT,nT=Object(h.b)(function(e){return{loading:e.cameraList.loading,list:e.cameraList.list,paging:e.cameraList.paging,query:e.cameraList.query,dealerList:e.cameraList.dealerList,endPointList:e.cameraList.endPointList,rowKey:function(e){return"".concat(e.id,",").concat(e.code)}}},function(e){return{insert:function(t){return e(V_(t))},update:function(t){return e(J_(t))},fetch:function(t,a){return e(Q_(t,a))},fetchDealerList:function(){return e(W_())},fetchEndPointList:function(){return e(z_())},bindClient:function(t){return e(X_(t))},bindDealer:function(t){return e(G_(t))}}})(eT),rT="BIND_TYPE_CLIENT",iT="BIND_TYPE_DEALER",oT=Object(Y.a)((tT={},Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/FETCH_REPOSITORY_LIST",{next:function(e,t){return Object(E.a)({},e,{repoList:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/FETCH_TODO_WARNING",{next:function(e,t){return Object(E.a)({},e,{warningTodo:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/FETCH_GONE_WARNING",{next:function(e,t){return Object(E.a)({},e,{warningGone:{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}}})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/UPDATE_FACTORY_ID",{next:function(e,t){return Object(E.a)({},e,{factoryId:t.payload||""})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/UPDATE_CAMERA_CODE",{next:function(e,t){return Object(E.a)({},e,{serialNumber:t.payload||""})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/UPDATE_TODO_WARNING_QUERY",{next:function(e,t){return Object(E.a)({},e,{warningTodoQuery:Object(E.a)({},e.warningTodoQuery,t.payload)})}}),Object(U.a)(tT,"YICHAKU/REPOSITORYLIST/UPDATE_GONE_WARNING_QUERY",{next:function(e,t){return Object(E.a)({},e,{warningGoneQuery:Object(E.a)({},e.warningGoneQuery,t.payload)})}}),tT),{loading:!0,repoList:[],paging:{current:1,pageSize:10,total:10},factoryId:"",serialNumber:"",warningTodo:{list:[],paging:{current:1,pageSize:10,total:10}},warningGone:{list:[],paging:{current:1,pageSize:10,total:10}},warningTodoQuery:{value:{isRemove:0},expandForm:!1},warningGoneQuery:{value:{isRemove:1},expandForm:!1}}),lT=Object(F.a)("YICHAKU/REPOSITORYLIST/FETCH_REPOSITORY_LIST",function(e){return H.e.formSubmit("/WhareHouseAction_findWhareHouseList","",{},e)}),cT=Object(F.a)("YICHAKU/REPOSITORYLIST/FETCH_CAMERA_LIST",function(e){return H.e.formSubmit("/WhareHouseAction_findCameraListByWhareHouse","",e)}),sT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_FACTORY_ID"),dT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_CAMERA_CODE"),uT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_REPOSITORY",function(e){return H.d.post("/WhareHouseAction_editWhareHouse",e)}),pT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_REPOSITORY",function(e,t){return H.d.post("/WhareHouseAction_findWhareHouseRecord",Object(E.a)({},e,t))}),mT=Object(F.a)("YICHAKU/REPOSITORYLIST/FETCH_K_DATA",function(e){return H.d.post("/WhareHouseAction_getWhareHouseKData",e)}),hT=Object(F.a)("YICHAKU/REPOSITORYLIST/FETCH_TODO_WARNING",function(e,t){return H.d.post("/WhareHouseAction_getWarning",Object(E.a)({},e,t))}),gT=Object(F.a)("YICHAKU/REPOSITORYLIST/FETCH_GONE_WARNING",function(e,t){return H.d.post("/WhareHouseAction_getWarning",Object(E.a)({},e,t))}),fT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_TODO_WARNING_QUERY"),bT=Object(F.a)("YICHAKU/REPOSITORYLIST/UPDATE_GONE_WARNING_QUERY"),ET=a(139),yT=a.n(ET),vT=ie.a.create()(aT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=a.props.record;t.id=n.id,t.oldNumber=n.realCarNum,a.props.onSubmit(t)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u4e8c\u5e93\u540d\u79f0"},r),t("whareHouseName",{rules:a.requiredRule,initialValue:n.whareHouseName})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf"},r),t("newNumber",{rules:a.requiredRule,initialValue:n.realCarNum})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u8bf4\u660e"},r),t("remark",{rules:a.requiredRule})(o.a.createElement(he.a,null)))),o.a.createElement("div",null,o.a.createElement(k.a,{type:"info-circle",theme:"twoTone",twoToneColor:"#eb2f96"}),o.a.createElement("span",{className:"".concat(yT.a.warning)},"\u4fee\u6539\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf\u5c06\u81ea\u52a8\u89e3\u9664\u76f8\u5173\u9884\u8b66\u4fe1\u606f")))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||aT,OT=a(777),ST=a.n(OT),IT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={factory:{},expandedRow:[],expandedSubRow:{},editModelShow:!1,editModel:{},record:{loading:!1,modalShow:!1,list:[],paging:{current:1,pageSize:10,total:10}},recordId:"",kCharts:{showKChartsModal:!1,loading:!1,data:[],realCnt:[],categoryData:[],option:{}}},a.handleSearch=function(e,t){a.props.fetch({pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.getColumn=function(){var e=_l(a.props.match.url);return e.map(function(e){"action"===e.dataIndex&&(e.render=function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(yT.a.action),href:"javascript:;"},"\u67e5\u770b"),o.a.createElement("a",{className:"".concat(yT.a.action),onClick:a.edit(t)},"\u4fee\u6539"),o.a.createElement("a",{className:"".concat(yT.a.action),onClick:a.getKData(t)},"k\u7ebf\u56fe"),o.a.createElement("a",{className:"".concat(yT.a.action),onClick:a.getRepoRecord(t)},"\u64cd\u4f5c\u65e5\u5fd7"))})}),e},a.expandedRegionRender=function(e){var t=[nl,rl,Zo,ul,{title:"\u64cd\u4f5c",dataIndex:"action",align:"left",render:function(e,t){return o.a.createElement("a",{onClick:a.updateCameraCode(t.serialNumber)},"\u5f71\u50cf\u660e\u7ec6")}}],n=e.id,r=a.state.expandedSubRow[n];return o.a.createElement(Hl,{style:{"min-height":"100px"}},o.a.createElement(Z.a,{loading:a.props.loading&&n===a.state.factory.id,columns:t,dataSource:r,rowKey:"id",pagination:!1}))},a.updateCameraCode=function(e){return function(){a.props.updateCameraCode(e),a.props.history.push("/repositoryList/detail")}},a.handleExpand=function(e,t){if(e){var n=t.id,r=a.state,i=r.expandedRow,o=r.expandedSubRow;a.props.updateFactoryId(n),i.includes(n)||(i.push(t.id),a.props.fetchCameraList({whareHouseId:n}).then(function(e){var r=e.payload;a.setState({factory:t,expandedRow:i,expandedSubRow:Object(E.a)({},o,Object(U.a)({},n,r.data.list||[]))})}).catch(function(e){console.log(e)}))}},a.edit=function(e){return function(t){t.preventDefault(),t.stopPropagation(),a.setState({editModelShow:!0,editModel:e})}},a.onModalCancel=function(){a.setState({editModelShow:!1,editModel:{},record:{loading:!1,modalShow:!1,list:[],paging:{current:1,pageSize:10,total:10}},kCharts:{showKChartsModal:!1,loading:!1,data:[],realCnt:[],categoryData:[]}})},a.onEditModalOk=function(){a.editForm&&a.editForm.submit()},a.confirmEditModal=function(e){console.log(e),e&&a.props.updateRepository(e).then(function(e){var t=e.payload;if(!t||!t.data||0!==t.data.result)return Promise.reject(t.data.msg);S.a.success(t.data.msg,2.5),a.onModalCancel(),a.handleSearch()})},a.getRepoRecord=function(e,t,n){return function(r){r.preventDefault(),r.stopPropagation(),a.setState({recordId:e.id||e,record:{loading:!0,modalShow:!0,list:[],paging:{current:1,pageSize:10,total:10}}});var i={whareHouseId:e.id||e};a.props.repoRecordFetch(i,{pageNum:t||a.state.record.paging.current,pageSize:n||a.state.record.paging.pageSize}).then(function(t){var n=t.payload;if(!n||!n.data||0!==n.data.result)return a.setState({record:{loading:!1,modalShow:!0,list:[],paging:{current:1,pageSize:10,total:10}}}),Promise.reject(n.data.msg);console.log(n.data.list),a.setState({record:Object(E.a)({},e,{loading:!1,modalShow:!0,list:n.data.list||[],paging:{current:n.data.page&&n.data.page.pageNum,pageSize:n.data.page&&n.data.page.pageSize,total:n.data.page&&n.data.page.total}})})})}},a.getRepoRecordColumns=function(){return[{title:"\u64cd\u4f5c\u65f6\u95f4",dataIndex:"updateTime"},{title:"\u64cd\u4f5c\u4eba",dataIndex:"userName"},{title:"\u64cd\u4f5c\u5185\u5bb9",dataIndex:"action",render:function(e,t){return"\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf\u7531"+t.oldNumber+"\u66f4\u6539\u4e3a"+t.newNumber+", \u8bf4\u660e\uff1a"+t.remark}}]},a.repoRecordPageChange=function(e,t){a.getRepoRecord(a.state.recordId,e,t)},a.getKData=function(e){return function(t){t.preventDefault(),t.stopPropagation(),a.setState({kCharts:{showKChartsModal:!0,loading:!0}}),a.props.kDataFetch({id:e.id}).then(function(e){var t=e.payload;if(!t.data||0!=t.data.result)return a.setState({kCharts:{showKChartsModal:!1,loading:!1}}),Promise.reject(t.data.msg);var n=[],r=[],i=[];t.data.list.forEach(function(e){var t=e.createTime&&je.a.unix(e.createTime.time/1e3).format("YYYY-MM-DD");n.push([e.openNumber,e.closeNumber?e.closeNumber:e.realNumber,e.minNumber,e.maxNumber]),r.push(e.realNumber),i.push(t)}),a.setState({kCharts:{showKChartsModal:!0,loading:!1,data:n,realCnt:r,categoryData:i}})}).catch(function(e){return console.log(e),a.setState({kCharts:{showKChartsModal:!1,loading:!1}}),Promise.reject(e)})}},a.getKOption=function(){var e=a.state.kCharts,t=e.data,n=e.realCnt,r=e.categoryData,i=0;r&&r.length>30&&(i=30/r.length*100);return{tooltip:{trigger:"axis",axisPointer:{type:"cross"}},legend:{data:["\u65e5K","\u5b9e\u9645\u5728\u5e93\u8f66\u8f86\u6570"]},grid:{left:"10%",right:"10%",bottom:"20%"},xAxis:{type:"category",data:r,scale:!0,boundaryGap:!0,axisLine:{onZero:!1},splitLine:{show:!1},splitNumber:20,min:"dataMin",max:"dataMax"},yAxis:{scale:!0,splitArea:{show:!0}},dataZoom:[{type:"inside",start:i,end:100},{show:!0,type:"slider",y:"90%",start:i,end:100}],series:[{name:"\u65e5K",type:"candlestick",data:t,itemStyle:{normal:{color:"#ec0000",color0:"#00da3c",borderColor:"#8A0000",borderColor0:"#008F28"}}},{name:"\u5b9e\u9645\u5728\u5e93\u8f66\u8f86\u6570",type:"line",data:n,lineStyle:{normal:{opacity:.5}}}]}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=this.props.rowKey;return o.a.createElement(Hl,null,o.a.createElement("div",{className:yT.a.wrapper},o.a.createElement(Z.a,{columns:this.getColumn(),dataSource:this.props.list,expandedRowRender:this.expandedRegionRender,expandRowByClick:!0,paging:this.props.paging,onExpand:this.handleExpand,onChange:this.handlePageChange,onPageChange:this.handlePageChange,rowKey:t,indentSize:0})),o.a.createElement(z.a,{visible:this.state.editModelShow,onOk:this.onEditModalOk,onCancel:this.onModalCancel,destroyOnClose:!0},o.a.createElement(vT,{wrappedComponentRef:function(t){return e.editForm=t},onSubmit:this.confirmEditModal,record:this.state.editModel})),o.a.createElement(z.a,{title:"\u64cd\u4f5c\u65e5\u5fd7",visible:this.state.record.modalShow,footer:null,onCancel:this.onModalCancel,width:950,destroyOnClose:!0},o.a.createElement(ae,{columns:this.getRepoRecordColumns(),data:this.state.record.list,paging:this.state.record.paging,loading:this.state.record.loading,onPageChange:this.repoRecordPageChange,onChange:this.repoRecordPageChange})),o.a.createElement(z.a,{title:"k\u7ebf\u56fe",visible:this.state.kCharts.showKChartsModal,footer:null,onCancel:this.onModalCancel,width:950,destroyOnClose:!0},o.a.createElement(ST.a,{showLoading:this.state.kCharts.loading,option:this.getKOption(),notMerge:!0,lazyUpdate:!0})))}}]),t}(i.Component);var CT,_T={fetch:function(e){return lT(e)},fetchCameraList:function(e){return cT(e)},updateFactoryId:function(e){return sT(e)},updateCameraCode:function(e){return dT(e)},updateRepository:function(e){return uT(e)},kDataFetch:function(e){return mT(e)},repoRecordFetch:function(e,t){return pT(e,t)}},TT=Object(h.b)(function(e){return{loading:e.repositoryList.loading,list:e.repositoryList.repoList,paging:e.repositoryList.paging,cameraCode:e.repositoryList.cameraCode,rowKey:function(e){return"".concat(e.id,",").concat(e.code)}}},_T)(IT),AT=Object(Y.a)((CT={},Object(U.a)(CT,"YICHAKU/MONITORIMAGE/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Object(U.a)(CT,"YICHAKU/MONITORIMAGE/FETCH_IMAGE_LIST",{next:function(e,t){return Object(E.a)({},e,{list:t.payload.data.list||[],paging:{current:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageNum,pageSize:t.payload.data&&t.payload.data.page&&t.payload.data.page.pageSize,total:t.payload.data&&t.payload.data.page&&t.payload.data.page.total}})}}),CT),{loading:!0,list:[],paging:{current:1,pageSize:10,total:10}}),kT=Object(F.a)("YICHAKU/MONITORIMAGE/FETCH_IMAGE_LIST",function(e,t){return H.e.formSubmit("/WhareHouseAction_findDetailImage","",e,t)}),wT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showImgModal:!1,imgModal:{src:"",title:"",alt:""}},a.handleSearch=function(e,t){var n=a.props.serialNumber;console.log(a.props),console.log(n),a.props.fetch({cameraCode:n},{pageNum:e||a.props.paging.current,pageSize:t||a.props.paging.pageSize})},a.handlePageChange=function(e,t){a.handleSearch(e,t)},a.getColumn=function(){var e=_l(a.props.match.path);return e.map(function(e){"action"===e.dataIndex?e.render=function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement(G.a,{title:"\u67e5\u770b"},o.a.createElement("a",{href:"javascript:;",onClick:a.goDetail(t)},"\u6a21\u578b\u8bad\u7ec3")))}:"imageOriginUrl"===e.dataIndex?e.render=function(e,t){var n=t.imageCode+"\u7f29\u7565\u56fe";return o.a.createElement("img",{src:e,alt:n,style:{height:"40px"},onClick:a.showImgModal("\u7f29\u7565\u56fe",e,n)})}:"imageRecognitionUrl"===e.dataIndex&&(e.render=function(e,t){var n=t.imageRecognitionUrl+"\u8bc6\u522b\u7ed3\u679c\u56fe";return o.a.createElement("img",{src:e,alt:n,style:{height:"65px",margin:"-10px"},onClick:a.showImgModal("\u8bc6\u522b\u7ed3\u679c\u56fe",e,n)})})}),e},a.showImgModal=function(e,t,n){return function(){a.setState({showImgModal:!0,imgModal:{src:t,title:e,alt:n}})}},a.goDetail=function(e){return function(){}},a.handleCancel=function(){a.setState({showImgModal:!1,imgModal:{src:"",title:"",alt:""}})},a.goBack=function(){a.props.history.push("/repositoryList/link")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this.state,t=e.showImgModal,a=e.imgModal;return o.a.createElement(Hl,null,o.a.createElement(Ic.a,null,o.a.createElement(re.a,{onClick:this.goBack},"\u8fd4\u56de\u5217\u8868")),o.a.createElement(ae,{columns:this.getColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange}),o.a.createElement(z.a,{title:a.title,visible:t,onCancel:this.handleCancel,width:900,footer:null,destroyOnClose:!0},o.a.createElement("div",{style:{height:"100%",width:"100%",overflow:"scroll"}},o.a.createElement("img",{src:a.src,alt:a.alt,style:{height:"600px"}}))))}}]),t}(i.Component);var jT={fetch:function(e,t){return kT(e,t)}},xT=Object(h.b)(function(e){return{loading:e.monitorImage.loading,list:e.monitorImage.list,paging:e.monitorImage.paging,serialNumber:e.repositoryList.serialNumber}},jT)(wT),DT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).saveCanvas=function(){console.log(a.saveableCanvas.getSaveData())},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null)}}]),t}(i.Component);var MT,NT=Object(h.b)(function(e){return{}})(DT),LT=he.a.TextArea,RT=ie.a.create()(MT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){a.props.form.validateFields(function(e,t){if(!e){var n=a.props.record;t.whareHouseId=n.whareHouseId,t.oldNumber=n.recognitionCarNum,a.props.onSubmit(t)}})},a.renderForm=function(){var e=a.props,t=e.form.getFieldDecorator,n=e.record,r={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement("div",null,o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u5e93\u5b58\u8f66\u8bc6\u522b\u6570\u91cf"},r),o.a.createElement("span",null,n.recognitionCarNum)),o.a.createElement(iO.a,Object.assign({label:"\u5e93\u5b58\u8f66\u5b9e\u9645\u6570\u91cf"},r),t("newNumber",{rules:a.requiredRule})(o.a.createElement(he.a,null))),o.a.createElement(iO.a,Object.assign({label:"\u89e3\u9664\u5907\u6ce8"},r),t("remark",{rules:a.requiredRule})(o.a.createElement(LT,{row:3})))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||MT,PT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={showImgModal:!1,imgModal:{src:"",title:"",alt:""},showRemoveModal:!1,selectedRows:[],selectRemoveModel:{}},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);console.log(r),a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumns=function(){var e=a.props.match,t=_l(e.path);return t.map(function(t){"action"===t.dataIndex&&(t.render=function(t,n){var r=n.imageRecognitionUrl+"\u8bc6\u522b\u7ed3\u679c\u56fe";return"/repositoryWarning/todo"===e.path?o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(yT.a.action),onClick:a.showRemoveModal([n.id])},"\u89e3\u9664")):o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(yT.a.action),onClick:a.showImgModal("\u8bc6\u522b\u7ed3\u679c\u56fe",t,r)},"\u56fe\u50cf"))})}),t},a.showImgModal=function(e,t,n){return function(){a.setState({showImgModal:!0,imgModal:{src:t,title:e,alt:n}})}},a.handleCancel=function(){a.setState({showImgModal:!1,imgModal:{src:"",title:"",alt:""},showRemoveModal:!1})},a.showRemoveModal=function(e){return function(){console.log(e);var t=a.props.list,n={};t.forEach(function(t){t.id==e[0]&&(n=t)}),a.setState({showRemoveModal:!0,selectedRows:e,selectRemoveModel:n})}},a.handleSelectRow=function(e){a.setState({selectedRows:e})},a.handleMultipleRemove=function(e){var t=a.props.list,n="";e.forEach(function(e){t.forEach(function(t){if(t.id===e)if(""===n)n=t.whareHouseId;else if(n!=t.whareHouseId)return void S.a.error("\u8bf7\u9009\u62e9\u76f8\u540c\u4e8c\u7f51\u6279\u91cf\u89e3\u9664")})}),a.showRemoveModal(e)()},a.onRemoveModalOk=function(){a.removeForm&&a.removeForm.submit()},a.confirmRemoveModal=function(e){if(console.log(e),e){H.d.post("/WhareHouseAction_removeWarning",{ids:a.state.selectedRows,whareHouseId:e.whareHouseId,oldNumber:e.oldNumber,newNumber:e.newNumber,remark:e.remark}).then(function(e){if(console.log(e),!e||!e.data||0!==e.data.result)return Promise.reject(e.data.msg);S.a.success(e.data.msg,2.5),a.handleCancel(),a.handleSearch(a.props.query.value)}).catch(function(e){S.a.error(e.msg||e)})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.loading,i=t.list,l=t.paging,c=this.state,s=c.showImgModal,d=c.imgModal,u=c.showRemoveModal;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery})),o.a.createElement(ae,{loading:r,data:i,paging:l,onChange:this.handlePageChange,onPageChange:this.handlePageChange,columns:this.renderColumns(),onSelectRow:this.handleSelectRow,showTableOperArea:"/repositoryWarning/todo"===a.path,operName:"\u6279\u91cf\u89e3\u9664",onOperMultipleRow:this.handleMultipleRemove}),o.a.createElement(z.a,{title:d.title,visible:s,onCancel:this.handleCancel,width:900,footer:null,destroyOnClose:!0},o.a.createElement("img",{src:d.src,alt:d.alt,style:{width:"850px"}})),o.a.createElement(z.a,{title:"\u89e3\u9664\u9884\u8b66",visible:u,onOk:this.onRemoveModalOk,onCancel:this.handleCancel,destroyOnClose:!0},o.a.createElement(RT,{wrappedComponentRef:function(t){return e.removeForm=t},onSubmit:this.confirmRemoveModal,record:this.state.selectRemoveModel})))}}]),t}(i.Component);var UT=Object(h.b)(function(e){return{loading:e.repositoryList.loading,list:e.repositoryList.warningTodo.list,paging:e.repositoryList.warningTodo.paging,query:e.repositoryList.warningTodoQuery}},function(e){return{fetch:function(t,a){e(hT(t,a))},updateQuery:function(t){t.value.isRemove=0,e(fT(Object(E.a)({},t)))}}})(PT);var YT=Object(h.b)(function(e){return{loading:e.repositoryList.loading,list:e.repositoryList.warningGone.list,paging:e.repositoryList.warningGone.paging,query:e.repositoryList.warningGoneQuery}},function(e){return{fetch:function(t,a){e(gT(t,a))},updateQuery:function(t){t.value.isRemove=1,e(bT(Object(E.a)({},t)))}}})(PT);var FT,HT,KT=function(e){var t=e.match;return"/repositoryList"===t.url?o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/list"),component:TT}),o.a.createElement(b.a,{path:"".concat(t.url,"/detail"),component:xT}),o.a.createElement(b.a,{path:"".concat(t.url,"/train"),component:NT}),o.a.createElement(Q.a,{to:"".concat(t.url,"/list")})):"/repositoryWarning"===t.url?o.a.createElement(f.a,null,o.a.createElement(b.a,{path:"".concat(t.url,"/todo"),component:UT}),o.a.createElement(b.a,{path:"".concat(t.url,"/gone"),component:YT}),o.a.createElement(Q.a,{to:"".concat(t.url,"/todo")})):void 0},qT=Object(Y.a)((FT={},Object(U.a)(FT,"YICHAKU/SOLDCONF/FETCH_EWBLACK_LIST",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:vO()(t.payload.data,"list",[]),paging:{current:vO()(t.payload.data,"page.pageNum",1),pageSize:vO()(t.payload.data,"page.pageSize",10),total:vO()(t.payload.data,"page.total",1)}})})}}),Object(U.a)(FT,"YICHAKU/SOLDCONF/FETCH_RECORD_LIST",{next:function(e,t){return Object(E.a)({},e,{record:Object(E.a)({},e.record,{list:vO()(t.payload.data,"list",[]),paging:{current:vO()(t.payload.data,"page.pageNum",1),pageSize:vO()(t.payload.data,"page.pageSize",10),total:vO()(t.payload.data,"page.total",1)}})})}}),Object(U.a)(FT,"YICHAKU/SOLDCONF/UPDATE_EWBLACK_LIST",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(FT,"YICHAKU/SOLDCONF/UPDATE_RECORD_LIST",{next:function(e,t){return Object(E.a)({},e,{record:Object(E.a)({},e.record,{query:Object(E.a)({},e.record.query,t.payload)})})}}),Object(U.a)(FT,"YICHAKU/SOLDCONF/UPDATE_EWLIST",{next:function(e,t){return Object(E.a)({},e,{ewList:t.payload})}}),Object(U.a)(FT,"YICHAKU/SOLDCONF/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),FT),{loading:!0,todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,aitiForm:!0}},record:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,aitiForm:!0}},ewList:[]}),BT=Object(F.a)("YICHAKU/SOLDCONF/FETCH_EWBLACK_LIST",function(e,t){return H.d.post("/SpottestEwBlacklistAction_searchList",Object(E.a)({},e,t))}),VT=Object(F.a)("YICHAKU/SOLDCONF/FETCH_RECORD_LIST",function(e,t){return H.d.post("/AntiCheatingAction_searchRecordList",Object(E.a)({},e,t))}),QT=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_EWBLACK_LIST"),zT=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_RECORD_LIST"),WT=Object(F.a)("YICHAKU/SOLDCONF/UPDATE_EWLIST"),GT=(a(1759),a(532)),XT=a(528),JT=a.n(XT),ZT=(ie.a.Item,ie.a.create()(HT=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ewName:"",ewShow:!1,list:null},a.handleSubmit=function(){a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a.requiredRule=[{required:!0,message:"\u8bf7\u9009\u62e9\u4e8c\u7f51\uff01"}],a.requiredDate=[{required:!0,message:"\u8bf7\u9009\u62e9\u65e5\u671f\uff01"}],a.listItem=function(e){a.props.form.setFieldsValue({ewId:e.target.innerText}),a.setState({ewShow:!1})},a.ewNameValue=function(e){a.setState({list:a.props.selList.filter(function(t){return t.text.match(e.target.value)})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this,t=this.props,a=t.form.getFieldDecorator,n=t.selList,r=void 0===n?[]:n,i=this.state.list;return o.a.createElement(ie.a,{className:JT.a.form,labelCol:{span:8},wrapperCol:{span:12},onSubmit:this.handleSubmit},o.a.createElement(ie.a.Item,{label:"\u4e8c\u7f51\u540d\u79f0",wrapperCol:{span:12}},a("ewId",{rules:this.requiredRule})(o.a.createElement(he.a,{type:"text",autoComplete:"off",allowClear:!0,placeholder:"\u8bf7\u9009\u62e9\u4e8c\u7f51",onChange:this.ewNameValue,onClick:function(){e.setState({ewShow:!0})}}))),o.a.createElement(ie.a.Item,{label:"\u751f\u6548\u65e5\u671f",wrapperCol:{span:12}},a("startDate",{rules:this.requiredDate})(o.a.createElement(ge.a,null))),o.a.createElement(ie.a.Item,{label:"\u5931\u6548\u65e5\u671f",wrapperCol:{span:12}},a("endDate",{rules:this.requiredDate})(o.a.createElement(ge.a,null))),this.state.ewShow&&o.a.createElement("div",{className:JT.a.selList},o.a.createElement(GT.a,{size:"small",bordered:!0,dataSource:i||r,renderItem:function(e){return o.a.createElement(GT.a.Item,null,e.text)},onClick:this.listItem})))}}]),t}(i.PureComponent))||HT),$T="YYYY-MM-DD",eA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ewShowModal:!1,modEwVisible:!1,confirmLoading:!1,selList:[]},a.handleCancel=function(){a.setState({ewShowModal:!1,modEwVisible:!1})},a.modalOk=function(){a.confirmForm&&a.confirmForm.handleSubmit()},a.modalSubmit=function(e){return a.setState({confirmLoading:!0}),je()(e.startDate).format($T)>je()(e.endDate).format($T)?(S.a.error("\u5931\u6548\u65e5\u671f\u5e94\u5927\u4e8e\u751f\u6548\u65e5\u671f"),void a.setState({confirmLoading:!1})):H.d.post("/SpottestEwBlacklistAction_add",{ewId:a.state.selList.filter(function(t){return t.text.replace(/\s*/g,"")==e.ewId.replace(/\s*/g,"")})[0].id,startDate:je()(e.startDate).format($T),endDate:je()(e.endDate).format($T)}).then(function(e){var t=e.data,n=void 0===t?{}:t;0===n.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({ewShowModal:!1,confirmLoading:!1}),a.handleSearch(a.props.query.value)):(S.a.error(n.msg),a.setState({ewShowModal:!1,confirmLoading:!1}))})},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",render:function(e){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:function(){a.setState({infoItem:e,modEwVisible:!0})}},"\u4fee\u6539"))}}),tA.concat(e)},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(Object(E.a)({},e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.searchSelect=function(){if(0===a.props.ewList.length){H.d.post("/com/xhkj/depart/action/AjaxAction_getEwOptions?ewQuery.status=0").then(function(e){e.data&&(a.setState({selList:e.data}),a.props.updateEwList(e.data))})}else a.setState({selList:a.props.ewList})},a.updOrderExpSubmitOk=function(){a.setState({modEwVisible:!1}),a.handleSearch(a.props.query.value)},a.updOrderExpSubmit=function(e,t){return je()(e.startDate).format($T)>je()(e.endDate).format($T)?Promise.resolve({data:{result:1,msg:"\u5931\u6548\u65e5\u671f\u5e94\u5927\u4e8e\u751f\u6548\u65e5\u671f"}}):H.d.post("/SpottestEwBlacklistAction_update",{id:t.id,startDate:e.startDate,endDate:e.endDate}).then(function(e){var t=e.data,a=void 0===t?{}:t;return 0===a.result?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.msg||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value),this.searchSelect()}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=this.state,i=r.infoItem,l=r.modEwVisible,c=r.confirmLoading;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})),o.a.createElement(z.a,{title:"\u6dfb\u52a0\u4e8c\u7f51",visible:this.state.ewShowModal,confirmLoading:c,onOk:this.modalOk,onCancel:this.handleCancel,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},o.a.createElement(ZT,{selList:this.state.selList,wrappedComponentRef:function(t){return e.confirmForm=t},onSubmit:this.modalSubmit})),l&&o.a.createElement(ls,{title:"\u4fee\u6539\u4e8c\u7f51",onOk:this.updOrderExpSubmitOk,onCancel:this.handleCancel,onSubmit:this.updOrderExpSubmit,record:i,configList:[{label:"\u4e8c\u7f51\u540d\u79f0",type:"label",key:"ewName"},{label:"\u751f\u6548\u65e5\u671f",type:"datePicker",key:"startDate",required:!0,initialValue:je()(i.startDate)},{label:"\u5931\u6548\u65e5\u671f",type:"datePicker",key:"endDate",required:!0,initialValue:je()(i.endDate)}]}),o.a.createElement(Ic.a,null,o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){e.setState({ewShowModal:!0})}},"\u6dfb\u52a0\u4e8c\u7f51")))}}]),t}(i.Component),tA=[{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"createTimeStr"},{title:"\u66f4\u65b0\u65f6\u95f4",dataIndex:"updateTimeStr"},{title:"\u751f\u6548\u65e5\u671f",dataIndex:"startDateStr"},{title:"\u5931\u6548\u65e5\u671f",dataIndex:"endDateStr"},{title:"\u662f\u5426\u6709\u6548",dataIndex:"statusName"}];var aA=Object(h.b)(function(e){return{loading:e.spotEwBlack.loading,list:e.spotEwBlack.todo.list,paging:e.spotEwBlack.todo.paging,query:e.spotEwBlack.todo.query,ewList:e.spotEwBlack.ewList}},function(e){return{fetch:function(t,a){e(BT(t,a))},updateQuery:function(t){e(QT(t))},updateEwList:function(t){e(WT(t))}}})(eA),nA="YYYY-MM-DD",rA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={modEwVisible:!1,confirmLoading:!1,isExporting:!1,percent:"",percentId:"",record:{},detailList:[]},a.handleCancel=function(){a.setState({modEwVisible:!1,confirmLoading:!1})},a.searchDetailList=function(e){return function(){return a.setState({modEwVisible:!0,confirmLoading:!0,record:e}),H.d.post("/AntiCheatingAction_searchDetailList",{recordId:e.id,page:1,pageSize:1e3}).then(function(e){var t=e.data,n=void 0===t?{}:t;0===n.result?a.setState({confirmLoading:!1,detailList:n.list}):a.setState({confirmLoading:!1,detailList:[]})})}},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:a.searchDetailList(t)},"\u67e5\u770b"))}}),iA.concat(e)},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);try{var i=e.dateRange;if(i){var o=Object(y.a)(i,2),l=o[0],c=o[1];r.fromTime=l&&l.format(nA),r.toTime=c&&c.format(nA),delete r.dateRange}}catch(s){console.error(s)}a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.getParam=function(){H.d.post("/AntiCheatingAction_getParam",{}).then(function(e){e.data&&a.setState({percentId:e.data.id,percent:e.data.percent})})},a.updateParam=function(){a.state.percent>100?S.a.error("\u53c2\u6570\u503c\u4e0d\u80fd\u5927\u4e8e100"):H.d.post("/AntiCheatingAction_updateParam",{id:a.state.percentId,percent:a.state.percent}).then(function(e){0===e.data.result?S.a.success(e.data.msg):S.a.error(e.data.msg)})},a.spotHandleExport=function(){if(a.state.detailList.length){var e=S.a.loading("\u5bfc\u51fa\u4e2d\uff0c\u8bf7\u7a0d\u540e\u3002\u3002\u3002",0);a.setState({isExporting:!0}),H.c.submit("/AntiCheatingAction_exportDetailList",{recordId:a.state.record.id}).then(function(e){var t=on(e);t&&S.a.warning(t,2.5)}).then(function(t){a.setState({isExporting:!1}),e()}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}else S.a.error("\u6682\u65e0\u6570\u636e,\u65e0\u6cd5\u5bfc\u51fa")},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value),this.getParam()}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=this.state,i=r.modEwVisible,l=r.confirmLoading,c=r.percent,s=r.isExporting,d=r.detailList;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})),o.a.createElement(z.a,{title:"\u67e5\u770b\u660e\u7ec6",footer:null,visible:i,onCancel:this.handleCancel,width:1200},o.a.createElement(re.a,{type:"primary",loading:s,icon:"export",onClick:this.spotHandleExport},"\u5bfc\u51fa\u660e\u7ec6"),o.a.createElement(Z.a,{scroll:{x:!0},rowKey:"id",loading:l,dataSource:d,columns:oA})),o.a.createElement(Ic.a,null,"\u6bcf\u5929\u62bd\u53d6\u81ea\u52a8\u5ba1\u6838\u901a\u8fc7\u4efb\u52a1",o.a.createElement(he.a,{size:"small",value:c,onChange:function(t){e.setState({percent:t.target.value.replace(/[^\d]/g,"")})},style:{width:"40px"}}),"%\uff0c\u7528\u4e8e\u68c0\u67e5\u662f\u5426\u4f5c\u5f0a \xa0 \xa0 \xa0",o.a.createElement(re.a,{type:"primary",onClick:this.updateParam},"\u4fdd\u5b58")))}}]),t}(i.Component),iA=[{title:"\u68c0\u67e5\u4efb\u52a1\u7f16\u53f7",dataIndex:"code"},{title:"\u81ea\u52a8\u5ba1\u6838\u901a\u8fc7\u6570",dataIndex:"totalNum"},{title:"\u62bd\u53d6\u6837\u672c\u6570\u91cf",dataIndex:"sampleNum"},{title:"\u7591\u4e3a\u4f5c\u5f0a\u6570",dataIndex:"suspectNum"},{title:"\u4efb\u52a1\u6267\u884c\u65f6\u95f4",dataIndex:"createTime"}],oA=[{title:"\u4efb\u52a1\u53f7",dataIndex:"spottestId"},{title:"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4",dataIndex:"bookTime"},{title:"\u94f6\u884c\u540d\u79f0",dataIndex:"bankName"},{title:"\u7ecf\u9500\u5546\u540d\u79f0",dataIndex:"distriburorName"},{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u4e8c\u7f51\u540d\u79f0",dataIndex:"ewName"},{title:"\u8f66\u67b6\u53f7",dataIndex:"chassis"}];var lA,cA=Object(h.b)(function(e){return{loading:e.spotEwBlack.loading,list:e.spotEwBlack.record.list,paging:e.spotEwBlack.record.paging,query:e.spotEwBlack.record.query}},function(e){return{fetch:function(t,a){e(VT(t,a))},updateQuery:function(t){e(zT(t))}}})(rA),sA=Object(Y.a)((lA={},Object(U.a)(lA,"YICHAKU/FINANC/FETCH_FINANC_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{list:vO()(t.payload.data,"data.list",[]),paging:{current:vO()(t.payload.data,"data.pageNum",1),pageSize:vO()(t.payload.data,"data.pageSize",10),total:vO()(t.payload.data,"data.total",1)}})})}}),Object(U.a)(lA,"YICHAKU/FINANC/UPDATE_FINANC_TODO",{next:function(e,t){return Object(E.a)({},e,{todo:Object(E.a)({},e.todo,{query:Object(E.a)({},e.todo.query,t.payload)})})}}),Object(U.a)(lA,"YICHAKU/FINANC/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),lA),{loading:!0,todo:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{},expandForm:!1,selfcarForm:!0}}}),dA=Object(F.a)("YICHAKU/FINANC/FETCH_FINANC_TODO",function(e,t){return H.d.postWithPaging("/self-car/v1.0/selfFinancialProducts/find/list",e,t)}),uA=Object(F.a)("YICHAKU/FINANC/UPDATE_FINANC_TODO"),pA=a(412),mA=a.n(pA),hA=jf.a.TabPane,gA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={ewName:"",ewShow:!1,data:{}},a.handleSearch=function(){H.d.post("/self-car/v1.0/selfDistributorParamItem/find/product/list",{financialProducts:a.props.record.code}).then(function(e){200===e.data.code?(a.setState({data:e.data.data}),a.props.onSubmit(e.data.data)):S.a.error(e.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a.onChange=function(e){return function(t){var n=a.state.data,r=t.target.value;Ov.a.set(n,e,"number"==typeof r?r:r.replace(/[^\d]/g,"")),a.setState({data:n}),a.props.onSubmit(n)}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){var e=this,t=Object.values(this.state.data),a=Object.keys(this.state.data);return o.a.createElement(jf.a,{className:mA.a.table,defaultActiveKey:"0"},t.length&&t.map(function(t,n){return o.a.createElement(hA,{tab:t.itemName,key:n},o.a.createElement("div",{className:mA.a.tit},"\u4efb\u52a1\u4e0b\u53d1\u540e\u65f6\u6548 :"),o.a.createElement(ts.a.Group,{value:t.endTimeType,onChange:e.onChange("".concat(a[n],".endTimeType"))},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u4e0b\u53d1\u65f6\u95f4\u540e\u52a0\xa0",1==t.endTimeType?o.a.createElement(he.a,{size:"small",value:t.endTimeValue,onChange:e.onChange("".concat(a[n],".endTimeValue"))}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u5c0f\u65f6\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u4efb\u52a1\u4e0b\u53d1\u540e\xa0",2==t.endTimeType?o.a.createElement(he.a,{size:"small",value:t.endTimeValue,onChange:e.onChange("".concat(a[n],".endTimeValue"))}):o.a.createElement(he.a,{size:"small",value:""}),"\xa0\u81ea\u7136\u65e5\u6709\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:3},"\u6c38\u4e45\u6709\u6548")),o.a.createElement("div",{className:mA.a.tit},"\u770b\u5230\u8f66\u67b6\u53f7\u540e\u65f6\u6548 :"),o.a.createElement(ts.a.Group,{value:t.confirmEndTimeType,onChange:e.onChange("".concat(a[n],".confirmEndTimeType"))},o.a.createElement(ts.a,{value:1},"\u4efb\u52a1\u539f\u6709\u65f6\u6548"),o.a.createElement("br",null),o.a.createElement(ts.a,{value:2},"\u770b\u5230\u8f66\u67b6\u53f7\u65f6\u95f4\u52a0\xa0",o.a.createElement(he.a,{size:"small",value:t.confirmEndTimeValue,onChange:e.onChange("".concat(a[n],".confirmEndTimeValue"))}),"\xa0\u5c0f\u65f6\u6709\u6548")))}))}}]),t}(i.Component),fA=z.a.confirm,bA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={addFinVisible:!1,modFinVisible:!1,setFinVisible:!1,setList:null},a.handleCancel=function(){a.setState({addFinVisible:!1,modFinVisible:!1,setFinVisible:!1})},a.renderColumn=function(){var e=[];return e.push({title:"\u64cd\u4f5c",render:function(e){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{href:"javascript:;",onClick:function(){a.setState({infoItem:e,modFinVisible:!0})}},"\u4fee\u6539"),"\xa0 \xa0",o.a.createElement("a",{href:"javascript:;",onClick:a.delFinFun(e)},"\u5220\u9664"),"\xa0 \xa0",o.a.createElement("a",{href:"javascript:;",onClick:function(){a.setState({infoItem:e,setFinVisible:!0})}},"\u53c2\u6570\u8bbe\u7f6e"))}}),EA.concat(e)},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.handleSearch=function(e,t,n){a.props.fetch(Object(E.a)({},e),{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.addFinSubmitOk=function(){a.setState({addFinVisible:!1,modFinVisible:!1,setdEwVisible:!1}),a.handleSearch(a.props.query.value)},a.addFinSubmit=function(e){return function(t,a){var n="/self-car/v1.0/selfFinancialProducts/".concat(e,"/selfFinancialProducts"),r={name:t.name,description:t.description};return"update"===e&&(r.id=a.id),H.d.post(n,r).then(function(e){var t=e.data,a=void 0===t?{}:t;return 200===a.code?Promise.resolve({data:{result:0}}):Promise.resolve({data:{result:1,msg:a.message||"\u64cd\u4f5c\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5"}})})}},a.delFinFun=function(e){return function(){var t=Object(Oc.a)(Object(Oc.a)(a));fA({title:"\u8bf7\u518d\u6b21\u786e\u8ba4\u662f\u5426\u5220\u9664",onOk:function(){H.d.post("/self-car/v1.0/selfFinancialProducts/delete/selfFinancialProducts",{id:e.id}).then(function(e){200===e.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),t.handlePageChange()):S.a.error(e.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}},a.SetFinSubmit=function(e){a.setState({setList:e})},a.setFinSubmitOk=function(){var e=Object.values(a.state.setList).filter(function(e){return 2==e.confirmEndTimeType&&!e.confirmEndTimeValue});e.length?S.a.error("".concat(e[0].itemName,"\u65f6\u6548\u672a\u586b\u5199 \uff01")):H.d.post("/self-car/v1.0/selfDistributorParamItem/update",a.state.setList).then(function(e){200===e.data.code?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.setState({setFinVisible:!1})):S.a.error(e.data.message)}).catch(function(e){S.a.error("\u64cd\u4f5c\u5931\u8d25")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this,t=this.props,a=t.match,n=t.query,r=t.dealer,i=this.state,l=i.addFinVisible,c=i.infoItem,s=i.modFinVisible,d=i.setFinVisible;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:a.path,query:n,onUpdateQuery:this.props.updateQuery,wrappedComponentRef:function(t){return e.form=t}})),o.a.createElement("div",null,o.a.createElement(ae,{columns:this.renderColumn(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange})),l&&o.a.createElement(ls,{title:"\u65b0\u589e\u91d1\u878d\u4ea7\u54c1",onOk:this.addFinSubmitOk,onCancel:this.handleCancel,onSubmit:this.addFinSubmit("add"),configList:[{label:"\u4ea7\u54c1\u540d\u79f0",type:"input",key:"name",required:!0},{label:"\u4ea7\u54c1\u63cf\u8ff0",type:"input",key:"description"}]}),s&&o.a.createElement(ls,{title:"\u4fee\u6539",onOk:this.addFinSubmitOk,onCancel:this.handleCancel,onSubmit:this.addFinSubmit("update"),record:c,configList:[{label:"\u4ea7\u54c1\u540d\u79f0",type:"input",key:"name",required:!0,initialValue:c.name},{label:"\u4ea7\u54c1\u63cf\u8ff0",type:"input",key:"description",initialValue:c.description}]}),o.a.createElement(z.a,{title:"\u53c2\u6570\u8bbe\u7f6e",visible:d,onOk:this.setFinSubmitOk,onCancel:this.handleCancel,width:600,okText:"\u786e\u8ba4",cancelText:"\u53d6\u6d88",destroyOnClose:!0},o.a.createElement(gA,{record:c,onSubmit:this.SetFinSubmit})),o.a.createElement(Ic.a,null,r.selfCarFlag&&o.a.createElement(re.a,{type:"primary",icon:"plus",onClick:function(){e.setState({addFinVisible:!0})}},"\u65b0\u589e\u91d1\u878d\u4ea7\u54c1")))}}]),t}(i.Component),EA=[{title:"\u4ea7\u54c1\u540d\u79f0",dataIndex:"name"},{title:"\u5efa\u7acb\u65f6\u95f4",dataIndex:"createTime"},{title:"\u4ea7\u54c1\u63cf\u8ff0",dataIndex:"description"}];var yA,vA=Object(h.b)(function(e){return{loading:e.financialPro.loading,list:e.financialPro.todo.list,paging:e.financialPro.todo.paging,query:e.financialPro.todo.query,dealer:e.session.dealer}},function(e){return{fetch:function(t,a){e(dA(t,a))},updateQuery:function(t){e(uA(t))}}})(bA),OA=a(316),SA=a.n(OA),IA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={qrCodeModal:!1,qrCodeUrl:"",qrCodeAccid:"",qrCodeLoading:!1},a.handleSearch=function(e,t,n){var r=Object(E.a)({},e);console.log(r),a.props.fetch(r,{pageNum:t||a.props.paging.current,pageSize:n||a.props.paging.pageSize})},a.renderColumns=function(){var e=_l(a.props.match.path);return e.map(function(e){"action"===e.dataIndex&&(e.render=function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(SA.a.action),onClick:a.showQRCodeModal(t)},"\u67e5\u770b\u5fae\u5e97"))})}),e},a.handlePageChange=function(e,t){a.handleSearch(a.props.query.value,e,t)},a.showQRCodeModal=function(e){return function(){console.log(e),a.setState({qrCodeModal:!0,qrCodeAccid:e.accid,qrCodeLoading:!0});var t="/LinkAction_viewMiniQrCode?shopId="+e.fileId;H.d.get(t).then(function(e){e.data&&0===e.data.result&&e.data.data?a.setState({qrCodeUrl:e.data.data,qrCodeLoading:!1}):(S.a.error("\u56fe\u7247\u83b7\u53d6\u5931\u8d25"),a.setState({qrCodeLoading:!1}))})}},a.addShop=function(){var e=a.props.match;a.props.history.push("/storeManagement/add",{shopType:"/storeManagement/distributor"===e.path?1:2})},a.handleCancel=function(){a.setState({qrCodeModal:!1,qrCodeUrl:""})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.handleSearch(this.props.query.value)}},{key:"render",value:function(){var e=this.props,t=e.match,a=e.query,n=this.state,r=n.qrCodeModal,i=n.qrCodeUrl,l=n.qrCodeAccid,c=n.qrCodeLoading;return o.a.createElement(Hl,null,o.a.createElement(Kl,null,o.a.createElement(Za,{onSearch:this.handleSearch,path:t.path,query:a,onUpdateQuery:this.props.updateQuery})),o.a.createElement(N.a,{style:{marginBottom:"15px"}},o.a.createElement(L.a,{span:2},o.a.createElement(re.a,{type:"primary",htmlType:"submit",onClick:this.addShop,loading:this.state.exportBtnLoading},"\u6dfb\u52a0\u5fae\u5e97"))),o.a.createElement(ae,{columns:this.renderColumns(),loading:this.props.loading,data:this.props.list,paging:this.props.paging,onChange:this.handlePageChange,onPageChange:this.handlePageChange}),o.a.createElement(z.a,{title:"\u67e5\u770b\u5fae\u5e97",visible:r,onCancel:this.handleCancel,width:500,footer:null,destroyOnClose:!0},o.a.createElement(vc.a,{spinning:c},o.a.createElement("div",{style:{overflow:"hidden"}},o.a.createElement("img",{src:i,alt:"\u5e97\u94fa\u4e8c\u7ef4\u7801\uff0c\u53f3\u952e\u4fdd\u5b58",style:{width:"200px",float:"left"}}),o.a.createElement("div",{style:{width:"200px",float:"right",paddingTop:"20px"}},o.a.createElement("span",null,"\u60a8\u7684\u5fae\u5e97\u5c0f\u7a0b\u5e8f\u5df2\u5f00\u542f\uff0c\u53ef\u4ee5\u5728\u7535\u8111\u4e0a\u6d4f\u89c8\u8bbf\u95ee\u4ee5\u4e0b\u5730\u5740\uff1ahttp://seller.car.dlsupporter.com/ \u7ba1\u7406\u60a8\u7684\u5fae\u5e97\uff0c\u8bf7\u4f7f\u7528\u8d26\u53f7\uff1a",l,"\uff0c\u521d\u59cb\u5bc6\u7801\uff1a123456 \u767b\u5f55\u3002"))))))}}]),t}(i.Component),CA=Object(Y.a)((yA={},Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/FETCH_DISTRIBUTOR_LIST",{next:function(e,t){return Object(E.a)({},e,{distributor:Object(E.a)({},e.distributor,{list:vO()(t.payload.data,"list",[]),paging:{current:vO()(t.payload.data,"page.pageNum",1),pageSize:vO()(t.payload.data,"page.pageSize",10),total:vO()(t.payload.data,"page.total",1)}})})}}),Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/FETCH_EW_LIST",{next:function(e,t){return Object(E.a)({},e,{ew:Object(E.a)({},e.ew,{list:vO()(t.payload.data,"list",[]),paging:{current:vO()(t.payload.data,"page.pageNum",1),pageSize:vO()(t.payload.data,"page.pageSize",10),total:vO()(t.payload.data,"page.total",1)}})})}}),Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/UPDATE_DISTRIBUTOR_OPTION",{next:function(e,t){return Object(E.a)({},e,{distributorList:t.payload})}}),Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/UPDTAE_DISTRIBUTOR_QUERY",{next:function(e,t){return Object(E.a)({},e,{distributor:Object(E.a)({},e.distributor,{query:Object(E.a)({},e.distributor.query,t.payload)})})}}),Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/UPDTAE_EW_QUERY",{next:function(e,t){return Object(E.a)({},e,{ew:Object(E.a)({},e.ew,{query:Object(E.a)({},e.ew.query,t.payload)})})}}),Object(U.a)(yA,"YICHAKU/MICROSHOPLINK/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),yA),{loading:!0,distributor:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{shopType:1},expandForm:!1,aitiForm:!1}},ew:{list:[],paging:{current:1,pageSize:10,total:10},query:{value:{shopType:2},expandForm:!1,aitiForm:!1}},distributorList:[]}),_A=Object(F.a)("YICHAKU/MICROSHOPLINK/FETCH_DISTRIBUTOR_LIST",function(e,t){return H.d.post("/LinkAction_list",Object(E.a)({},e,t))}),TA=Object(F.a)("YICHAKU/MICROSHOPLINK/FETCH_EW_LIST",function(e,t){return H.d.post("/LinkAction_list",Object(E.a)({},e,t))}),AA=Object(F.a)("YICHAKU/MICROSHOPLINK/CREATE_REL",function(e){return H.d.post("/LinkAction_createRel",Object(E.a)({},e))}),kA=Object(F.a)("YICHAKU/MICROSHOPLINK/UPDTAE_DISTRIBUTOR_QUERY"),wA=Object(F.a)("YICHAKU/MICROSHOPLINK/UPDTAE_EW_QUERY"),jA=Object(F.a)("YICHAKU/MICROSHOPLINK/UPDATE_DISTRIBUTOR_OPTION");var xA=Object(h.b)(function(e){return{loading:e.microShopLink.loading,list:e.microShopLink.distributor.list,paging:e.microShopLink.distributor.paging,query:e.microShopLink.distributor.query}},function(e){return{fetch:function(t,a){t.shopType=1,e(_A(t,a))},updateQuery:function(t){return e(kA(t))}}})(IA);var DA,MA=Object(h.b)(function(e){return{loading:e.microShopLink.loading,list:e.microShopLink.ew.list,paging:e.microShopLink.ew.paging,query:e.microShopLink.ew.query}},function(e){return{fetch:function(t,a){t.shopType=2,e(TA(t,a))},updateQuery:function(t){return e(wA(t))}}})(IA),NA=oe.a.Option,LA=ie.a.create()(DA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={loading:!1,seriesDisabled:!0,typeDisabled:!0,priceDisabled:!0,brandList:[],seriesList:[],typesList:[],price:null,realPrice:null,list:[]},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.submit=function(){var e=a.state.list;a.props.form.validateFields(function(t,n){t||(0!==n.vehicle_brand_id&&0!==n.vehicle_id&&0!==n.vehicle_type_id&&0!==n.priceNew?e&&e.some(function(e){return e.vehicle_type_id===n.vehicle_type_id})?S.a.error("\u6b64\u8f66\u578b\u5df2\u7ecf\u6dfb\u52a0\uff0c\u5982\u9700\u4fee\u6539\u8bf7\u5220\u9664\u540e\u65b0\u5efa"):(a.state.brandList.forEach(function(e){e.brandId===n.vehicle_brand_id&&(n.brandName=e.brandName)}),a.state.seriesList.forEach(function(e){e.vehicleSeriesId===n.vehicle_id&&(n.goods_name=e.vehicleSeriesName)}),a.state.typesList.forEach(function(e){e.vehicleTypeId===n.vehicle_type_id&&(n.goods_name_temp=e.vehicleTypeName)}),a.props.onSubmit(n),a.setState({list:[].concat(Object(pe.a)(e),[n])}),a.initModal()):S.a.error("\u8bf7\u586b\u5199\u5b8c\u6240\u6709\u4fe1\u606f"))})},a.chooseBrand=function(e){a.setState({seriesDisabled:!0,typeDisabled:!0,priceDisabled:!0,price:"",realPrice:""}),a.getSeries(e),a.props.form.resetFields(["vehicle_id","vehicle_type_id","new_car_price","priceNew"])},a.chooseSeries=function(e){a.setState({typeDisabled:!0,priceDisabled:!0,price:"",realPrice:""}),a.getTypes(e),a.props.form.resetFields(["vehicle_type_id","new_car_price","priceNew"])},a.chooseType=function(e){a.state.typesList.forEach(function(t){t.vehicleTypeId===e&&a.setState({price:a.regx(t.price),realPrice:a.regx(t.price),priceDisabled:!1})}),a.props.form.resetFields(["new_car_price","priceNew"])},a.onBlur1=function(e){var t=e.target.value;a.props.form.setFieldsValue({new_car_price:a.regx(t)})},a.onBlur2=function(e){var t=e.target.value;a.props.form.setFieldsValue({priceNew:a.regx(t)})},a.renderForm=function(){var e=a.props.form.getFieldDecorator,t=a.state,n=t.brandList,r=t.seriesList,i=t.typesList,l=t.price,c=t.realPrice,s={labelCol:{span:7},wrapperCol:{span:15}};return o.a.createElement(vc.a,{spinning:a.state.loading},o.a.createElement(ie.a,{onSubmit:a.submit},o.a.createElement(iO.a,Object.assign({label:"\u54c1\u724c"},s),e("vehicle_brand_id",{rules:a.requiredRule})(o.a.createElement(oe.a,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u54c1\u724c",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.indexOf(e)>=0},onChange:a.chooseBrand},n.map(function(e,t){return o.a.createElement(NA,{value:e.brandId,key:t},e.brandName)})))),o.a.createElement(iO.a,Object.assign({label:"\u8f66\u7cfb"},s),e("vehicle_id",{rules:a.requiredRule})(o.a.createElement(oe.a,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u8f66\u7cfb",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.indexOf(e)>=0},onChange:a.chooseSeries,disabled:a.state.seriesDisabled},r.map(function(e,t){return o.a.createElement(NA,{value:e.vehicleSeriesId,key:t},e.vehicleSeriesName)})))),o.a.createElement(iO.a,Object.assign({label:"\u8f66\u578b"},s),e("vehicle_type_id",{rules:a.requiredRule})(o.a.createElement(oe.a,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u8f66\u578b",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.indexOf(e)>=0},onChange:a.chooseType,disabled:a.state.typeDisabled},i.map(function(e,t){return o.a.createElement(NA,{value:e.vehicleTypeId,key:t},e.vehicleTypeName)})))),o.a.createElement(iO.a,Object.assign({label:"\u6307\u5bfc\u4ef7\u683c"},s,{required:!0}),e("new_car_price",{initialValue:l})(o.a.createElement(he.a,{disabled:a.state.priceDisabled,maxLength:25,onChange:a.onBlur1,onBlur:a.onBlur1,addonAfter:o.a.createElement("span",null,"\u4e07\u5143")}))),o.a.createElement(iO.a,Object.assign({label:"\u9500\u552e\u4ef7\u683c"},s,{required:!0}),e("priceNew",{rules:a.requiredRule,initialValue:c})(o.a.createElement(he.a,{disabled:a.state.priceDisabled,onBlur:a.onBlur2,maxLength:25,addonAfter:o.a.createElement("span",null,"\u4e07\u5143")})))))},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.getBrand(),this.setState({list:this.props.goodsList?this.props.goodsList:[]})}},{key:"initModal",value:function(){this.props.form.resetFields(),this.setState({seriesDisabled:!0,typeDisabled:!0,priceDisabled:!0,price:null,realPrice:null})}},{key:"getBrand",value:function(){var e=this;if(0===this.state.brandList.length){this.setState({loading:!0});H.d.get("http://39.100.6.76:8087/storeBrands/listall").then(function(t){if(t.data&&t.data.data){var a=t.data.data;e.setState({brandList:a,loading:!1})}})}}},{key:"getSeries",value:function(e){var t=this;this.setState({loading:!0});var a="http://39.100.6.76:8087/storeVehicleSeries/listall/"+e;H.d.get(a).then(function(e){if(e.data&&e.data.data){var a=e.data.data;t.setState({seriesList:a,loading:!1,seriesDisabled:!1})}})}},{key:"getTypes",value:function(e){var t=this;this.setState({loading:!0});var a="http://39.100.6.76:8087/storeVehicleTypes/listall/"+e;H.d.get(a).then(function(e){if(e.data&&e.data.data){var a=e.data.data;t.setState({typesList:a,loading:!1,typeDisabled:!1})}})}},{key:"regx",value:function(e){return e.replace(/[^\d.]/g,"").replace(/\.{2,}/g,".").replace(".","$#$").replace(/\..*/g,"").replace("$#$",".").replace(/^\./,"0.").replace(/^(-)*(\d+).(\d\d).*$/,"$1$2.$3")}},{key:"render",value:function(){return o.a.createElement("div",null,this.renderForm())}}]),t}(i.PureComponent))||DA,RA=oe.a.Option,PA=he.a.TextArea,UA=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={shopType:0,pageLoading:!0,ewListLoading:!1,basicInfoLoading:!1,ewList:[],distributorList:[],dist:{},ew:{},addModalShow:!1,goodsList:[],index:0},a.requiredRule=[{required:!0,message:"\u8bf7\u8f93\u5165\uff01"}],a.chooseDistributor=function(e){var t=a.state.shopType,n=a.state.distributorList.filter(function(t){return t.value===e})[0];if(1===t){a.setState({basicInfoLoading:!0});var r="/LinkAction_findDistributorById?distributorId="+e;H.d.post(r).then(function(e){e.data&&e.data.data&&(a.setState({dist:e.data.data,basicInfoLoading:!1}),a.props.form.resetFields())})}else 2===t&&(a.setState({dist:{id:n.value,distributorName:n.label},ew:{}}),a.getEwOption(e))},a.chooseEw=function(e){var t="/LinkAction_findEwById?ewId="+e;H.d.post(t).then(function(e){e.data&&e.data.data&&(a.setState({ew:e.data.data,basicInfoLoading:!1}),a.props.form.setFields())})},a.submit=function(e){var t=a.state,n=t.shopType,r=t.dist,i=t.ew,o=t.goodsList;e.preventDefault(),a.props.form.validateFields(function(e,t){if(!e)if(o&&0===o.length)S.a.error("\u8bf7\u6dfb\u52a0\u9500\u552e\u8f66\u578b\uff01");else{var l=1===n?r:i;t.shopType=n,t.distributorId=r.id,t.distributorName=r.distributorName,t.ewId=1===n?null:i.id,t.ewName=1===n?null:i.ewName,t.goodsList=o,t.goods_management_category=t.businessType.toString(),t.shopProvinceId=l.province,t.shopProvince=l.provinceName,t.shopCityId=l.city,t.shopCity=l.cityName,t.shopCountyId=l.county,t.shopCounty=l.countyName,t.accuracy=l.longitude,t.dimension=l.latitude,t.shopTown=1===n?l.businessAddress:l.ewAddress,t.address=1===n?l.businessAddress:l.ewAddress,console.log("fieldsValue",t),H.d.post("/LinkAction_createRel",Object(E.a)({},t)).then(function(e){var t=e.data;0===t.result?(S.a.success("\u64cd\u4f5c\u6210\u529f"),a.props.history.goBack()):S.a.error(t.msg)})}})},a.addSoldVehicleType=function(){a.setState({addModalShow:!0})},a.onModalCancel=function(){a.setState({addModalShow:!1})},a.onAddModalOk=function(){a.addForm&&a.addForm.submit()},a.confirmAddModal=function(e){if(e){e.index=a.state.index;var t=[].concat(Object(pe.a)(a.state.goodsList),[e]);a.setState({goodsList:t,index:e.index+1})}},a.renderColumns=function(){return[{title:"\u54c1\u724c",dataIndex:"brandName"},{title:"\u8f66\u7cfb",dataIndex:"goods_name"},{title:"\u8f66\u578b",dataIndex:"goods_name_temp"},{title:"\u6307\u5bfc\u4ef7\u683c(\u4e07)",dataIndex:"new_car_price"},{title:"\u9500\u552e\u4ef7\u683c(\u4e07)",dataIndex:"priceNew"},{title:"\u64cd\u4f5c",dataIndex:"action",render:function(e,t){return o.a.createElement(i.Fragment,null,o.a.createElement("a",{className:"".concat(SA.a.action),onClick:a.deleteType(t)},"\u5220\u9664"))}}]},a.deleteType=function(e){return function(){var t=a.state.goodsList.filter(function(t){return t.index!==e.index});a.setState({goodsList:t})}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){this.setState({shopType:this.props.location.state.shopType,pageLoading:!0}),this.getDistributorOption()}},{key:"getDistributorOption",value:function(){var e=this;if(0===this.props.distributorList.length){H.d.post("/AjaxAction_getDistributorOptions").then(function(t){t.data&&(e.setState({distributorList:t.data,pageLoading:!1}),e.props.updateDistributor(t.data))})}else this.setState({distributorList:this.props.distributorList,pageLoading:!1})}},{key:"getEwOption",value:function(e){var t=this;this.setState({ewList:[],ewListLoading:!0});var a="/AjaxAction_getEwOptionsByDistributorId?distributorId="+e;H.d.post(a).then(function(e){e.data&&t.setState({ewList:e.data,ewListLoading:!1})})}},{key:"render",value:function(){var e=this,t=this.state,a=t.shopType,n=t.dist,r=t.ew,i=t.goodsList,l=this.props.form.getFieldDecorator;return o.a.createElement(vc.a,{spinning:this.state.pageLoading},o.a.createElement(ie.a,Object.assign({},{labelCol:{span:7},wrapperCol:{span:7}},{onSubmit:this.submit}),o.a.createElement("div",null,o.a.createElement("h3",null,"\u5e97\u94fa\u4fe1\u606f"),o.a.createElement(ie.a.Item,{label:"\u9009\u62e9\u7ecf\u9500\u5546"},o.a.createElement(oe.a,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u7ecf\u9500\u5546",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.indexOf(e)>=0},onChange:this.chooseDistributor},this.state.distributorList.map(function(e,t){return o.a.createElement(RA,{value:e.value,key:t},e.label)}))),o.a.createElement("div",{style:{display:2===a?"":"none"}},o.a.createElement(vc.a,{spinning:this.state.ewListLoading},o.a.createElement(ie.a.Item,{label:"\u9009\u62e9\u4e8c\u7f51"},o.a.createElement(oe.a,{showSearch:!0,placeholder:"\u8bf7\u9009\u62e9\u4e8c\u7f51",optionFilterProp:"children",filterOption:function(e,t){return t.props.children.indexOf(e)>=0},onChange:this.chooseEw},this.state.ewList.map(function(e,t){return o.a.createElement(RA,{value:e.id,key:t},e.text)}))))),o.a.createElement(vc.a,{spinning:this.state.basicInfoLoading},o.a.createElement(ie.a.Item,{label:"\u4e1a\u52a1\u7c7b\u578b"},l("businessType",{initialValue:["586"]})(o.a.createElement(ue.a.Group,{style:{width:"100%"}},o.a.createElement(N.a,null,o.a.createElement(L.a,{span:8},o.a.createElement(ue.a,{value:"586",checked:!0,disabled:!0,className:SA.a.disableCheckbox},"\u65b0\u8f66\u4e1a\u52a1")),o.a.createElement(L.a,{span:8},o.a.createElement(ue.a,{value:"592"},"\u4e8c\u624b\u8f66\u4e1a\u52a1")))))),o.a.createElement(ie.a.Item,{label:"\u5e97\u94fa\u540d\u79f0"},l("shop_name",{rules:this.requiredRule,initialValue:1===a?n.distributorName:r.ewName})(o.a.createElement(he.a,null))),o.a.createElement(ie.a.Item,{label:"\u6240\u5728\u57ce\u5e02"},l("city",{})(o.a.createElement("span",null,1===a?n.cityName:r.cityName))),o.a.createElement(ie.a.Item,{label:"\u8be6\u7ec6\u5730\u5740"},l("address",{})(o.a.createElement("span",null,1===a?n.businessAddress:r.ewAddress))),o.a.createElement(ie.a.Item,{label:"\u767b\u5f55\u8d26\u53f7"},l("username",{rules:this.requiredRule,initialValue:1===a?n.distributorName:r.ewName})(o.a.createElement(he.a,null))),o.a.createElement(ie.a.Item,{label:"\u767b\u5f55\u5bc6\u7801"},o.a.createElement("span",null,"123456")),o.a.createElement(ie.a.Item,{label:"\u8054\u7cfb\u4eba"},l("operatorName",{rules:this.requiredRule,initialValue:1===a?n.operatorName:r.ewOperatorName})(o.a.createElement(he.a,null))),o.a.createElement(ie.a.Item,{label:"\u8054\u7cfb\u7535\u8bdd"},l("telNum",{rules:this.requiredRule,initialValue:1===a?n.operatorPhone:r.ewOperatorTel})(o.a.createElement(he.a,null))),o.a.createElement(ie.a.Item,{label:"\u5e97\u94fa\u63cf\u8ff0"},l("description",{initialValue:"\u4e70\u8f66\u4e0d\u5fc5\u4e1c\u5954\u897f\u8d70\uff0c\u6c7d\u8f66\u5fae\u5e97\u5e94\u7528\u5c3d\u6709\u3002\u7ebf\u4e0a\u9009\u8f66\u3001\u7ebf\u4e0b\u8bd5\u8f66\u3001\u66f4\u591a\u4f18\u60e0\u3001\u66f4\u591a\u60ca\u559c\uff0c\u6b22\u8fce\u5230\u5e97\u54a8\u8be2\uff0c\u7ed9\u4f60\u4e0d\u4e00\u6837\u7684\u4f53\u9a8c\u3002"})(o.a.createElement(PA,{rows:3}))))),o.a.createElement("div",null,o.a.createElement("h3",null,"\u8f66\u8f86\u4fe1\u606f"),o.a.createElement(re.a,{type:"primary",onClick:this.addSoldVehicleType},"\u6dfb\u52a0\u9500\u552e\u8f66\u578b"),o.a.createElement(ae,{loading:!1,columns:this.renderColumns(),data:i,pagination:!1,rowKey:"id",scroll:{x:"max-content"},onPageChange:function(){}}),o.a.createElement(z.a,{visible:this.state.addModalShow,onOk:this.onAddModalOk,onCancel:this.onModalCancel,okText:"\u786e\u8ba4\u5e76\u7ee7\u7eed",destroyOnClose:!0},o.a.createElement(LA,{wrappedComponentRef:function(t){return e.addForm=t},onSubmit:this.confirmAddModal,record:i}))),o.a.createElement(re.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u63d0\u4ea4")))}}]),t}(i.Component);var YA=ie.a.create()(UA),FA=Object(h.b)(function(e){return{distributorList:e.microShopLink.distributorList}},function(e){return{updateDistributor:function(t){e(jA(t))},createRel:function(t){e(AA(t))}}})(YA);function HA(){return o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/storeManagement/distributor",component:xA}),o.a.createElement(b.a,{exact:!0,path:"/storeManagement/ew",component:MA}),o.a.createElement(b.a,{exact:!0,path:"/storeManagement/add",component:FA}),o.a.createElement(Q.a,{to:"/storeManagement/distributor"}))}var KA=function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement(f.a,null,i.createElement(b.a,{path:"/multipleAccount",component:Cy}),i.createElement(b.a,{path:"/spottestAuditLedger",component:sy}),i.createElement(b.a,{path:"/spottestAudit",component:sy}),i.createElement(b.a,{path:"/movingException",component:Qf}),i.createElement(b.a,{path:"/spotException",component:zf}),i.createElement(b.a,{path:"/primaryAudit",component:yd}),i.createElement(b.a,{path:"/lastAudit",component:Id}),i.createElement(b.a,{path:"/transferIn",component:pu}),i.createElement(b.a,{path:"/transferOut",component:hu}),i.createElement(b.a,{path:"/printManagement",component:np}),i.createElement(b.a,{path:"/confirmReceiptList",component:pp}),i.createElement(b.a,{path:"/ewDetail",component:Jd}),i.createElement(b.a,{path:"/disBond",component:Zd}),i.createElement(b.a,{path:"/ewBond",component:$d}),i.createElement(b.a,{path:"/bondDetail",component:eu}),i.createElement(b.a,{path:"/ewOnlineList",component:nu}),i.createElement(b.a,{path:"/ewOnlineDetail",component:tu}),i.createElement(b.a,{path:"/taskSummary",component:Ag}),i.createElement(b.a,{path:"/carSearchEngine",component:Bp}),i.createElement(b.a,{path:"/repoAuditFirst",component:ym}),i.createElement(b.a,{path:"/repoAuditLast",component:ym}),i.createElement(b.a,{path:"/carMoving",component:Hm}),i.createElement(b.a,{path:"/checkedDetail",component:Km}),i.createElement(b.a,{path:"/carSales",component:eg}),i.createElement(b.a,{path:"/ewSaleRink",component:Qm}),i.createElement(b.a,{path:"/dealerSaleRink",component:Gm}),i.createElement(b.a,{path:"/regionManagement",component:Zh}),i.createElement(b.a,{path:"/orderManagement",component:cv}),i.createElement(b.a,{path:"/invoiceManagement",component:cv}),i.createElement(b.a,{path:"/refundManagement",component:cv}),i.createElement(b.a,{path:"/spotMove",component:Tv}),i.createElement(b.a,{path:"/importView",component:fO}),i.createElement(b.a,{path:"/superviseManager",component:fO}),i.createElement(b.a,{path:"/superviseCompany",component:fO}),i.createElement(b.a,{path:"/specialDealer",component:fO}),i.createElement(b.a,{path:"/superviseParam",component:fO}),i.createElement(b.a,{path:"/superviseParam",component:fO}),i.createElement(b.a,{path:"/soldConfirm",component:xO}),i.createElement(b.a,{path:"/selfCarMgPage",component:ZO}),i.createElement(b.a,{path:"/moveRecord",component:cS}),i.createElement(b.a,{path:"/locaManage",component:fS}),i.createElement(b.a,{path:"/superviseAmount",component:fO}),i.createElement(b.a,{path:"/clientManagement",component:q_}),i.createElement(b.a,{path:"/cameraList",component:nT}),i.createElement(b.a,{path:"/repositoryList",component:KT}),i.createElement(b.a,{path:"/spotEwBlack",component:aA}),i.createElement(b.a,{path:"/repositoryWarning",component:KT}),i.createElement(b.a,{path:"/regionalism",component:LS}),i.createElement(b.a,{path:"/excUploadAll",component:eI}),i.createElement(b.a,{path:"/commonTask",component:OC}),i.createElement(b.a,{path:"/movingTask",component:OC}),i.createElement(b.a,{path:"/certificateTask",component:OC}),i.createElement(b.a,{path:"/excUploadAdd",component:FC}),i.createElement(b.a,{path:"/selfCarBrand",component:WC}),i.createElement(b.a,{path:"/paramsSetting",component:ZC}),i.createElement(b.a,{path:"/carPhoTemp",component:t_}),i.createElement(b.a,{path:"/exceSetting",component:s_}),i.createElement(b.a,{path:"/standMang",component:O_}),i.createElement(b.a,{path:"/credPhoTemp",component:__}),i.createElement(b.a,{path:"/clientManagement",component:q_}),i.createElement(b.a,{path:"/cameraList",component:nT}),i.createElement(b.a,{path:"/repositoryList",component:KT}),i.createElement(b.a,{path:"/financialPro",component:vA}),i.createElement(b.a,{path:"/antiCheat",component:cA}),i.createElement(b.a,{path:"/storeManagement",component:HA}),i.createElement(b.a,{path:"/",component:V}))}}]),t}(i.Component),qA=Object(C.a)(KA);a(1765);function BA(e){return o.a.createElement("div",{className:"main"},o.a.createElement("section",{className:"content"},o.a.createElement(qA,null)))}var VA=a(1790),QA=a(778),zA=a.n(QA),WA=(a(1767),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.collapsed;return i.createElement("div",{className:"menu-header ".concat(e?"collapsed":"")},i.createElement("img",{src:zA.a}),i.createElement("span",{className:"menu-head-title"},"\u6613\u67e5\u5e93"))}}]),t}(i.PureComponent)),GA=Mg.a.SubMenu;function XA(e){return e.subMenu?i.createElement(GA,{key:e.id,title:i.createElement("span",null,e.icon&&i.createElement(k.a,{type:e.icon||""}),i.createElement("span",null,e.name))},e.subMenu.map(XA)):i.createElement(Mg.a.Item,{key:e.id},i.createElement(VA.a,{to:"/".concat(e.link)},e.icon&&i.createElement(k.a,{type:e.icon||""}),i.createElement("span",null,e.name)))}var JA=v.a.Sider,ZA=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).onOpenChange=function(e){a.props.handleModuleSelect(e)},a.state={collapsed:!1,active:"home"},a.renderedMenu=e.menus&&e.menus.map(XA)||null,a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.selectedMenuId,a=e.openKeys,n={theme:"dark",defaultSelectedKeys:[this.state.active],onOpenChange:this.onOpenChange,selectedKeys:[t],mode:"inline",style:{height:this.props.collapsed?"calc(100vh - 64px)":"calc(100vh - 128px)",paddingTop:"20px"}};return this.props.collapsed||(n.openKeys=Object(pe.a)(a)),o.a.createElement(JA,{theme:"dark",trigger:null,collapsible:!0,collapsed:this.props.collapsed,style:{height:"100vh",zIndex:20}},o.a.createElement(WA,{collapsed:this.props.collapsed}),o.a.createElement(Mg.a,Object.assign({},n,{style:{height:"calc(100vh - 64px)",zIndex:20,overflowY:"auto",overflowX:"hidden"}}),o.a.createElement(Mg.a.Item,{key:"home"},o.a.createElement(VA.a,{to:"/"},o.a.createElement(k.a,{type:"home"}),o.a.createElement("span",null,"\u4e3b\u9875"))),this.renderedMenu&&this.renderedMenu))}}]),t}(o.a.Component),$A=(a(1769),a(321)),ek=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).subMenus=A.map(function(e){return e.subMenu}).reduce(function(e,t){return e.concat(t)}),a.getConfig=function(){var e=Object(J.a)(a.props.location.pathname,{path:"/:menuPath/:subMenuPath?"});if(!e)return null;var t=e.params,n=(t=void 0===t?{}:t).menuPath,r=t.subMenuPath,i=a.subMenus.find(function(e){return e.link===n}),o=i&&A.find(function(e){return e.id===i.parentId}),l=_[n]&&_[n][r]||"";return{module:o,menu:i,subMenuName:l}},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.getConfig();if(!e)return null;var t=e.module,a=e.menu,n=e.subMenuName;return o.a.createElement($A.a,{separator:">"},t.id&&o.a.createElement($A.a.Item,{key:t.id},o.a.createElement(k.a,{type:t.icon}),o.a.createElement("span",null,t.name)),a.id&&o.a.createElement($A.a.Item,{key:a.id},this.props.inIframe?o.a.createElement("span",null,a.name):o.a.createElement(X.a,{to:"/".concat(a.link)},o.a.createElement("span",null,a.name))),n&&o.a.createElement($A.a.Item,{key:n},o.a.createElement("span",null,n)))}}]),t}(i.PureComponent),tk=Object(qc.a)(Object(h.b)(null,null)(ek)),ak=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).state={menuId:"",mensubMenuIduId:"",id:"",tabList:[],tabId:""},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.inIframe,a=e.location,n=e.tabData,r=this.state,i=r.menuId,l=r.subMenuId,c=r.tabId,s=r.id;return o.a.createElement("div",{className:Hb.a.actionArea},o.a.createElement("div",{className:"".concat(Hb.a.wrapper," ").concat(t||"")},o.a.createElement("div",{id:"breadcrumb"},o.a.createElement(tk,{inIframe:t})),o.a.createElement("div",{className:Hb.a.tabArea},o.a.createElement("ul",null,this.state.tabList.map(function(e){return o.a.createElement("li",{key:e.id,className:e.id===c?Hb.a.active:""},o.a.createElement(X.a,{to:{pathname:"/".concat(i).concat(l?"/".concat(l):"","/").concat(e.link).concat(s?"/"+s:""),search:a.search}},"".concat(e.name).concat(n&&n[e.id]?"(".concat(n[e.id],")"):"")))})),o.a.createElement("div",{id:"operation-root-menu"})),o.a.createElement("div",{id:"operation-root"})))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=Object(J.a)(e.location.pathname,{path:"/:menuId/:subMenuId/:tabId/:id?"}),n=Object(J.a)(e.location.pathname,{path:"/:menuId/:tabId?"});if(a&&a.params){var r=a.params,i=(r=void 0===r?{}:r).menuId,o=r.subMenuId,l=r.tabId,c=r.id;return Object(E.a)({},t,{tabList:i&&T[o]?T[o].filter(function(e){return e.parentId.includes(i)}):[],menuId:i,subMenuId:o,tabId:l,id:c})}if(n&&n.params){var s=n.params,d=(s=void 0===s?{}:s).menuId,u=s.tabId;return Object(E.a)({},t,{tabList:d&&T[d]?T[d].filter(function(e){return e.parentId.includes(d)}):[],menuId:d,subMenuId:"",tabId:u,id:""})}return Object(E.a)({},t,{tabList:[]})}}]),t}(i.Component),nk=Object(qc.a)(Object(h.b)(function(e){return{tabData:e.tabData}},null)(ak)),rk={module:{id:"home",name:"\u4e3b\u9875",icon:"home"},menu:{id:"",name:"",link:""},subMenu:{id:"",name:""},tabMenu:{id:"",name:"",link:""}},ik=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(p.a)(t).call(this,e))).handleModuleSelect=function(e){var t=e.find(function(e){return-1===a.state.openKeys.indexOf(e)})||"";-1===a.props.menus.map(function(e){return e.id}).indexOf(t)?a.setState({openKeys:e}):a.setState({openKeys:t?[t]:[]})},a.handleCollapse=function(e){a.setState({collapsed:e})},a.state={collapsed:!1,openKeys:[""],pathConfig:rk},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidUpdate",value:function(e){this.props.isLogin===e.isLogin||this.props.inIframe||(!1===this.props.isLogin?S.a.error(o.a.createElement("span",null,"\u767b\u5f55\u72b6\u6001\u5df2\u8fc7\u671f\uff0c\u70b9\u51fb",o.a.createElement("a",{href:"/ccweb_new/login"},"\u91cd\u65b0\u767b\u5f55")),0):!0===this.props.isLogin&&S.a.success("\u767b\u5f55\u6210\u529f")),this.props.errorMsg!==e.errorMsg&&""!==this.props.errorMsg&&this.props.isLogin&&S.a.error(this.props.errorMsg)}},{key:"componentDidMount",value:function(){this.props.init(),this.props.fetchAllRegionList()}},{key:"render",value:function(){var e=this.props,t=e.menus,a=e.session,n=e.location,r=e.inIframe,i=e.isLogin,l=this.state,c=l.pathConfig,s=l.collapsed;return I.b(t)?null:o.a.createElement(v.a,{style:{height:"100vh"}},!r&&o.a.createElement(ZA,{collapsed:s,menus:t,handleModuleSelect:this.handleModuleSelect,openKeys:this.state.openKeys,selectedMenuId:c.menu.id||c.module.id}),o.a.createElement(v.a,{style:{position:"relative",display:"flex",flexDirection:"column",justifyContent:"flex-start"}},!r&&o.a.createElement(M,{collapsed:s,onCollapse:this.handleCollapse,session:a}),o.a.createElement(nk,{inIframe:r,pathConfig:c,location:n}),i&&o.a.createElement(BA,{inIframe:r,collapsed:s}),o.a.createElement(O.a,null)))}}],[{key:"getDerivedStateFromProps",value:function(e,t){var a=e.location,n=e.menus,r=I.c(/(\/\w+)/g,a.pathname||""),i=Object(y.a)(r,3),o=i[0],l=i[1],c=i[2],s=o&&o.slice(1)||"",d=l&&l.slice(1)||"",u=c&&c.slice(1)||"",p=[];if(Array.isArray(n)&&I.a(function(e){p=p.concat(e.subMenu)},n),!s||-1==p.findIndex(function(e){return e.link===s}))return Object(E.a)({},t,{pathConfig:rk});var m=p.find(function(e){return e.link===s})||{},h=m&&m.parentId,g=Array.isArray(n)&&n.find(function(e){return e.id===h}),f=Array.isArray(T[d])&&T[d].find(function(e){return e.link===u})||{},b={module:{id:g.id,name:g.name,icon:g.icon},menu:{id:m.id,name:m.name,link:m.link},subMenu:{id:d,name:_[d]},tabMenu:f};return g.id===t.pathConfig.module.id?Object(E.a)({},t,{pathConfig:b}):Object(E.a)({},t,{openKeys:[g.id],pathConfig:b})}}]),t}(o.a.Component),ok=Object(C.a)(ik),lk=a(181);var ck=Object(h.b)(function(e){return{menus:e.common.menus,inIframe:e.common.inIframe,errorMsg:e.common.errorMsg,session:e.session.data,isLogin:e.session.isLogin}},function(e){return{init:function(){return e(Object(lk.c)())},fetchAllRegionList:function(){return e(Object(lk.b)())}}})(ok),sk=a(780),dk=a.n(sk),uk=(a(1772),ie.a.Item),pk=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){e||a.props.onSubmit(t)})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.createElement(ie.a,{onSubmit:this.handleSubmit,className:"login-form"},i.createElement(uk,null,e("accid",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d"}]})(i.createElement(he.a,{prefix:i.createElement(k.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"\u7528\u6237\u540d"}))),i.createElement(uk,null,e("accpwd",{initialValue:"",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801"}]})(i.createElement(he.a,{prefix:i.createElement(k.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),suffix:i.createElement(k.a,{type:"eye",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"\u5bc6\u7801"}))),i.createElement(uk,null,i.createElement(re.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"\u767b\u5f55")),i.createElement("div",{style:{textAlign:"center"}},i.createElement("a",{href:"",className:"login-reset-password"},"\u627e\u56de\u5bc6\u7801")))}}]),t}(i.Component),mk=ie.a.create()(pk),hk=function(e){function t(){var e,a;Object(s.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(r)))).handleSubmit=function(e){a.props.login(e).then(function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).payload;a.props.history.push("/")}).catch(function(e){S.a.error("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u68c0\u67e5\u7f51\u7edc\u8fde\u63a5")})},a}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return i.createElement("div",{className:"login-page"},i.createElement("div",{className:"login-bg"}),i.createElement("div",{className:"login-wrapper"},i.createElement("div",{className:"login-box"},i.createElement("div",{className:"login-header"},i.createElement("a",{href:"/"},i.createElement("img",{src:dk.a,alt:""}),i.createElement("span",null,"\u5317\u4eac\u8f66\u8f66\u7f51\u7edc\u6280\u672f\u6709\u9650\u516c\u53f8"))),i.createElement("div",{className:"login-content"},i.createElement(mk,{onSubmit:this.handleSubmit})))))}}]),t}(i.Component),gk=Object(h.b)(null,function(e){return{login:function(t){return e(Object(lk.d)(t))}}})(hk),fk=(a(1774),a(1776),function(e){function t(){return Object(s.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return o.a.createElement(h.a,{store:this.props.store},o.a.createElement(g.a,{basename:"ccweb_new"},o.a.createElement(f.a,null,o.a.createElement(b.a,{exact:!0,path:"/login",component:gk}),o.a.createElement(b.a,{path:"/",component:ck}))))}}]),t}(o.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(1778);var bk,Ek=a(783),yk=a.n(Ek),vk=(a(1780),a(148)),Ok=(a(1781),a(407)),Sk=a.n(Ok);var Ik=Object(Y.a)((bk={},Object(U.a)(bk,"YICHAKU/COMMON/APIERROR",{next:function(e,t){return Object(E.a)({},e,{errorMsg:t.payload||"\u540e\u53f0\u63a5\u53e3\u9519\u8bef"})}}),Object(U.a)(bk,"YICHAKU/COMMON/LOADING",{next:function(e,t){return Object(E.a)({},e,{loading:t.loading})}}),Object(U.a)(bk,"YICHAKU/LOGIN/LOGIN",{next:function(e,t){return t&&t.payload&&t.payload.data&&t.payload.data.success?Object(E.a)({},e,{menus:t.payload.data._menus}):e}}),bk),{menus:A,iframe:!1,errorMsg:"",loading:!0}),Ck=Object(vk.c)({common:Ik,dashboard:q,session:lk.a,ewAuditList:Ql,ewAuditDetail:Cc,ewInvoiceList:Xy,ewOrderList:Yy,ewRefundList:rv,ledger:Ad,bondManagement:ou,tabData:Wu,printManagement:gu,carSearchEngine:bp,confirmReceipt:Pu,repoAudit:Wp,taskSummary:ng,carFactoryManagement:Rm,regionManagement:bh,exceptionManagement:cf,exceptionMovingManagement:Rf,spottest:Cb,supervise:kv,soldConfrim:OO,selfCarMgPage:BO,selfCarSpottest:HI,moveRecord:rS,locaManage:uS,exUploadAll:RS,exUploadAdd:SC,regionalism:bS,standMang:m_,clientManagement:w_,cameraList:B_,repositoryList:oT,monitorImage:AT,spotEwBlack:qT,financialPro:sA,microShopLink:CA}),_k={};function Tk(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("/");return e.length<2?"":e[1]}function Ak(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"YICHAKU/".concat(e,"/LOADING")}window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||vk.d;var kk=[function(e){var t=e.dispatch;return function(e){return function(a){if(Sk()(a.payload)){var n=Tk(a.type);if(n){a.timestamp=Date.now();var r=_k[n];if(Array.isArray(r)&&r.length>0){var i=r.findIndex(function(e){return e.type===a.type});i>-1&&r.splice(i,1),r.push({type:a.type,timestamp:a.timestamp})}else Array.isArray(r)&&0===r.length?_k[n].push({type:a.type,timestamp:a.timestamp}):_k[n]=[{type:a.type,timestamp:a.timestamp}],t({type:Ak(n),loading:!0})}}return e(a)}}},function(e){var t=e.dispatch;return function(e){return function(a){return Sk()(a.payload)?a.payload.then(function(e){return t(Object(E.a)({},a,{payload:e}))}).catch(function(e){t(Object(E.a)({},a,{payload:e,error:!0})),t({type:"YICHAKU/COMMON/APIERROR",payload:e&&e.message?"".concat(e&&e.message," -- ").concat(a.type):e&&e.message})}):e(a)}}},function(e){var t=e.dispatch;return function(e){return function(a){if(a.payload){var n=Tk(a.type),r=a.timestamp;delete a.timestamp;var i=_k[n];if(n&&Array.isArray(i)){var o=i.findIndex(function(e){return e.type===a.type&&e.timestamp===r});o>-1&&(i.splice(o,1),0===i.length&&t({type:Ak(n),loading:!1}))}}return e(a)}}}],wk=vk.d;je.a.locale("zh-cn"),document.getElementById("spinner").hidden=!0;var jk=!1;try{self!==top&&(jk=!0)}catch(Mk){console.error("\u5224\u65ad\u662f\u5426\u5728iframe\u4e2d\u5931\u8d25",Mk.message)}var xk,Dk=(xk={common:{menus:A,inIframe:jk}},Object(vk.e)(Ck,xk,wk(vk.a.apply(void 0,kk))));c.a.render(o.a.createElement(r.a,{locale:yk.a},o.a.createElement(fk,{store:Dk})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},181:function(e,t,a){"use strict";a.d(t,"c",function(){return m}),a.d(t,"d",function(){return h}),a.d(t,"b",function(){return g}),a.d(t,"e",function(){return f});var n,r=a(10),i=a(2),o=a(1791),l=a(1795),c=a(3),s="YICHAKU/LOGIN/INIT",d="YICHAKU/LOGIN/LOGIN",u="YICHAKU/LOGIN/LOGOUT",p=Object(o.a)((n={},Object(r.a)(n,s,{next:function(e,t){return Object(i.a)({},e,{data:t.payload.data.data||{},dealer:t.payload.data.dealer||{},isLogin:!0})},throw:function(e,t){return Object(i.a)({},e,{isLogin:!1})}}),Object(r.a)(n,"YICHAKU/LOGIN/SESSION_EXPIRED",{next:function(e,t){return Object(i.a)({},e,{isLogin:!1})}}),Object(r.a)(n,"YICHAKU/LOGIN/ACTION_FETCH_ALLREGIONS",{next:function(e,t){return Object(i.a)({},e,{regionList:b(t.payload.data.provinceList,t.payload.data.cityList)})}}),Object(r.a)(n,d,{next:function(e,t){return Object(i.a)({},e)}}),Object(r.a)(n,u,{next:function(e,t){return{data:{}}}}),n),{data:{},regionList:[],isLogin:null,dealer:{}});t.a=p;var m=Object(l.a)(s,function(){return c.d.post("/UserAction_getStore")}),h=Object(l.a)(d,function(e){return c.e.formSubmit("/UserAction_login.action","user",e)}),g=Object(l.a)("YICHAKU/LOGIN/ACTION_FETCH_ALLREGIONS",function(){return c.d.post("/AjaxAction_getAllRegions")}),f=Object(l.a)("YICHAKU/LOGIN/SESSION_EXPIRED"),b=(Object(l.a)(u,function(){return c.d.post("/logout")}),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.map(function(e){return Object(i.a)({},e,{list:t.filter(function(t){return String(t.value).startsWith(e.value)})})})})},185:function(e,t,a){e.exports={printManagement:"style_printManagement__X_OlM",formArea:"style_formArea__18A1s",operArea:"style_operArea__2LJFm",messageArea:"style_messageArea__2OP92",operButton:"style_operButton__n0slY"}},186:function(e,t,a){e.exports={ledger:"style_ledger__2htcZ",formArea:"style_formArea__3unsY",operArea:"style_operArea__2YyvP",messageArea:"style_messageArea__13Yzi",right:"style_right__1BAom",editRegion:"style_editRegion__3lTL4"}},205:function(e,t,a){e.exports={label:"style_label__beGNJ",value:"style_value__2nh9_",bold:"style_bold__1T2j-",wrapper:"style_wrapper__3H11n",title:"style_title__3pfZ9",newValue:"style_newValue__2Wq6s"}},242:function(e,t,a){e.exports={actionArea:"style_actionArea__MYpdh",wrapper:"style_wrapper__1_otw",tabArea:"style_tabArea__3m4BK",active:"style_active__cAk2X"}},243:function(e,t,a){e.exports={header:"style_header__1s53o",headerWrapper:"style_headerWrapper__17or5",icon:"style_icon__gwI9u",trigger:"style_trigger__2X2-w",userName:"style_userName__3FVWB"}},282:function(e,t,a){e.exports={action:"style_action__3H1oD"}},283:function(e,t,a){e.exports={detailWrapper:"style_detailWrapper__rhfGw",detailWrapperWithTitle:"style_detailWrapperWithTitle__3SrNZ",detailHeader:"style_detailHeader__3CjX8",detailTitle:"style_detailTitle__37CX-",detailContent:"style_detailContent__2lrml"}},284:function(e,t,a){e.exports={infoWrapper:"style_infoWrapper__SDdyV",infoCard:"style_infoCard__22V55",active:"style_active__3IKSX",hideNav:"style_hideNav__GONvS",infoCardDiv:"style_infoCardDiv__fIDpE"}},3:function(e,t,a){"use strict";var n=a(244),r=a.n(n),i=(a(1063),a(2)),o={timeout:3e5,withCredentials:!0},l=Object(i.a)({baseURL:"".concat("/","api")},o),c=Object(i.a)({baseURL:"".concat("/"),headers:{"Content-Type":"application/json;charse=UTF-8"}},o),s=Object(i.a)({baseURL:"".concat("/"),headers:{"Content-Type":"multipart/form-data"}},o),d=Object(i.a)({baseURL:"".concat("/"),headers:{"Content-Type":"multipart/form-data"},responseType:"blob"},o),u=Object(i.a)({baseURL:"".concat("/"),headers:{"Content-Type":"application/json;charse=UTF-8"},responseType:"arraybuffer"},o),p=a(181);a.d(t,"d",function(){return h}),a.d(t,"e",function(){return g}),a.d(t,"b",function(){return f}),a.d(t,"c",function(){return b});var m=r.a.create(l),h=(t.a=m,r.a.create(c)),g=r.a.create(s),f=r.a.create(d),b=r.a.create(u);"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(e,t){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!=r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(a[i]=r[i])}return a},writable:!0,configurable:!0});var E,y=function(e){return function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.pageNum,o=r.pageSize,l=new FormData;return Object.keys(n).forEach(function(e){void 0!==n[e]&&null!==n[e]&&l.append("".concat(a?"".concat(a,".").concat(e):"".concat(e)),n[e])}),i&&o&&(l.append("paging.pageNum",i),l.append("paging.pageSize",o)),e.post(t,l)}},v=function(e){return function(t,a){return e.post(t,a||{})}};g.formSubmit=y(g),f.formSubmit=y(f),h.postWithPaging=(E=h,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=a.pageNum,r=void 0===n?1:n,i=a.pageSize,o=void 0===i?10:i;return e="".concat(e,"?pageNum=").concat(r,"&pageSize=").concat(o),v(E)(e,t)}),h.submit=v(h),h.deleteMeth=function(e){return function(t,a){return e.delete(t,{data:a||{}})}}(h),b.submit=v(b),r.a.interceptors.response.use(function(e){if(e.headers["content-type"].includes("text/html;")){var t=new Error("\u63a5\u53e3\u9519\u8bef");return Promise.reject(t)}return e},function(e){return e&&e.response&&401===e.response.status&&Object(p.e)(),Promise.reject(e)})},313:function(e,t,a){e.exports={regionContent:"style_regionContent__2ENFH",tableListForm:"style_tableListForm__1Y4pF",submitButtons:"style_submitButtons__3dmcE"}},316:function(e,t,a){e.exports={action:"style_action__2PeK4",warning:"style_warning__1Npqn","antd-pro-description-list-descriptionList":"style_antd-pro-description-list-descriptionList__fUOhp","ant-row":"style_ant-row__1mHw1",disableCheckbox:"style_disableCheckbox__DPXEH"}},38:function(e,t,a){"use strict";a.d(t,"a",function(){return u});var n=a(5),r=a(6),i=a(9),o=a(7),l=a(8),c=a(0),s=a(36),d=a.n(s),u=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(i.a)(this,Object(o.a)(t).call(this,e))).el=document.createElement("div"),a}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=document.getElementById("operation-root");this.props&&this.props.center?e.className.includes("operationCenter")||(e.className=""===e.className?"operationCenter":e.className+" operationCenter"):e.className.includes("operationCenter")&&(e.className=""),e.appendChild(this.el)}},{key:"componentWillUnmount",value:function(){document.getElementById("operation-root").removeChild(this.el)}},{key:"render",value:function(){return d.a.createPortal(this.props.children,this.el)}}]),t}(c.PureComponent)},401:function(e,t,a){e.exports={spottestView:"style_spottestView__1tL9Y",carSelectionView:"style_carSelectionView__1idAt"}},403:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACPUlEQVRYR+2XT3LSYBjGnzfqpuiIO2dKRrqz6UJ6g95AbtB8JxBPUHoC6Qm+cAM8gT0CLhrdFQc6484wSDdIHiehoQkkQAkWF2TH8P75fc/7J18EW35ky/mxA1iqwGv9tvxMnnwgeCKQyiolI9gWyOWI44uf6ntnkc9CgFLTOhNKfZWkWTYU1nun7nnW/5kApmNpQOw8ye996XRtV6XFSgXY14c1Q4xPm0k+ieLT/3ijvjVmY84BFHW5+EIK1wCKU2Oy7wO1IW5bnup4i8AC/wL2qgbQgMjLmK034PBg1n8OYO70k+QnN8ptP0SRfW1VDOAyDpGmgpj6sEpD3kXBhbABKUe/SZ73lLtWI5a0VReRs1gvdChwprl8fhVTW96MVImDDjh8tUz2LGXuyvkrUzmyL6Y+ciA4TTUiP3eVW32I9LO2prZaEHmfHh9NCRbNUxi2BLJngeQhSPMlmgQ7f+A7YROGDSPyJdH5m06ajOeNOD4OtmQIsLAM/wqEaHbVlT0BcI4Y6/ofAFoAqiLyZhP5SabG7NpXkgAIDHvKDUcw7GAUGrn7gmgOMKxFk1TSVic6WBpAYuYDiOfYa6+rRHCg37itxMc4vhvmAcB2z3aP47Ln6Q+SFz3l1hLxHOs6WnT3AIllxOm2EqKc/41Ih4LwTpDYsmS/q9zi/zEFd7ee4A34aM+I44PpHpgdxcegCOofliVKFt8FcYDIcF2oZXF3AFMF5i8PQJ7LSFSyZXGXfhesW/tV/XYAW1fgL+EYI8H4cvm5AAAAAElFTkSuQmCC"},405:function(e,t,a){"use strict";a.d(t,"a",function(){return A});a(75);var n=a(50),r=(a(115),a(25)),i=(a(49),a(18)),o=(a(32),a(4)),l=a(5),c=a(6),s=a(9),d=a(7),u=a(8),p=a(26),m=(a(41),a(19)),h=(a(55),a(17)),g=(a(78),a(22)),f=a(0),b=a.n(f),E=a(3),y=a(108),v=a.n(y),O=a(38),S=a(28),I=a.n(S),C=g.a.Option,_=h.a.TextArea,T=m.a.confirm,A=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(s.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.saveData=function(){var e=I.a.isEmpty(a.state.data)?a.props.data:a.state.data,t=Object(p.a)(Object(p.a)(a));T({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u4fdd\u5b58?",onOk:function(){E.d.post("/self-car/v1.0/selfSpottestTemplate/update",{id:t.props.id,templateContext:JSON.stringify(e)}).then(function(e){var t=e.data;200==t.code?o.a.success("\u4fdd\u5b58\u6210\u529f"):o.a.error(t.message)}).catch(function(e){o.a.error("\u64cd\u4f5c\u5931\u8d25")})}})},a.onChange=function(e){return function(t){var n=a.props.data;I.a.set(n,e,t.target?t.target.value:t.join(",")),a.setState({data:n})}},a}return Object(u.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.data,t=I.a.get(e,"settings[0].items[1].options",[]),a=[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}],o=[];for(var l in t)o.push(b.a.createElement(C,{key:t[l].value},t[l].label));return b.a.createElement("div",{className:v.a.conBar},b.a.createElement(O.a,null,b.a.createElement(i.a,{type:"primary",onClick:this.saveData},"\u4fdd\u5b58")),b.a.createElement(n.a,{spinning:!1},b.a.createElement("div",{className:v.a.conflex},b.a.createElement("div",null,b.a.createElement("p",null,"\u7167\u7247"),b.a.createElement("div",{className:v.a.conitem},b.a.createElement("div",null,b.a.createElement("span",{className:v.a.tit},"\u8f66\u67b6\u53f7"),b.a.createElement(r.a.Group,{className:v.a.radioGroup,options:I.a.get(e,"settings[0].items[0].options",[]),value:I.a.get(e,"settings[0].items[0].value","5,8"),onChange:this.onChange("settings[0].items[0].value")})),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("div",null,b.a.createElement("span",{className:v.a.tit,style:{marginBottom:"20px"}},"\u5176\u4ed6\u4f4d\u7f6e"),b.a.createElement("div",null,b.a.createElement(g.a,{style:{width:"90%"},mode:"multiple",placeholder:"\u8bf7\u9009\u62e9",value:I.a.get(e,"settings[0].items[1].value","")?I.a.get(e,"settings[0].items[1].value","").split(","):[],onChange:this.onChange("settings[0].items[1].value")},o))))),b.a.createElement("div",null,b.a.createElement("p",null,"\u89c6\u9891"),b.a.createElement("div",{className:v.a.conitem},b.a.createElement("div",null,b.a.createElement("span",{className:v.a.tit},"\u662f\u5426\u62cd\u6444\u89c6\u9891"),b.a.createElement(r.a.Group,{options:a,value:I.a.get(e,"settings[1].onoff.value","0"),className:v.a.radioGroup,onChange:this.onChange("settings[1].onoff.value")})),b.a.createElement("br",null),b.a.createElement("br",null),b.a.createElement("div",null,"1"==I.a.get(e,"settings[1].onoff.value")&&b.a.createElement("div",null,b.a.createElement("span",{className:v.a.tit,style:{marginBottom:"20px"}},"\u62cd\u6444\u5185\u5bb9"),b.a.createElement(r.a.Group,{options:I.a.get(e,"settings[1].items[0].options",[]),className:v.a.radioGroup,value:I.a.get(e,"settings[1].items[0].value"),onChange:this.onChange("settings[1].items[0].value")}))))),b.a.createElement("div",null,b.a.createElement("p",null,"\u6587\u672c"),b.a.createElement("div",{className:v.a.conitem},b.a.createElement("div",null,b.a.createElement("span",{className:v.a.tit},"\u662f\u5426\u7f16\u8f91\u6587\u672c"),b.a.createElement(r.a.Group,{options:a,className:v.a.radioGroup,value:I.a.get(e,"settings[2].onoff.value","0"),onChange:this.onChange("settings[2].onoff.value")})),b.a.createElement("br",null),"1"==I.a.get(e,"settings[2].onoff.value","0")&&b.a.createElement("div",null,b.a.createElement("div",{className:v.a.outFlex},b.a.createElement("p",null,"\u6587\u672c\u6807\u7b7e1"),b.a.createElement(_,{rows:3,value:I.a.get(e,"settings[2].items[0].value",""),onChange:this.onChange("settings[2].items[0].value")}),b.a.createElement("div",null,"\u662f\u5426\u5fc5\u586b",b.a.createElement(r.a.Group,{options:a,value:I.a.get(e,"settings[2].items[0].properties[0].value","1"),onChange:this.onChange("settings[2].items[0].properties[0].value")}))),b.a.createElement("br",null),b.a.createElement("div",{className:v.a.outFlex},b.a.createElement("p",null,"\u6587\u672c\u6807\u7b7e2"),b.a.createElement(_,{rows:3,value:I.a.get(e,"settings[2].items[1].value",""),onChange:this.onChange("settings[2].items[1].value")}),b.a.createElement("div",null,"\u662f\u5426\u5fc5\u586b",b.a.createElement(r.a.Group,{options:a,value:I.a.get(e,"settings[2].items[1].properties[0].value","1"),onChange:this.onChange("settings[2].items[1].properties[0].value")})))))))))}}]),t}(f.Component)},406:function(e,t,a){"use strict";a.d(t,"a",function(){return k});a(75);var n=a(50),r=(a(293),a(111)),i=(a(115),a(25)),o=(a(49),a(18)),l=(a(32),a(4)),c=a(5),s=a(6),d=a(9),u=a(7),p=a(8),m=a(26),h=(a(41),a(19)),g=(a(55),a(17)),f=(a(78),a(22)),b=a(0),E=a.n(b),y=a(3),v=a(97),O=a.n(v),S=a(38),I=a(28),C=a.n(I),_=f.a.Option,T=g.a.TextArea,A=h.a.confirm,k=function(e){function t(){var e,a;Object(c.a)(this,t);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(a=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={data:{}},a.saveData=function(){var e=C.a.isEmpty(a.state.data)?a.props.data:a.state.data;if(e.settings[1].items[0].value||"1"!=e.settings[1].onoff.value)if(C.a.isEmpty(e.settings[0].items.filter(function(e){return e.value>0}))&&"0"==e.settings[1].onoff.value&&"0"==e.settings[2].onoff.value)l.a.error("\u8bf7\u81f3\u5c11\u9009\u62e9\u4e00\u4e2a\u62cd\u7167\u6a21\u677f");else{var t=Object(m.a)(Object(m.a)(a));A({title:"\u8bf7\u786e\u8ba4\u662f\u5426\u4fdd\u5b58?",onOk:function(){y.d.post("/self-car/v1.0/selfSpottestTemplate/update",{id:t.props.id,templateContext:JSON.stringify(e)}).then(function(e){var t=e.data;200==t.code?l.a.success("\u4fdd\u5b58\u6210\u529f"):l.a.error(t.message)}).catch(function(e){l.a.error("\u64cd\u4f5c\u5931\u8d25")})}})}else l.a.error("\u89c6\u9891\u62cd\u6444\u5185\u5bb9\u4e0d\u80fd\u4e3a\u7a7a")},a.onChange=function(e){return function(t){var n=a.props.data;C.a.set(n,e,t.target?t.target.value:t.join(",")),a.setState({data:n})}},a}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,a=e.templateName,l=[{label:"\u662f",value:"1"},{label:"\u5426",value:"0"}],c=["\u5de6\u4fa7","\u6b63\u9762","\u53f3\u4fa7","\u80cc\u9762","\u5de6\u524d","\u53f3\u524d","\u5de6\u540e","\u53f3\u540e"],s=[];for(var d in c)s.push(E.a.createElement(_,{key:parseInt(d)+1},c[d]));return E.a.createElement("div",{className:O.a.conBar},E.a.createElement(S.a,null,E.a.createElement(o.a,{type:"primary",onClick:this.saveData},"\u4fdd\u5b58")),E.a.createElement(n.a,{spinning:!1},E.a.createElement("div",{className:O.a.conflex},E.a.createElement("div",null,E.a.createElement("p",null,"\u7167\u7247"),E.a.createElement("div",{className:O.a.conitem},E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u62cd\u8f66\u94a5\u5319"),E.a.createElement(i.a.Group,{options:C.a.get(t,"settings[0].items[0].options",[]),value:C.a.get(t,"settings[0].items[0].value","0"),className:O.a.radioGroup,onChange:this.onChange("settings[0].items[0].value")})),E.a.createElement("br",null),E.a.createElement("br",null),"\u65b0\u8f66"==a?E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u62cd\u5408\u683c\u8bc1"),E.a.createElement(i.a.Group,{className:O.a.radioGroup,options:C.a.get(t,"settings[0].items[1].options",[]),value:C.a.get(t,"settings[0].items[1].value","0"),onChange:this.onChange("settings[0].items[1].value")})):E.a.createElement("div",null,E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u62cd\u884c\u9a76\u8bc1"),E.a.createElement(i.a.Group,{className:O.a.radioGroup,options:C.a.get(t,"settings[0].items[1].options",[]),value:C.a.get(t,"settings[0].items[1].value","0"),onChange:this.onChange("settings[0].items[1].value")})),E.a.createElement("br",null),E.a.createElement("br",null),E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u62cd\u767b\u8bb0\u8bc1"),E.a.createElement(i.a.Group,{className:O.a.radioGroup,options:C.a.get(t,"settings[0].items[2].options",[]),value:C.a.get(t,"settings[0].items[2].value","0"),onChange:this.onChange("settings[0].items[2].value")}))))),E.a.createElement("div",null,E.a.createElement("p",null,"\u89c6\u9891"),E.a.createElement("div",{className:O.a.conitem},E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u62cd\u6444\u89c6\u9891"),E.a.createElement(i.a.Group,{className:O.a.radioGroup,options:l,value:C.a.get(t,"settings[1].onoff.value","0"),onChange:this.onChange("settings[1].onoff.value")})),E.a.createElement("br",null),E.a.createElement("br",null),E.a.createElement("div",null,"1"==C.a.get(t,"settings[1].onoff.value")&&E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit,style:{marginBottom:"20px"}},"\u89c6\u9891\u62cd\u6444\u5185\u5bb9"),E.a.createElement(r.a.Group,{options:C.a.get(t,"settings[1].items[0].options",[]),value:C.a.get(t,"settings[1].items[0].value","").split(","),onChange:this.onChange("settings[1].items[0].value")}))))),E.a.createElement("div",null,E.a.createElement("p",null,"\u6587\u672c"),E.a.createElement("div",{className:O.a.conitem},E.a.createElement("div",null,E.a.createElement("span",{className:O.a.tit},"\u662f\u5426\u7f16\u8f91\u6587\u672c"),E.a.createElement(i.a.Group,{options:l,className:O.a.radioGroup,value:C.a.get(t,"settings[2].onoff.value","0"),onChange:this.onChange("settings[2].onoff.value")})),E.a.createElement("br",null),"1"==C.a.get(t,"settings[2].onoff.value","0")&&E.a.createElement("div",null,E.a.createElement("div",{className:O.a.outFlex},E.a.createElement("p",null,"\u6587\u672c\u6807\u7b7e1"),E.a.createElement(T,{rows:3,value:C.a.get(t,"settings[2].items[0].value",""),onChange:this.onChange("settings[2].items[0].value")}),E.a.createElement("div",null,"\u662f\u5426\u5fc5\u586b",E.a.createElement(i.a.Group,{options:l,value:C.a.get(t,"settings[2].items[0].properties[0].value","1"),onChange:this.onChange("settings[2].items[0].properties[0].value")}))),E.a.createElement("br",null),E.a.createElement("div",{className:O.a.outFlex},E.a.createElement("p",null,"\u6587\u672c\u6807\u7b7e2"),E.a.createElement(T,{rows:3,value:C.a.get(t,"settings[2].items[1].value",""),onChange:this.onChange("settings[2].items[1].value")}),E.a.createElement("div",null,"\u662f\u5426\u5fc5\u586b",E.a.createElement(i.a.Group,{options:l,value:C.a.get(t,"settings[2].items[1].properties[0].value","1"),onChange:this.onChange("settings[2].items[1].properties[0].value")})))))))))}}]),t}(b.Component)},412:function(e,t,a){e.exports={table:"style_table__3SYK8",tit:"style_tit__1xsE1"}},519:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABZElEQVRYR+2WPVLDMBCFdwUKFeCeJDM0QLocAZ+E+Ai5QW4QbhDfJBzBnTM0zBDoDVTExMsIiMc/shXJiIKRW1t633srPxuhwxUPeMgA6HKdBqbboOlCIY6IN2I9EoWmENoADx54m2M+J8RJEV5A9N7S6XkCiY4pLQAh/n7ClwA4lotQdPSa+joQewOoxXdIehB7Adyf8XF2AItm59U8KGJbCC6e00g1DiXAj7iI3VNtVr5PCduCr4JoBTAXz8ehhGgEiAd8gghzfee1cSREMB2t01CWoBTgWxwXepG3P01EgQyiBmBDPB+IBKIEUGy333RfLaxia+YAfyG+AylWNzZVq60EihCiunHV57eE0FCtdjGQIFIWkV0EgBrAatgjm6JXj5uSpgNwCRgkQC8AMKOMSt96ZF9/STMAPG07xJ0PIWWZP3r6uJOJxP3Da2RsaRWg6qAqpnqNOyfgAFwCLoF/l8AnYhvrqSTIYZMAAAAASUVORK5CYII="},521:function(e,t,a){e.exports={ewAuditList:"style_ewAuditList__Afl9q",formArea:"style_formArea__E1lmp",operArea:"style_operArea__22uG4",messageArea:"style_messageArea__2yatu",selectInfo:"style_selectInfo__13gJQ"}},524:function(e,t,a){e.exports={reportModal:"style_reportModal__1l7rO",footer:"style_footer__1u14d"}},526:function(e,t,a){e.exports={trColor:"style_trColor__1P8lZ",iocnCer:"style_iocnCer__32VEB"}},527:function(e,t,a){e.exports={conBar:"style_conBar__eVi46",icon:"style_icon__21YDp"}},528:function(e,t,a){e.exports={form:"style_form__NmOYK",selList:"style_selList__2OedN"}},65:function(e,t,a){e.exports={imageCard:"style_imageCard__3NVJh",carAuditPhoto:"style_carAuditPhoto__mobpj",image:"style_image__iweoU",disabled:"style_disabled__3lJol",preview:"style_preview__2pLdu",content:"style_content__jHUlP",title:"style_title__1-vNw"}},660:function(e,t){},761:function(e,t,a){e.exports={ViewWrapper:"style_ViewWrapper__1to_L",FormArea:"style_FormArea__BNqNi",OperArea:"style_OperArea__2WSD7"}},766:function(e,t,a){e.exports={exceptionListView:"style_exceptionListView__rxjJi"}},773:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return carPhoTemp});var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),antd_es_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),common_axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),_View__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(405),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),lodash__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__),carPhoTemp=function(_Component){function carPhoTemp(){var _getPrototypeOf2,_this;Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,carPhoTemp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,(_getPrototypeOf2=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(carPhoTemp)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={data:{},id:0,templateName:""},_this.listSearch=function(id){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/one",{id:id}).then(function(res){if(200==res.data.code){var data=res.data.data;_this.setState({data:eval("("+data.templateContext+")"),id:data.id,templateName:data.templateName}),console.log(eval("("+data.templateContext+")"))}}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this.handleSearch=function(){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/list",{spottesttype:"20"}).then(function(e){if(200==e.data.code){if(lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(e.data.data))return;var t=e.data.data;_this.listSearch(t.filter(function(e){return"\u65b0\u8f66"==e.templateName})[0].id)}else antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error(e.data.message)}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this}return Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(carPhoTemp,_Component),Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(carPhoTemp,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return!lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(this.state.data)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_View__WEBPACK_IMPORTED_MODULE_9__.a,{data:this.state.data,id:this.state.id,templateName:this.state.templateName})}}]),carPhoTemp}(react__WEBPACK_IMPORTED_MODULE_7__.Component)},774:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return carPhoTemp});var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),antd_es_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),common_axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),_View__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(405),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),lodash__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__),carPhoTemp=function(_Component){function carPhoTemp(){var _getPrototypeOf2,_this;Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,carPhoTemp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,(_getPrototypeOf2=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(carPhoTemp)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={data:{},id:0,templateName:""},_this.listSearch=function(id){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/one",{id:id}).then(function(res){if(200==res.data.code){var data=res.data.data;_this.setState({data:eval("("+data.templateContext+")"),id:data.id,templateName:data.templateName}),console.log(eval("("+data.templateContext+")"))}}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this.handleSearch=function(){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/list",{spottesttype:"20"}).then(function(e){if(200==e.data.code){if(lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(e.data.data))return;var t=e.data.data;_this.listSearch(t.filter(function(e){return"\u4e8c\u624b\u8f66"==e.templateName})[0].id)}else antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error(e.data.message)}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this}return Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(carPhoTemp,_Component),Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(carPhoTemp,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return!lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(this.state.data)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_View__WEBPACK_IMPORTED_MODULE_9__.a,{data:this.state.data,id:this.state.id,templateName:this.state.templateName})}}]),carPhoTemp}(react__WEBPACK_IMPORTED_MODULE_7__.Component)},775:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return carPhoTemp});var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),antd_es_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),common_axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),_View__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(406),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),lodash__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__),carPhoTemp=function(_Component){function carPhoTemp(){var _getPrototypeOf2,_this;Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,carPhoTemp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,(_getPrototypeOf2=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(carPhoTemp)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={data:{},id:0,templateName:""},_this.listSearch=function(id){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/one",{id:id}).then(function(res){if(200==res.data.code){var data=res.data.data;_this.setState({data:eval("("+data.templateContext+")"),id:data.id,templateName:data.templateName}),console.log(eval("("+data.templateContext+")"))}}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this.handleSearch=function(){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/list",{spottesttype:"30"}).then(function(e){if(200==e.data.code){if(lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(e.data.data))return;var t=e.data.data;_this.listSearch(t.filter(function(e){return"\u65b0\u8f66"==e.templateName})[0].id)}else antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error(e.data.message)}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this}return Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(carPhoTemp,_Component),Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(carPhoTemp,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return!lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(this.state.data)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_View__WEBPACK_IMPORTED_MODULE_9__.a,{data:this.state.data,id:this.state.id,templateName:this.state.templateName})}}]),carPhoTemp}(react__WEBPACK_IMPORTED_MODULE_7__.Component)},776:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",function(){return carPhoTemp});var antd_es_message_style__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(32),antd_es_message__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(5),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(9),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(7),_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8),react__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_7__),common_axios__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(3),_View__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(406),lodash__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(28),lodash__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(lodash__WEBPACK_IMPORTED_MODULE_10__),carPhoTemp=function(_Component){function carPhoTemp(){var _getPrototypeOf2,_this;Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__.a)(this,carPhoTemp);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];return _this=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__.a)(this,(_getPrototypeOf2=Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__.a)(carPhoTemp)).call.apply(_getPrototypeOf2,[this].concat(args))),_this.state={data:{},id:0,templateName:""},_this.listSearch=function(id){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/one",{id:id}).then(function(res){if(200==res.data.code){var data=res.data.data;_this.setState({data:eval("("+data.templateContext+")"),id:data.id,templateName:data.templateName}),console.log(eval("("+data.templateContext+")"))}}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this.handleSearch=function(){common_axios__WEBPACK_IMPORTED_MODULE_8__.d.post("/self-car/v1.0/selfSpottestTemplate/find/list",{spottesttype:"30"}).then(function(e){if(200==e.data.code){if(lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(e.data.data))return;var t=e.data.data;_this.listSearch(t.filter(function(e){return"\u4e8c\u624b\u8f66"==e.templateName})[0].id)}else antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error(e.data.message)}).catch(function(e){antd_es_message__WEBPACK_IMPORTED_MODULE_1__.a.error("\u64cd\u4f5c\u5931\u8d25")})},_this}return Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_6__.a)(carPhoTemp,_Component),Object(_Users_demeng_Desktop_ccweb_new_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_3__.a)(carPhoTemp,[{key:"componentDidMount",value:function(){this.handleSearch()}},{key:"render",value:function(){return!lodash__WEBPACK_IMPORTED_MODULE_10___default.a.isEmpty(this.state.data)&&react__WEBPACK_IMPORTED_MODULE_7___default.a.createElement(_View__WEBPACK_IMPORTED_MODULE_9__.a,{data:this.state.data,id:this.state.id,templateName:this.state.templateName})}}]),carPhoTemp}(react__WEBPACK_IMPORTED_MODULE_7__.Component)},778:function(e,t,a){e.exports=a.p+"static/media/logo.039a02eb.png"},780:function(e,t,a){e.exports=a.p+"static/media/logo-blue.781d68ef.png"},785:function(e,t,a){e.exports=a(1786)},92:function(e,t,a){e.exports={container:"style_container__2vI72",column:"style_column__2IKuJ",titleWrapper:"style_titleWrapper__7m1OR",title:"style_title__Y_Uw6",contentWrapper:"style_contentWrapper__2fIbh",cell:"style_cell__3HijF",active:"style_active__1Vsu8",newBtn:"style_newBtn__2x07w",cellWrapper:"style_cellWrapper__1vg_N",delBtn:"style_delBtn__1NC5U"}},96:function(e,t,a){e.exports={container:"style_container__13c_N",title:"style_title__4IQTN",column:"style_column__3hZEP",titleColumn:"style_titleColumn__15rLM",columnBg:"style_columnBg__2D3Sk",content:"style_content__1opkq",levelInner:"style_levelInner__34g3Q",levelWrapper:"style_levelWrapper__2n8MD",cell:"style_cell__3BqgX",regular:"style_regular__1rxt7",warn:"style_warn__5zRT3",point:"style_point__5TO7V",pointLeft:"style_pointLeft__1NgHB",pointRight:"style_pointRight__225nI",line:"style_line__3glNX"}},969:function(e,t,a){},97:function(e,t,a){e.exports={conBar:"style_conBar__SdleK",conflex:"style_conflex__55dfG",radioGroup:"style_radioGroup__voSg5",conitem:"style_conitem__1U_y-",tit:"style_tit__2XyxO",outFlex:"style_outFlex__2T5co"}}},[[785,2,1]]]);
//# sourceMappingURL=main.57edd2e3.chunk.js.map